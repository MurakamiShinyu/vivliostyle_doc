/*
 * Copyright 2013 Google, Inc.
 * Copyright 2015 Vivliostyle Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(function(factory) {
    if (typeof define === "function" && define.amd) {
        // AMD
        define([], factory);
    } else if (typeof module === "object") {
        // Node.js
        var enclosingObject = {};
        module.exports = factory(enclosingObject);
    } else if (typeof exports === "object") {
        // CommonJS
        var enclosingObject = {};
        exports = factory(enclosingObject);
    } else {
        // Attach to the window object
        factory(window);
    }
})(function(enclosingObject) {
    enclosingObject = enclosingObject || {};
    var m,aa=this;function ba(a,b,c){a=a.split(".");c=c||aa;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b}function t(a,b){function c(){}c.prototype=b.prototype;a.Ed=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Gd=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function ca(a){var b=a.match(/^([^#]*)/);return b?b[1]:a}var da=window.location.href;
function ea(a,b){if(!b||a.match(/^\w{2,}:/))return a.toLowerCase().match("^javascript:")?"#":a;b.match(/^\w{2,}:\/\/[^\/]+$/)&&(b+="/");var c;if(a.match(/^\/\//))return(c=b.match(/^(\w{2,}:)\/\//))?c[1]+a:a;if(a.match(/^\//))return(c=b.match(/^(\w{2,}:\/\/[^\/]+)\//))?c[1]+a:a;a.match(/^\.(\/|$)/)&&(a=a.substr(1));c=b;var d=c.match(/^([^#?]*)/);b=d?d[1]:c;if(a.match(/^\#/))return b+a;c=b.lastIndexOf("/");if(0>c)return a;for(d=b.substr(0,c+1)+a;;){c=d.indexOf("/../");if(0>=c)break;var e=d.lastIndexOf("/",
c-1);if(0>=e)break;d=d.substr(0,e)+d.substr(c+3)}return d.replace(/\/(\.\/)+/g,"/")}function fa(a){a=new RegExp("#(.*&)?"+ga(a)+"=([^#&]*)");return(a=window.location.href.match(a))?a[2]:null}function ha(a,b){var c=new RegExp("#(.*&)?"+ga("f")+"=([^#&]*)"),d=a.match(c);return d?(c=d[2].length,d=d.index+d[0].length-c,a.substr(0,d)+b+a.substr(d+c)):a.match(/#/)?a+"&f="+b:a+"#f="+b}function ia(a){return null==a?a:a.toString()}function ja(){this.b=[null]}
ja.prototype.length=function(){return this.b.length-1};function ka(){return la.replace(/-[a-z]/g,function(a){return a.substr(1).toUpperCase()})}var ma="-webkit- -moz- -ms- -o- -epub- ".split(" "),na;
a:{var oa="transform transform-origin hyphens writing-mode text-orientation box-decoration-break column-count column-width column-rule-color column-rule-style column-rule-width font-kerning text-size-adjust line-break tab-size text-align-last text-justify word-break word-wrap text-decoration-color text-decoration-line text-decoration-skip text-decoration-style text-emphasis-color text-emphasis-position text-emphasis-style text-underline-position backface-visibility text-overflow text-combine text-combine-horizontal text-combine-upright text-orientation touch-action".split(" "),pa=
{},qa=document.createElement("span"),ra=qa.style,sa=null;try{if(qa.style.setProperty("-ms-transform-origin","0% 0%"),"0% 0%"==qa.style.getPropertyValue("-ms-transform-origin")){for(var ta=0;ta<oa.length;ta++)pa[oa[ta]]="-ms-"+oa[ta];na=pa;break a}}catch(ua){}for(ta=0;ta<oa.length;ta++){var va=oa[ta],la=null,wa=null;sa&&(la=sa+va,wa=ka());if(!wa||null==ra[wa])for(var xa=0;xa<ma.length&&(sa=ma[xa],la=sa+va,wa=ka(),null==ra[wa]);xa++);null!=ra[wa]&&(pa[va]=la)}na=pa}var ya=na;
function u(a,b,c){try{b=ya[b]||b,"-ms-writing-mode"==b&&"vertical-rl"==c&&(c="tb-rl"),a.style.setProperty(b,c)}catch(d){}}function za(a,b){try{return a.style.getPropertyValue(ya[b]||b)}catch(c){}return""}function Aa(){this.b=[]}Aa.prototype.append=function(a){this.b.push(a);return this};Aa.prototype.toString=function(){var a=this.b.join("");this.b=[a];return a};function Ba(a){return"\\"+a.charCodeAt(0).toString(16)+" "}function Ca(a){return a.replace(/[^-_a-zA-Z0-9\u0080-\uFFFF]/g,Ba)}
function Da(a){return a.replace(/[\u0000-\u001F"]/g,Ba)}function Ea(a){return a.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent)}function Fa(a){return!!a.match(/^[a-zA-Z\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u024F\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]$/)}function Ga(a){return"\\u"+(65536|a.charCodeAt(0)).toString(16).substr(1)}function ga(a){return a.replace(/[^-a-zA-Z0-9_]/g,Ga)}function v(a){window.console&&window.console.log&&window.console.log(a)}
function Ha(a){if(!a)throw"Assert failed";}function Ia(a,b){for(var c=0,d=a;;){Ha(c<=d);Ha(0==c||!b(c-1));Ha(d==a||b(d));if(c==d)return c;var e=c+d>>1;b(e)?d=e:c=e+1}}function Ja(a,b){return a-b}function Ka(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],f=b(e);f&&!c[f]&&(c[f]=e)}return c}var La={};function Ma(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],f=b(e);f&&(c[f]?c[f].push(e):c[f]=[e])}return c}function Na(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]=b(a[d],d);return c}
function Oa(a,b){var c={},d;for(d in a)c[d]=b(a[d],d);return c}function Pa(){this.b={}}Pa.prototype.addEventListener=function(a,b,c){c||((c=this.b[a])?c.push(b):this.b[a]=[b])};Pa.prototype.removeEventListener=function(a,b,c){!c&&(a=this.b[a])&&(b=a.indexOf(b),0<=b&&a.splice(b,0))};var Qa=null;
function Ra(a){if(null==Qa){var b=a.ownerDocument,c=b.createElement("div");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width="100px";c.style.height="100px";c.style.overflow="hidden";c.style.lineHeight="16px";c.style.fontSize="16px";a.appendChild(c);var d=b.createElement("div");d.style.width="0px";d.style.height="14px";d.style.cssFloat="left";c.appendChild(d);d=b.createElement("div");d.style.width="50px";d.style.height="50px";d.style.cssFloat="left";d.style.clear="left";
c.appendChild(d);d=b.createTextNode("a a a a a a a a a a a a a a a a");c.appendChild(d);b=b.createRange();b.setStart(d,0);b.setEnd(d,1);Qa=40>b.getBoundingClientRect().left;a.removeChild(c)}return Qa}var Sa=null;function Ta(a){return 1==a.nodeType&&(a=a.getAttribute("id"))&&a.match(/^[-a-zA-Z_0-9.\u007F-\uFFFF]+$/)?a:null}function Ua(a){return"^"+a}function Wa(a){return a.substr(1)}function Xa(a){return a?a.replace(/\^[\[\]\(\),=;^]/g,Wa):a}
function Ya(a){for(var b={};a;){var c=a.match(/^;([^;=]+)=(([^;]|\^;)*)/);if(!c)break;var d=c[1],e;a:{e=c[2];var f=[];do{var g=e.match(/^(\^,|[^,])*/),h=Xa(g[0]);e=e.substr(g[0].length+1);if(!e&&!f.length){e=h;break a}f.push(h)}while(e);e=f}b[d]=e;a=a.substr(c[0].length)}return b}function Za(){}Za.prototype.e=function(a){a.append("!")};Za.prototype.f=function(){return!1};function $a(a,b,c){this.b=a;this.id=b;this.Ma=c}
$a.prototype.e=function(a){a.append("/");a.append(this.b.toString());if(this.id||this.Ma)a.append("["),this.id&&a.append(this.id),this.Ma&&(a.append(";s="),a.append(this.Ma)),a.append("]")};
$a.prototype.f=function(a){if(1!=a.va.nodeType)throw Error("E_CFI_NOT_ELEMENT");var b=a.va,c=b.children,d=c.length,e=Math.floor(this.b/2)-1;0>e||0==d?(c=b.firstChild,a.va=c||b):(c=c[Math.min(e,d-1)],this.b&1&&((b=c.nextSibling)&&1!=b.nodeType?c=b:a.H=!0),a.va=c);if(this.id&&(a.H||this.id!=Ta(a.va)))throw Error("E_CFI_ID_MISMATCH");a.Ma=this.Ma;return!0};function ab(a,b,c,d){this.offset=a;this.d=b;this.b=c;this.Ma=d}
ab.prototype.f=function(a){if(0<this.offset&&!a.H){for(var b=this.offset,c=a.va;;){var d=c.nodeType;if(1==d)break;var e=c.nextSibling;if(3<=d&&5>=d){d=c.textContent.length;if(b<=d)break;if(!e){b=d;break}b-=d}if(!e){b=0;break}c=e}a.va=c;a.offset=b}a.Ma=this.Ma;return!0};
ab.prototype.e=function(a){a.append(":");a.append(this.offset.toString());if(this.d||this.b||this.Ma){a.append("[");if(this.d||this.b)this.d&&a.append(this.d.replace(/[\[\]\(\),=;^]/g,Ua)),a.append(","),this.b&&a.append(this.b.replace(/[\[\]\(\),=;^]/g,Ua));this.Ma&&(a.append(";s="),a.append(this.Ma));a.append("]")}};function bb(){this.ja=null}
function cb(a,b){var c=b.match(/^#?epubcfi\((.*)\)$/);if(!c)throw Error("E_CFI_NOT_CFI");for(var d=c[1],e=0,f=[];;)switch(d.charAt(e)){case "/":e++;c=d.substr(e).match(/^(0|[1-9][0-9]*)(\[([-a-zA-Z_0-9.\u007F-\uFFFF]+)(;([^\]]|\^\])*)?\])?/);if(!c)throw Error("E_CFI_NUMBER_EXPECTED");var e=e+c[0].length,g=parseInt(c[1],10),h=c[3],c=Ya(c[4]);f.push(new $a(g,h,ia(c.s)));break;case ":":e++;c=d.substr(e).match(/^(0|[1-9][0-9]*)(\[((([^\];,]|\^[\];,])*)(,(([^\];,]|\^[\];,])*))?)(;([^]]|\^\])*)?\])?/);
if(!c)throw Error("E_CFI_NUMBER_EXPECTED");e+=c[0].length;g=parseInt(c[1],10);(h=c[4])&&(h=Xa(h));var k=c[7];k&&(k=Xa(k));c=Ya(c[10]);f.push(new ab(g,h,k,ia(c.s)));break;case "!":e++;f.push(new Za);break;case "~":case "@":case "":a.ja=f;return;default:throw Error("E_CFI_PARSE_ERROR");}}function db(a,b){for(var c={va:b.documentElement,offset:0,H:!1,Ma:null,Ab:null},d=0;d<a.ja.length;d++)if(!a.ja[d].f(c)){++d<a.ja.length&&(c.Ab=new bb,c.Ab.ja=a.ja.slice(d));break}return c}
function eb(a,b){return a.replace(/\s+/g," ").match(b?/^[ -\uD7FF\uE000-\uFFFF]{0,8}/:/[ -\uD7FF\uE000-\uFFFF]{0,8}$/)[0].replace(/^\s/,"").replace(/\s$/,"")}
function fb(a,b,c){for(var d=!1,e=null,f=[],g=b.parentNode,h="",k="";b;){switch(b.nodeType){case 3:case 4:case 5:var l=b.textContent,n=l.length;d?(c+=n,h||(h=l)):(c>n&&(c=n),d=!0,h=l.substr(0,c),k=l.substr(c));b=b.previousSibling;continue;case 8:b=b.previousSibling;continue}break}if(0<c||h||k)h=eb(h,!1),k=eb(k,!0),f.push(new ab(c,h,k,e)),e=null;for(;g&&g&&9!=g.nodeType;){c=d?null:Ta(b);for(d=d?1:0;b;)1==b.nodeType&&(d+=2),b=b.previousSibling;f.push(new $a(d,c,e));e=null;b=g;g=g.parentNode;d=!1}f.reverse();
a.ja?(f.push(new Za),a.ja=f.concat(a.ja)):a.ja=f}bb.prototype.toString=function(){if(!this.ja)return"";var a=new Aa;a.append("epubcfi(");for(var b=0;b<this.ja.length;b++)this.ja[b].e(a);a.append(")");return a.toString()};function gb(a){a=a.substr(1);if(a.match(/^[^0-9a-fA-F\n\r]$/))return a;a=parseInt(a,16);return isNaN(a)?"":65535>=a?String.fromCharCode(a):1114111>=a?String.fromCharCode(55296|a>>10&1023,56320|a&1023):"\ufffd"}function hb(a){return a.replace(/\\([0-9a-fA-F]{0,6}(\r\n|[ \n\r\t\f])?|[^0-9a-fA-F\n\r])/g,gb)}function ib(){this.type=0;this.b=!1;this.B=0;this.text="";this.position=0}
function jb(a,b){var c=Array(128),d;for(d=0;128>d;d++)c[d]=a;c[NaN]=35==a?35:72;for(d=0;d<b.length;d+=2)c[b[d]]=b[d+1];return c}var kb=[72,72,72,72,72,72,72,72,72,1,1,72,1,1,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,1,4,34,6,7,8,9,33,10,11,12,13,14,15,16,17,2,2,2,2,2,2,2,2,2,2,18,19,20,21,22,23,24,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,25,29,26,30,3,72,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,27,31,28,32,72];kb[NaN]=80;
var lb=[43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,52,43,43,43,43,39,43,43,39,39,39,39,39,39,39,39,39,39,43,43,43,43,43,43,43,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,43,44,43,43,39,43,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,43,43,43,43,43];lb[NaN]=43;
var mb=[72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,78,59,72,59,59,59,59,59,59,59,59,59,59,72,72,72,72,72,72,72,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,72,61,72,72,78,72,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,72,72,72,72,72];lb[NaN]=43;
var nb=[35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,57,59,35,58,58,58,58,58,58,58,58,58,58,35,35,35,35,35,35,35,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,35,61,35,35,60,35,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,35,35,35,35,35];nb[NaN]=35;
var ob=[45,45,45,45,45,45,45,45,45,73,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,73,45,45,45,45,45,45,45,53,45,45,45,45,45,45,45,39,39,39,39,39,39,39,39,39,39,45,45,45,45,45,45,45,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,45,44,45,45,39,45,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,45,45,45,45,45];ob[NaN]=45;
var pb=[37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,41,37,37,37,37,37,37,37,37,42,37,39,39,39,39,39,39,39,39,39,39,37,37,37,37,37,37,37,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,37,37,37,37,40,37,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,37,37,37,37,37];pb[NaN]=37;
var qb=[38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,41,38,38,38,38,38,38,38,38,38,38,39,39,39,39,39,39,39,39,39,39,38,38,38,38,38,38,38,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,38,38,38,38,40,38,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,38,38,38,38,38];qb[NaN]=38;
var rb=jb(35,[61,36]),sb=jb(35,[58,77]),tb=jb(35,[61,36,124,50]),ub=jb(35,[38,51]),vb=jb(35,[42,54]),wb=jb(39,[42,55]),xb=jb(54,[42,55,47,56]),yb=jb(62,[62,56]),zb=jb(35,[61,36,33,70]),Ab=jb(62,[45,71]),Bb=jb(63,[45,56]),Cb=jb(76,[9,72,10,72,13,72,32,72]),Db=jb(39,[39,46,10,72,13,72,92,48]),Eb=jb(39,[34,46,10,72,13,72,92,49]),Fb=jb(39,[39,47,10,74,13,74,92,48]),Gb=jb(39,[34,47,10,74,13,74,92,49]),Hb=jb(64,[9,39,32,39,34,66,39,65,41,72,10,39,13,39]),Ib=jb(39,[41,67,9,79,10,79,13,79,32,79,92,75,40,
72,91,72,93,72,123,72,125,72,NaN,67]),Jb=jb(39,[39,68,10,74,13,74,92,75,NaN,67]),Kb=jb(39,[34,68,10,74,13,74,92,75,NaN,67]),Lb=jb(72,[9,39,10,39,13,39,32,39,41,69]);function Mb(a){this.e=15;this.h=a;this.g=Array(this.e+1);this.b=-1;for(a=this.position=this.d=this.f=0;a<=this.e;a++)this.g[a]=new ib}function w(a){a.f==a.d&&Nb(a);return a.g[a.d]}function z(a,b){(a.f-a.d&a.e)<=b&&Nb(a);return a.g[a.d+b&a.e]}function A(a){a.d=a.d+1&a.e}
function Nb(a){var b=a.f,c=0<=a.b?a.b:a.d,d=a.e;b>=c?c+=d:c--;if(c==b){if(0>a.b)throw Error("F_CSSTOK_INTERNAL");for(var b=2*(a.e+1)-1,c=Array(b+1),d=a.b,e=0;d!=a.f;)c[e]=a.g[d],d==a.d&&(a.d=e),d=d+1&a.e,e++;a.b=0;a.f=e;a.e=b;for(a.g=c;e<=b;)c[e++]=new ib;b=a.f;c=d=a.e}for(var e=kb,f=a.h,g=a.position,h=a.g,k=0,l=0,n="",p=0,r=!1,q=h[b],y=-9;;){var x=f.charCodeAt(g);switch(e[x]||e[65]){case 72:k=51;n=isNaN(x)?"E_CSS_UNEXPECTED_EOF":"E_CSS_UNEXPECTED_CHAR";g++;break;case 1:g++;r=!0;continue;case 2:l=
g++;e=pb;continue;case 3:k=1;l=g++;e=lb;continue;case 4:l=g++;k=31;e=rb;continue;case 33:k=2;l=++g;e=Db;continue;case 34:k=2;l=++g;e=Eb;continue;case 6:l=++g;k=7;e=lb;continue;case 7:l=g++;k=32;e=rb;continue;case 8:l=g++;k=21;break;case 9:l=g++;k=32;e=ub;continue;case 10:l=g++;k=10;break;case 11:l=g++;k=11;break;case 12:l=g++;k=36;e=rb;continue;case 13:l=g++;k=23;break;case 14:l=g++;k=16;break;case 15:k=24;l=g++;e=nb;continue;case 16:l=g++;e=mb;continue;case 78:l=g++;k=9;e=lb;continue;case 17:l=g++;
k=19;e=vb;continue;case 18:l=g++;k=18;e=sb;continue;case 77:g++;k=50;break;case 19:l=g++;k=17;break;case 20:l=g++;k=38;e=zb;continue;case 21:l=g++;k=39;e=rb;continue;case 22:l=g++;k=37;e=rb;continue;case 23:l=g++;k=22;break;case 24:l=++g;k=20;e=lb;continue;case 25:l=g++;k=14;break;case 26:l=g++;k=15;break;case 27:l=g++;k=12;break;case 28:l=g++;k=13;break;case 29:y=l=g++;k=1;e=Cb;continue;case 30:l=g++;k=33;e=rb;continue;case 31:l=g++;k=34;e=tb;continue;case 32:l=g++;k=35;e=rb;continue;case 35:break;
case 36:g++;k=k+41-31;break;case 37:k=5;p=parseInt(f.substring(l,g),10);break;case 38:k=4;p=parseFloat(f.substring(l,g));break;case 39:g++;continue;case 40:k=3;p=parseFloat(f.substring(l,g));l=g++;e=lb;continue;case 41:k=3;p=parseFloat(f.substring(l,g));n="%";l=g++;break;case 42:g++;e=qb;continue;case 43:n=f.substring(l,g);break;case 44:y=g++;e=Cb;continue;case 45:n=hb(f.substring(l,g));break;case 46:n=f.substring(l,g);g++;break;case 47:n=hb(f.substring(l,g));g++;break;case 48:y=g;g+=2;e=Fb;continue;
case 49:y=g;g+=2;e=Gb;continue;case 50:g++;k=25;break;case 51:g++;k=26;break;case 52:n=f.substring(l,g);if(1==k){g++;if("url"==n.toLowerCase()){e=Hb;continue}k=6}break;case 53:n=hb(f.substring(l,g));if(1==k){g++;if("url"==n.toLowerCase()){e=Hb;continue}k=6}break;case 54:e=wb;g++;continue;case 55:e=xb;g++;continue;case 56:e=kb;g++;continue;case 57:e=yb;g++;continue;case 58:k=5;e=pb;g++;continue;case 59:k=4;e=qb;g++;continue;case 60:k=1;e=lb;g++;continue;case 61:k=1;e=Cb;y=g++;continue;case 62:g--;
break;case 63:g-=2;break;case 64:l=g++;e=Ib;continue;case 65:l=++g;e=Jb;continue;case 66:l=++g;e=Kb;continue;case 67:k=8;n=hb(f.substring(l,g));g++;break;case 69:g++;break;case 70:e=Ab;g++;continue;case 71:e=Bb;g++;continue;case 79:if(8>g-y&&f.substring(y+1,g+1).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])|[ \t]$/)){g++;continue}case 68:k=8;n=hb(f.substring(l,g));g++;e=Lb;continue;case 74:g++;if(9>g-y&&f.substring(y+1,g).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])$/))continue;k=51;n="E_CSS_UNEXPECTED_NEWLINE";
break;case 73:if(9>g-y&&f.substring(y+1,g+1).match(/^[0-9a-fA-F]{0,6}[ \t]$/)){g++;continue}n=hb(f.substring(l,g));break;case 75:y=g++;continue;case 76:g++;e=ob;continue;default:if(e!==kb){k=51;n="E_CSS_UNEXPECTED_STATE";break}l=g;k=0}q.type=k;q.b=r;q.B=p;q.text=n;q.position=l;b++;if(b>=c)break;e=kb;r=!1;q=h[b&d]}a.position=g;a.f=b&d};function Ob(){return{fontFamily:"serif",lineHeight:1.25,margin:8,vc:!0,oc:25,tc:!1,Cc:!1,Ya:!1,Ec:1}}function Pb(a){return{fontFamily:a.fontFamily,lineHeight:a.lineHeight,margin:a.margin,vc:a.vc,oc:a.oc,tc:a.tc,Cc:a.Cc,Ya:a.Ya,Ec:a.Ec}}var Qb=Ob(),Rb={};function Sb(a,b,c,d){var e=Math.min((a-0)/c,(b-0)/d);return"matrix("+e+",0,0,"+e+","+(a-c)/2+","+(b-d)/2+")"}function Tb(a){return'"'+Da(a+"")+'"'}function Ub(a){return Ca(a+"")}function Vb(a,b){return a?Ca(a)+"."+Ca(b):Ca(b)}var Wb=0;
function Xb(a,b){this.parent=a;this.j="S"+Wb++;this.children=[];this.b=new Yb(this,0);this.d=new Yb(this,1);this.g=new Yb(this,!0);this.f=new Yb(this,!1);a&&a.children.push(this);this.values={};this.l={};this.k={};this.h=b;if(!a){var c=this.k;c.floor=Math.floor;c.ceil=Math.ceil;c.round=Math.round;c.sqrt=Math.sqrt;c.min=Math.min;c.max=Math.max;c.letterbox=Sb;c["css-string"]=Tb;c["css-name"]=Ub;c["typeof"]=function(a){return typeof a};Zb(this,"page-width",function(){return this.k()});Zb(this,"page-height",
function(){return this.j()});Zb(this,"pref-font-family",function(){return this.U.fontFamily});Zb(this,"pref-night-mode",function(){return this.U.Cc});Zb(this,"pref-hyphenate",function(){return this.U.vc});Zb(this,"pref-margin",function(){return this.U.margin});Zb(this,"pref-line-height",function(){return this.U.lineHeight});Zb(this,"pref-column-width",function(){return this.U.oc*this.fontSize});Zb(this,"pref-horizontal",function(){return this.U.tc});Zb(this,"pref-spread-view",function(){return this.U.Ya})}}
function Zb(a,b,c){a.values[b]=new $b(a,c,b)}function ac(a,b){a.values["page-number"]=b}function bc(a,b){a.k["has-content"]=b}var cc={px:1,"in":96,pt:4/3,pc:16,cm:96/2.54,mm:96/25.4,q:96/2.54/40,em:16,rem:16,ex:8,rex:8};function dc(a,b,c,d){this.u=null;this.k=function(){return this.u?this.u:this.U.Ya?Math.floor(b/2)-this.U.Ec:b};this.l=null;this.j=function(){return this.l?this.l:c};this.fontSize=d;this.U=Qb;this.A={}}
function ec(a,b){a.A[b.j]={};for(var c=0;c<b.children.length;c++)ec(a,b.children[c])}function fc(a,b){return"vw"==b?a.k()/100:"vh"==b?a.j()/100:"em"==b||"rem"==b?a.fontSize:"ex"==b||"rex"==b?cc.ex*a.fontSize/cc.em:cc[b]}function gc(a,b,c){do{var d=b.values[c];if(d||b.h&&(d=b.h.call(a,c,!1)))return d;b=b.parent}while(b);throw Error("Name '"+c+"' is undefined");}
function hc(a,b,c,d,e){do{var f=b.l[c];if(f||b.h&&(f=b.h.call(a,c,!0)))return f;if(f=b.k[c]){if(e)return b.b;c=Array(d.length);for(e=0;e<d.length;e++)c[e]=d[e].evaluate(a);return new Yb(b,f.apply(a,c))}b=b.parent}while(b);throw Error("Function '"+c+"' is undefined");}
function ic(a,b,c){var d="",e=b.match(/^(min|max)-(.*)$/);e&&(d=e[1],b=e[2]);var f=e=null;switch(b){case "width":case "height":case "device-width":case "device-height":case "color":c&&(e=c.evaluate(a))}switch(b){case "width":f=a.k();break;case "height":f=a.j();break;case "device-width":f=window.screen.availWidth;break;case "device-height":f=window.screen.availHeight;break;case "color":f=window.screen.pixelDepth}if(null!=f&&null!=e)switch(d){case "min":return f>=e;case "max":return f<=e;default:return f==
e}return!1}function B(a){this.b=a;this.f="_"+Wb++}m=B.prototype;m.toString=function(){var a=new Aa;this.fa(a,0);return a.toString()};m.fa=function(){throw Error("F_ABSTRACT");};m.Ca=function(){throw Error("F_ABSTRACT");};m.xa=function(){return this};m.jb=function(a){return a===this};function jc(a,b,c,d){var e=d[a.f];if(null!=e)return e===Rb?!1:e;d[a.f]=Rb;b=a.jb(b,c,d);return d[a.f]=b}
m.evaluate=function(a){var b;b=(b=a.A[this.b.j])?b[this.f]:void 0;if("undefined"!=typeof b)return b;b=this.Ca(a);var c=this.f,d=this.b,e=a.A[d.j];e||(e={},a.A[d.j]=e);return e[c]=b};m.ld=function(){return!1};function kc(a,b){B.call(this,a);this.d=b}t(kc,B);m=kc.prototype;m.Qc=function(){throw Error("F_ABSTRACT");};m.Sc=function(){throw Error("F_ABSTRACT");};m.Ca=function(a){a=this.d.evaluate(a);return this.Sc(a)};m.jb=function(a,b,c){return a===this||jc(this.d,a,b,c)};
m.fa=function(a,b){10<b&&a.append("(");a.append(this.Qc());this.d.fa(a,10);10<b&&a.append(")")};m.xa=function(a,b){var c=this.d.xa(a,b);return c===this.d?this:new this.constructor(this.b,c)};function D(a,b,c){B.call(this,a);this.d=b;this.e=c}t(D,B);m=D.prototype;m.Mb=function(){throw Error("F_ABSTRACT");};m.ua=function(){throw Error("F_ABSTRACT");};m.Ka=function(){throw Error("F_ABSTRACT");};m.Ca=function(a){var b=this.d.evaluate(a);a=this.e.evaluate(a);return this.Ka(b,a)};
m.jb=function(a,b,c){return a===this||jc(this.d,a,b,c)||jc(this.e,a,b,c)};m.fa=function(a,b){var c=this.Mb();c<=b&&a.append("(");this.d.fa(a,c);a.append(this.ua());this.e.fa(a,c);c<=b&&a.append(")")};m.xa=function(a,b){var c=this.d.xa(a,b),d=this.e.xa(a,b);return c===this.d&&d===this.e?this:new this.constructor(this.b,c,d)};function lc(a,b,c){D.call(this,a,b,c)}t(lc,D);lc.prototype.Mb=function(){return 1};function mc(a,b,c){D.call(this,a,b,c)}t(mc,D);mc.prototype.Mb=function(){return 2};
function nc(a,b,c){D.call(this,a,b,c)}t(nc,D);nc.prototype.Mb=function(){return 3};function oc(a,b,c){D.call(this,a,b,c)}t(oc,D);oc.prototype.Mb=function(){return 4};function pc(a,b){kc.call(this,a,b)}t(pc,kc);pc.prototype.Qc=function(){return"!"};pc.prototype.Sc=function(a){return!a};function qc(a,b){kc.call(this,a,b)}t(qc,kc);qc.prototype.Qc=function(){return"-"};qc.prototype.Sc=function(a){return-a};function rc(a,b,c){D.call(this,a,b,c)}t(rc,lc);rc.prototype.ua=function(){return"&&"};
rc.prototype.Ca=function(a){return this.d.evaluate(a)&&this.e.evaluate(a)};function sc(a,b,c){D.call(this,a,b,c)}t(sc,rc);sc.prototype.ua=function(){return" and "};function tc(a,b,c){D.call(this,a,b,c)}t(tc,lc);tc.prototype.ua=function(){return"||"};tc.prototype.Ca=function(a){return this.d.evaluate(a)||this.e.evaluate(a)};function uc(a,b,c){D.call(this,a,b,c)}t(uc,tc);uc.prototype.ua=function(){return", "};function vc(a,b,c){D.call(this,a,b,c)}t(vc,mc);vc.prototype.ua=function(){return"<"};
vc.prototype.Ka=function(a,b){return a<b};function wc(a,b,c){D.call(this,a,b,c)}t(wc,mc);wc.prototype.ua=function(){return"<="};wc.prototype.Ka=function(a,b){return a<=b};function xc(a,b,c){D.call(this,a,b,c)}t(xc,mc);xc.prototype.ua=function(){return">"};xc.prototype.Ka=function(a,b){return a>b};function yc(a,b,c){D.call(this,a,b,c)}t(yc,mc);yc.prototype.ua=function(){return">="};yc.prototype.Ka=function(a,b){return a>=b};function zc(a,b,c){D.call(this,a,b,c)}t(zc,mc);zc.prototype.ua=function(){return"=="};
zc.prototype.Ka=function(a,b){return a==b};function Ac(a,b,c){D.call(this,a,b,c)}t(Ac,mc);Ac.prototype.ua=function(){return"!="};Ac.prototype.Ka=function(a,b){return a!=b};function Bc(a,b,c){D.call(this,a,b,c)}t(Bc,nc);Bc.prototype.ua=function(){return"+"};Bc.prototype.Ka=function(a,b){return a+b};function Cc(a,b,c){D.call(this,a,b,c)}t(Cc,nc);Cc.prototype.ua=function(){return" - "};Cc.prototype.Ka=function(a,b){return a-b};function Dc(a,b,c){D.call(this,a,b,c)}t(Dc,oc);Dc.prototype.ua=function(){return"*"};
Dc.prototype.Ka=function(a,b){return a*b};function Ec(a,b,c){D.call(this,a,b,c)}t(Ec,oc);Ec.prototype.ua=function(){return"/"};Ec.prototype.Ka=function(a,b){return a/b};function Fc(a,b,c){D.call(this,a,b,c)}t(Fc,oc);Fc.prototype.ua=function(){return"%"};Fc.prototype.Ka=function(a,b){return a%b};function Gc(a,b,c){B.call(this,a);this.B=b;this.d=c}t(Gc,B);Gc.prototype.fa=function(a){a.append(this.B.toString());a.append(Ca(this.d))};Gc.prototype.Ca=function(a){return this.B*fc(a,this.d)};
function Hc(a,b){B.call(this,a);this.d=b}t(Hc,B);Hc.prototype.fa=function(a){a.append(this.d)};Hc.prototype.Ca=function(a){return gc(a,this.b,this.d).evaluate(a)};Hc.prototype.jb=function(a,b,c){return a===this||jc(gc(b,this.b,this.d),a,b,c)};function Ic(a,b,c){B.call(this,a);this.d=b;this.name=c}t(Ic,B);Ic.prototype.fa=function(a){this.d&&a.append("not ");a.append(Ca(this.name))};Ic.prototype.Ca=function(){return!0};Ic.prototype.ld=function(){return!0};
function $b(a,b,c){B.call(this,a);this.kb=b;this.d=c}t($b,B);$b.prototype.fa=function(a){a.append(this.d)};$b.prototype.Ca=function(a){return this.kb.call(a)};function Jc(a,b,c){B.call(this,a);this.e=b;this.d=c}t(Jc,B);Jc.prototype.fa=function(a){a.append(this.e);var b=this.d;a.append("(");for(var c=0;c<b.length;c++)c&&a.append(","),b[c].fa(a,0);a.append(")")};Jc.prototype.Ca=function(a){return hc(a,this.b,this.e,this.d,!1).xa(a,this.d).evaluate(a)};
Jc.prototype.jb=function(a,b,c){if(a===this)return!0;for(var d=0;d<this.d.length;d++)if(jc(this.d[d],a,b,c))return!0;return jc(hc(b,this.b,this.e,this.d,!0),a,b,c)};Jc.prototype.xa=function(a,b){for(var c,d=c=this.d,e=0;e<c.length;e++){var f=c[e].xa(a,b);if(c!==d)d[e]=f;else if(f!==c[e]){for(var d=Array(c.length),g=0;g<e;g++)d[g]=c[g];d[e]=f}}c=d;return c===this.d?this:new Jc(this.b,this.e,c)};function Kc(a,b,c,d){B.call(this,a);this.d=b;this.g=c;this.e=d}t(Kc,B);
Kc.prototype.fa=function(a,b){0<b&&a.append("(");this.d.fa(a,0);a.append("?");this.g.fa(a,0);a.append(":");this.e.fa(a,0);0<b&&a.append(")")};Kc.prototype.Ca=function(a){return this.d.evaluate(a)?this.g.evaluate(a):this.e.evaluate(a)};Kc.prototype.jb=function(a,b,c){return a===this||jc(this.d,a,b,c)||jc(this.g,a,b,c)||jc(this.e,a,b,c)};Kc.prototype.xa=function(a,b){var c=this.d.xa(a,b),d=this.g.xa(a,b),e=this.e.xa(a,b);return c===this.d&&d===this.g&&e===this.e?this:new Kc(this.b,c,d,e)};
function Yb(a,b){B.call(this,a);this.d=b}t(Yb,B);Yb.prototype.fa=function(a){switch(typeof this.d){case "number":case "boolean":a.append(this.d.toString());break;case "string":a.append('"');a.append(Da(this.d));a.append('"');break;default:throw Error("F_UNEXPECTED_STATE");}};Yb.prototype.Ca=function(){return this.d};function Lc(a,b,c){B.call(this,a);this.name=b;this.value=c}t(Lc,B);Lc.prototype.fa=function(a){a.append("(");a.append(Da(this.name.name));a.append(":");this.value.fa(a,0);a.append(")")};
Lc.prototype.Ca=function(a){return ic(a,this.name.name,this.value)};Lc.prototype.jb=function(a,b,c){return a===this||jc(this.value,a,b,c)};Lc.prototype.xa=function(a,b){var c=this.value.xa(a,b);return c===this.value?this:new Lc(this.b,this.name,c)};function Mc(a,b){B.call(this,a);this.d=b}t(Mc,B);Mc.prototype.fa=function(a){a.append("$");a.append(this.d.toString())};Mc.prototype.xa=function(a,b){var c=b[this.d];if(!c)throw Error("Parameter missing: "+this.d);return c};
function Nc(a,b,c){return b===a.f||b===a.b||c==a.f||c==a.b?a.f:b===a.g||b===a.d?c:c===a.g||c===a.d?b:new rc(a,b,c)}function E(a,b,c){return b===a.b?c:c===a.b?b:new Bc(a,b,c)}function F(a,b,c){return b===a.b?new qc(a,c):c===a.b?b:new Cc(a,b,c)}function Oc(a,b,c){return b===a.b||c===a.b?a.b:b===a.d?c:c===a.d?b:new Dc(a,b,c)}function Pc(a,b,c){return b===a.b?a.b:c===a.d?b:new Ec(a,b,c)};var Qc={};function Rc(){}m=Rc.prototype;m.Ta=function(a){for(var b=0;b<a.length;b++)a[b].L(this)};m.Kc=function(){throw Error("E_CSS_EMPTY_NOT_ALLOWED");};m.Lc=function(){throw Error("E_CSS_SLASH_NOT_ALLOWED");};m.Gb=function(){throw Error("E_CSS_STR_NOT_ALLOWED");};m.bb=function(){throw Error("E_CSS_IDENT_NOT_ALLOWED");};m.rb=function(){throw Error("E_CSS_NUMERIC_NOT_ALLOWED");};m.qb=function(){throw Error("E_CSS_NUM_NOT_ALLOWED");};m.pb=function(a){return this.qb(a)};
m.ec=function(){throw Error("E_CSS_COLOR_NOT_ALLOWED");};m.sb=function(){throw Error("E_CSS_URL_NOT_ALLOWED");};m.Na=function(){throw Error("E_CSS_LIST_NOT_ALLOWED");};m.$a=function(){throw Error("E_CSS_COMMA_NOT_ALLOWED");};m.ab=function(){throw Error("E_CSS_FUNC_NOT_ALLOWED");};m.ob=function(){throw Error("E_CSS_EXPR_NOT_ALLOWED");};function Sc(){}t(Sc,Rc);m=Sc.prototype;
m.Ta=function(a){for(var b=null,c=0;c<a.length;c++){var d=a[c],e=d.L(this);if(b)b[c]=e;else if(d!==e){b=Array(a.length);for(d=0;d<c;d++)b[d]=a[d];b[c]=e}}return b||a};m.Gb=function(a){return a};m.bb=function(a){return a};m.Lc=function(a){return a};m.rb=function(a){return a};m.qb=function(a){return a};m.pb=function(a){return a};m.ec=function(a){return a};m.sb=function(a){return a};m.Na=function(a){var b=this.Ta(a.values);return b===a.values?a:new Tc(b)};
m.$a=function(a){var b=this.Ta(a.values);return b===a.values?a:new Uc(b)};m.ab=function(a){var b=this.Ta(a.values);return b===a.values?a:new Vc(a.name,b)};m.ob=function(a){return a};function Wc(){}m=Wc.prototype;m.toString=function(){var a=new Aa;this.qa(a,!0);return a.toString()};m.stringValue=function(){var a=new Aa;this.qa(a,!1);return a.toString()};m.ca=function(){throw Error("F_ABSTRACT");};m.qa=function(a){a.append("[error]")};m.Uc=function(){return!1};m.Wc=function(){return!1};m.Vc=function(){return!1};
m.kd=function(){return!1};m.md=function(){return!1};function Xc(){if(G)throw Error("E_INVALID_CALL");}t(Xc,Wc);Xc.prototype.ca=function(a){return new Yb(a,"")};Xc.prototype.qa=function(){};Xc.prototype.L=function(a){return a.Kc(this)};var G=new Xc;function Yc(){if(Zc)throw Error("E_INVALID_CALL");}t(Yc,Wc);Yc.prototype.ca=function(a){return new Yb(a,"/")};Yc.prototype.qa=function(a){a.append("/")};Yc.prototype.L=function(a){return a.Lc(this)};var Zc=new Yc;function $c(a){this.d=a}t($c,Wc);
$c.prototype.ca=function(a){return new Yb(a,this.d)};$c.prototype.qa=function(a,b){b?(a.append('"'),a.append(Da(this.d)),a.append('"')):a.append(this.d)};$c.prototype.L=function(a){return a.Gb(this)};function ad(a){this.name=a;if(Qc[a])throw Error("E_INVALID_CALL");Qc[a]=this}t(ad,Wc);ad.prototype.ca=function(a){return new Yb(a,this.name)};ad.prototype.qa=function(a,b){b?a.append(Ca(this.name)):a.append(this.name)};ad.prototype.L=function(a){return a.bb(this)};ad.prototype.kd=function(){return!0};
function H(a){var b=Qc[a];b||(b=new ad(a));return b}function K(a,b){this.B=a;this.b=b}t(K,Wc);K.prototype.ca=function(a,b){return 0==this.B?a.b:b&&"%"==this.b?100==this.B?b:new Dc(a,b,new Yb(a,this.B/100)):new Gc(a,this.B,this.b)};K.prototype.qa=function(a){a.append(this.B.toString());a.append(this.b)};K.prototype.L=function(a){return a.rb(this)};K.prototype.Wc=function(){return!0};function bd(a){this.B=a}t(bd,Wc);bd.prototype.ca=function(a){return 0==this.B?a.b:1==this.B?a.d:new Yb(a,this.B)};
bd.prototype.qa=function(a){a.append(this.B.toString())};bd.prototype.L=function(a){return a.qb(this)};bd.prototype.Vc=function(){return!0};function cd(a){this.B=a}t(cd,bd);cd.prototype.L=function(a){return a.pb(this)};function dd(a){this.d=a}t(dd,Wc);dd.prototype.qa=function(a){a.append("#");var b=this.d.toString(16);a.append("000000".substr(b.length));a.append(b)};dd.prototype.L=function(a){return a.ec(this)};function ed(a){this.url=a}t(ed,Wc);
ed.prototype.qa=function(a){a.append('url("');a.append(Da(this.url));a.append('")')};ed.prototype.L=function(a){return a.sb(this)};function fd(a,b,c,d){var e=b.length;b[0].qa(a,d);for(var f=1;f<e;f++)a.append(c),b[f].qa(a,d)}function Tc(a){this.values=a}t(Tc,Wc);Tc.prototype.qa=function(a,b){fd(a,this.values," ",b)};Tc.prototype.L=function(a){return a.Na(this)};Tc.prototype.md=function(){return!0};function Uc(a){this.values=a}t(Uc,Wc);Uc.prototype.qa=function(a,b){fd(a,this.values,",",b)};
Uc.prototype.L=function(a){return a.$a(this)};function Vc(a,b){this.name=a;this.values=b}t(Vc,Wc);Vc.prototype.qa=function(a,b){a.append(Ca(this.name));a.append("(");fd(a,this.values,",",b);a.append(")")};Vc.prototype.L=function(a){return a.ab(this)};function L(a){this.e=a}t(L,Wc);L.prototype.ca=function(){return this.e};L.prototype.qa=function(a){a.append("-epubx-expr(");this.e.fa(a,0);a.append(")")};L.prototype.L=function(a){return a.ob(this)};L.prototype.Uc=function(){return!0};
function gd(a,b){if(a){if(a.Wc())return fc(b,a.b)*a.B;if(a.Vc())return a.B}return 0}var hd=H("absolute"),id=H("all"),jd=H("auto"),kd=H("avoid"),ld=H("block"),md=H("both"),nd=H("exclusive"),od=H("false"),pd=H("footnote"),qd=H("hidden");H("horizontal-tb");var rd=H("inherit"),sd=H("inline"),td=H("landscape"),ud=H("left"),vd=H("list-item");H("ltr");
var wd=H("none"),xd=H("normal"),yd=H("oeb-page-foot"),zd=H("oeb-page-head"),Ad=H("relative"),Bd=H("right"),Cd=H("scale"),Dd=H("static"),Ed=H("rtl"),Fd=H("table"),Gd=H("table-row"),Hd=H("transparent"),Id=H("vertical-lr"),Jd=H("vertical-rl"),Kd=H("visible"),Ld=H("true"),Md=new K(100,"%"),Nd=new K(100,"vw"),Pd=new K(100,"vh"),Qd=new K(0,"px"),Rd={"font-size":1,color:2};function Sd(a,b){return(Rd[a]||Number.MAX_VALUE)-(Rd[b]||Number.MAX_VALUE)};function Td(a,b,c,d){this.V=a;this.P=b;this.S=c;this.O=d}function Ud(a,b){this.x=a;this.y=b}function Vd(){this.bottom=this.right=this.top=this.left=0}function Wd(a,b,c,d){this.b=a;this.d=b;this.f=c;this.e=d}function Xd(a,b,c,d){this.P=a;this.O=b;this.V=c;this.S=d;this.right=this.left=null}function Yd(a,b){return a.b.y-b.b.y||a.b.x-b.b.x}function Zd(a){this.b=a}function $d(a,b,c){a=a.b;for(var d=a.length,e=a[d-1],f=0;f<d;f++){var g=a[f];b.push(e.y<g.y?new Wd(e,g,1,c):new Wd(g,e,-1,c));e=g}}
function ae(a,b,c){for(var d=[],e=0;e<a.b.length;e++){var f=a.b[e];d.push(new Ud(f.x+b,f.y+c))}return new Zd(d)}function be(a,b,c,d){for(var e=[],f=0;20>f;f++){var g=2*f*Math.PI/20;e.push(new Ud(a+c*Math.sin(g),b+d*Math.cos(g)))}return new Zd(e)}function ce(a,b,c,d){return new Zd([new Ud(a,b),new Ud(c,b),new Ud(c,d),new Ud(a,d)])}function de(a,b,c,d){this.x=a;this.e=b;this.b=c;this.d=d}
function ee(a,b){var c=a.b.x+(a.d.x-a.b.x)*(b-a.b.y)/(a.d.y-a.b.y);if(isNaN(c))throw Error("Bad intersection");return c}function fe(a,b,c,d){var e,f;b.d.y<c&&v("Error: inconsistent segment (1)");b.b.y<=c?(c=ee(b,c),e=b.f):(c=b.b.x,e=0);b.d.y>=d?(d=ee(b,d),f=b.f):(d=b.d.x,f=0);c<d?(a.push(new de(c,e,b.e,-1)),a.push(new de(d,f,b.e,1))):(a.push(new de(d,f,b.e,-1)),a.push(new de(c,e,b.e,1)))}
function ge(a,b,c){c=b+c;for(var d=Array(c),e=Array(c),f=0;f<=c;f++)d[f]=0,e[f]=0;for(var g=[],h=!1,k=a.length,l=0;l<k;l++){var n=a[l];d[n.b]+=n.e;e[n.b]+=n.d;for(var p=!1,f=0;f<b;f++)if(d[f]&&!e[f]){p=!0;break}if(p)for(f=b;f<=c;f++)if(d[f]||e[f]){p=!1;break}h!=p&&(g.push(n.x),h=p)}return g}function he(a,b){return b?Math.ceil(a/b)*b:a}function ie(a,b){return b?Math.floor(a/b)*b:a}function je(a){return new Ud(a.y,-a.x)}function ke(a){return new Td(a.P,-a.S,a.O,-a.V)}
function le(a){return new Zd(Na(a.b,je))}
function me(a,b,c,d,e){e&&(a=ke(a),b=Na(b,le),c=Na(c,le));e=b.length;var f=c?c.length:0,g=[],h=[],k,l,n;for(k=0;k<e;k++)$d(b[k],h,k);for(k=0;k<f;k++)$d(c[k],h,k+e);b=h.length;h.sort(Yd);for(c=0;h[c].e>=e;)c++;c=h[c].b.y;c>a.P&&g.push(new Xd(a.P,c,a.S,a.S));k=0;for(var p=[];k<b&&(n=h[k]).b.y<c;)n.d.y>c&&p.push(n),k++;for(;k<b||0<p.length;){var r=a.O,q=he(Math.ceil(c+8),d);for(l=0;l<p.length&&r>q;l++)n=p[l],n.b.x==n.d.x?n.d.y<r&&(r=Math.max(ie(n.d.y,d),q)):n.b.x!=n.d.x&&(r=q);r>a.O&&(r=a.O);for(;k<
b&&(n=h[k]).b.y<r;)if(n.d.y<c)k++;else if(n.b.y<q){if(n.b.y!=n.d.y||n.b.y!=c)p.push(n),r=q;k++}else{l=ie(n.b.y,d);l<r&&(r=l);break}q=[];for(l=0;l<p.length;l++)fe(q,p[l],c,r);q.sort(function(a,b){return a.x-b.x||a.d-b.d});q=ge(q,e,f);if(0==q.length)g.push(new Xd(c,r,a.S,a.S));else{var y=0,x=a.V;for(l=0;l<q.length;l+=2){var I=Math.max(a.V,q[l]),J=Math.min(a.S,q[l+1])-I;J>y&&(y=J,x=I)}0==y?g.push(new Xd(c,r,a.S,a.S)):g.push(new Xd(c,r,Math.max(x,a.V),Math.min(x+y,a.S)))}if(r==a.O)break;c=r;for(l=p.length-
1;0<=l;l--)p[l].d.y<=r&&p.splice(l,1)}ne(a,g);return g}function ne(a,b){for(var c=b.length-1,d=new Xd(a.O,a.O,a.V,a.S);0<=c;){var e=d,d=b[c];d.V==e.V&&d.S==e.S&&(e.P=d.P,b.splice(c,1),d=e);c--}}function oe(a,b){for(var c=0,d=a.length;c<d;){var e=Math.floor((c+d)/2);b>=a[e].O?c=e+1:d=e}return c};function pe(a){return String.fromCharCode(a>>>24&255,a>>>16&255,a>>>8&255,a&255)}
function qe(a){var b=new Aa;b.append(a);var c=55-a.length&63;for(b.append("\u0080");0<c;)c--,b.append("\x00");b.append("\x00\x00\x00\x00");b.append(pe(8*a.length));a=b.toString();for(var b=[1732584193,4023233417,2562383102,271733878,3285377520],c=[],d,e=0;e<a.length;e+=64){for(d=0;16>d;d++){var f=a.substr(e+4*d,4);c[d]=(f.charCodeAt(0)&255)<<24|(f.charCodeAt(1)&255)<<16|(f.charCodeAt(2)&255)<<8|f.charCodeAt(3)&255}for(;80>d;d++)f=c[d-3]^c[d-8]^c[d-14]^c[d-16],c[d]=f<<1|f>>>31;var f=b[0],g=b[1],h=
b[2],k=b[3],l=b[4],n;for(d=0;80>d;d++)n=20>d?(g&h|~g&k)+1518500249:40>d?(g^h^k)+1859775393:60>d?(g&h|g&k|h&k)+2400959708:(g^h^k)+3395469782,n+=(f<<5|f>>>27)+l+c[d],l=k,k=h,h=g<<30|g>>>2,g=f,f=n;b[0]=b[0]+f|0;b[1]=b[1]+g|0;b[2]=b[2]+h|0;b[3]=b[3]+k|0;b[4]=b[4]+l|0}return b}function re(a){a=qe(a);for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(d>>>24&255,d>>>16&255,d>>>8&255,d&255)}return b}
function se(a){a=qe(a);for(var b=new Aa,c=0;c<a.length;c++)b.append(pe(a[c]));a=b.toString();b=new Aa;for(c=0;c<a.length;c++)b.append((a.charCodeAt(c)|256).toString(16).substr(1));return b.toString()};var te=null,ue=null;function M(a){if(!te)throw Error("E_TASK_NO_CONTEXT");te.name||(te.name=a);var b=te;a=new ve(b,b.top,a);b.top=a;a.b=we;return a}function O(a){return new xe(a)}function ye(a,b,c){a=M(a);a.g=c;try{b(a)}catch(d){ze(a.d,d,a)}return P(a)}function Ae(a){var b=Be,c;te?c=te.d:(c=ue)||(c=new Ce(new De));b(c,a,void 0)}function Ee(a,b){var c=b.frameTrace;c?v(a+":\n"+c):v(a+":\n"+b.toString())}var we=1;function De(){}De.prototype.currentTime=function(){return(new Date).valueOf()};
function Fe(a,b){return setTimeout(a,b)}De.prototype.log=function(a){window.console&&window.console.log&&window.console.log(a)};function Ce(a){this.e=a;this.f=1;this.h=0;this.d=new ja;this.b=this.j=null;this.g=!1;this.K=0;ue||(ue=this)}
function Ge(a){if(!a.g){var b=a.d.b[1].b,c=a.e.currentTime();if(null!=a.b){if(c+a.f>a.j)return;clearTimeout(a.b)}b-=c;b<=a.f&&(b=a.f);a.j=c+b;a.b=Fe(function(){a.b=null;null!=a.b&&(clearTimeout(a.b),a.b=null);a.g=!0;try{var b=a.e.currentTime();for(a.h=b+25;a.d.length();){var c=a.d.b[1];if(c.b>b)break;var f=a.d,g=f.b.pop(),h=f.b.length;if(1<h){for(var k=1;;){var l=2*k;if(l>=h)break;if(0<He(f.b[l],g))l+1<h&&0<He(f.b[l+1],f.b[l])&&l++;else if(l+1<h&&0<He(f.b[l+1],g))l++;else break;f.b[k]=f.b[l];k=l}f.b[k]=
g}var k=c,n=k.d;k.d=null;n&&n.e==k&&(n.e=null,l=te,te=n,Q(n.top,k.e),te=l);b=a.e.currentTime();if(b>=a.h)break}}catch(p){}a.g=!1;a.d.length()&&Ge(a)},b)}}Ce.prototype.Ra=function(a,b){var c=this.e.currentTime();a.K=this.K++;a.b=c+(b||0);a:{for(var c=this.d,d=c.b.length;1<d;){var e=Math.floor(d/2),f=c.b[e];if(0<He(f,a)){c.b[d]=a;break a}c.b[d]=f;d=e}c.b[1]=a}Ge(this)};
function Be(a,b,c){var d=new Ie(a,c||"");d.top=new ve(d,null,"bootstrap");d.top.b=we;d.top.then(function(){function a(){d.h=!1;for(var b=0;b<d.g.length;b++){var c=d.g[b];try{c()}catch(e){}}}try{b().then(function(b){d.f=b;a()})}catch(c){ze(d,c),a()}});c=te;te=d;a.Ra(Je(d.top,"bootstrap"));te=c;return d}function Ke(a){this.d=a;this.K=this.b=0;this.e=null}function He(a,b){return b.b-a.b||b.K-a.K}Ke.prototype.Ra=function(a,b){this.e=a;this.d.d.Ra(this,b)};
function Ie(a,b){this.d=a;this.name=b;this.g=[];this.b=null;this.h=!0;this.e=this.top=this.j=this.f=null}function Le(a,b){a.g.push(b)}Ie.prototype.join=function(){var a=M("Task.join");if(this.h){var b=Je(a,this),c=this;Le(this,function(){b.Ra(c.f)})}else Q(a,this.f);return P(a)};
function ze(a,b,c){var d=b.frameTrace;if(!d){for(var d=b.stack?b.stack+"\n\t---- async ---\n":"",e=a.top;e;e=e.parent)d+="\t",d+=e.name,d+="\n";b.frameTrace=d}if(c){for(d=a.top;d&&d!=c;)d=d.parent;d==c&&(a.top=d)}for(a.b=b;a.top&&!a.top.g;)a.top=a.top.parent;a.top?(b=a.b,a.b=null,a.top.g(a.top,b)):a.b&&Ee("Unhandled exception in task "+a.name,a.b)}function xe(a){this.value=a}m=xe.prototype;m.then=function(a){a(this.value)};m.cc=function(a){return a(this.value)};m.ad=function(a){return new xe(a)};
m.ka=function(a){Q(a,this.value)};m.sa=function(){return!1};m.Nb=function(){return this.value};function Me(a){this.b=a}m=Me.prototype;m.then=function(a){this.b.then(a)};m.cc=function(a){if(this.sa()){var b=new ve(this.b.d,this.b.parent,"AsyncResult.thenAsync");b.b=we;this.b.parent=b;this.b.then(function(c){a(c).then(function(a){Q(b,a)})});return P(b)}return a(this.b.e)};m.ad=function(a){return this.sa()?this.cc(function(){return new xe(a)}):new xe(a)};
m.ka=function(a){this.sa()?this.then(function(b){Q(a,b)}):Q(a,this.b.e)};m.sa=function(){return this.b.b==we};m.Nb=function(){if(this.sa())throw Error("Result is pending");return this.b.e};function ve(a,b,c){this.d=a;this.parent=b;this.name=c;this.e=null;this.b=0;this.g=this.f=null}function Ne(a){if(!te)throw Error("F_TASK_NO_CONTEXT");if(a!==te.top)throw Error("F_TASK_NOT_TOP_FRAME");}function P(a){return new Me(a)}
function Q(a,b){Ne(a);te.b||(a.e=b);a.b=2;var c=a.parent;te.top=c;if(a.f){try{a.f(b)}catch(d){ze(a.d,d,c)}a.b=3}}ve.prototype.then=function(a){switch(this.b){case we:if(this.f)throw Error("F_TASK_FRAME_ALREADY_HAS_CALLBACK");this.f=a;break;case 2:var b=this.d,c=this.parent;try{a(this.e),this.b=3}catch(d){this.b=3,ze(b,d,c)}break;case 3:throw Error("F_TASK_DEAD_FRAME");default:throw Error("F_TASK_UNEXPECTED_FRAME_STATE "+this.b);}};
function Oe(){var a=M("Frame.timeSlice"),b=a.d.d;b.e.currentTime()>=b.h?(v("-- time slice --"),Je(a).Ra(!0)):Q(a,!0);return P(a)}function Pe(a){function b(d){try{for(;d;){var e=a();if(e.sa()){e.then(b);return}e.then(function(a){d=a})}Q(c,!0)}catch(f){ze(c.d,f,c)}}var c=M("Frame.loop");b(!0);return P(c)}function Qe(a){var b=te;if(!b)throw Error("E_TASK_NO_CONTEXT");return Pe(function(){var c;do c=new Re(b,b.top),b.top=c,c.b=we,a(c),c=P(c);while(!c.sa()&&c.Nb());return c})}
function Je(a,b){Ne(a);if(a.d.e)throw Error("E_TASK_ALREADY_SUSPENDED");var c=new Ke(a.d);a.d.e=c;te=null;a.d.j=b||null;return c}function Re(a,b){ve.call(this,a,b,"loop")}t(Re,ve);function Se(a){Q(a,!0)}function R(a){Q(a,!1)};function Te(a,b,c,d,e){var f=M("ajax"),g=new XMLHttpRequest,h=Je(f,g),k={status:0,url:a,responseText:null,responseXML:null,Ub:null};g.open(c||"GET",a,!0);b&&(g.responseType="blob");g.onreadystatechange=function(){if(4===g.readyState){k.status=g.status;if(200==k.status||0==k.status)if(!b&&g.responseXML)k.responseXML=g.responseXML;else{var c=g.response;b||"string"!=typeof c?c?"string"==typeof c?k.Ub=Ue([c]):k.Ub=c:v("Unexpected empty success response for "+a):k.responseText=c}h.Ra(k)}};d?(g.setRequestHeader("Content-Type",
e||"text/plain; charset=UTF-8"),g.send(d)):g.send(null);return P(f)}function Ue(a){var b=window.WebKitBlobBuilder||window.MSBlobBuilder;if(b){for(var b=new b,c=0;c<a.length;c++)b.append(a[c]);return b.getBlob("application/octet-stream")}return new Blob(a,{type:"application/octet-stream"})}function Ve(a){var b=M("readBlob"),c=new FileReader,d=Je(b,c);c.addEventListener("load",function(){d.Ra(c.result)},!1);c.readAsArrayBuffer(a);return P(b)}function We(a,b){this.T=a;this.I=b;this.g={};this.e={}}
We.prototype.load=function(a){a=ca(a);var b=this.g[a];return"undefined"!=typeof b?O(b):Xe(this.Pb(a))};function Ye(a,b){var c=M("fetch");Te(b,a.I).then(function(d){a.T(d,a).then(function(d){delete a.e[b];a.g[b]=d;Q(c,d)})});return P(c)}We.prototype.Pb=function(a){a=ca(a);if(this.g[a])return null;var b=this.e[a];if(!b){var c=this,b=new Ze(function(){return Ye(c,a)},"Fetch "+a);c.e[a]=b;b.start()}return b};function $e(a){a=a.responseText;return O(a?JSON.parse(a):null)};function af(a){var b=parseInt(a,16);if(isNaN(b))throw Error("E_CSS_COLOR");if(6==a.length)return new dd(b);if(3==a.length)return new dd(b&15|(b&15)<<4|(b&240)<<4|(b&240)<<8|(b&3840)<<8|(b&3840)<<12);throw Error("E_CSS_COLOR");}function bf(a){this.e=a;this.Pa="Author"}m=bf.prototype;m.vb=function(){return null};m.Q=function(){return this.e};m.M=function(){};m.nb=function(a){this.Pa=a};m.Sa=function(){};m.nc=function(){};m.yb=function(){};m.zb=function(){};m.wc=function(){};m.Ob=function(){};m.Va=function(){};
m.mc=function(){};m.kc=function(){};m.rc=function(){};m.Bc=function(){};m.Za=function(){};m.Yb=function(){};m.Cb=function(){};m.bc=function(){};m.Wb=function(){};m.ac=function(){};m.mb=function(){};m.Jc=function(){};m.fb=function(){};m.Xb=function(){};m.$b=function(){};m.Zb=function(){};m.Eb=function(){};m.Db=function(){};m.ha=function(){};m.Ea=function(){};m.Oa=function(){};function cf(a){switch(a.Pa){case "UA":return 0;case "User":return 100663296;default:return 83886080}}
function df(a){switch(a.Pa){case "UA":return 0;case "User":return 16777216;default:return 33554432}}function ef(){bf.call(this,null);this.d=[];this.b=null}t(ef,bf);function ff(a,b){a.d.push(a.b);a.b=b}m=ef.prototype;m.vb=function(){return null};m.Q=function(){return this.b.Q()};m.M=function(a,b){this.b.M(a,b)};m.nb=function(a){bf.prototype.nb.call(this,a);0<this.d.length&&(this.b=this.d[0],this.d=[]);this.b.nb(a)};m.Sa=function(a,b){this.b.Sa(a,b)};m.nc=function(a){this.b.nc(a)};
m.yb=function(a,b){this.b.yb(a,b)};m.zb=function(a,b){this.b.zb(a,b)};m.wc=function(a){this.b.wc(a)};m.Ob=function(a,b,c,d){this.b.Ob(a,b,c,d)};m.Va=function(){this.b.Va()};m.mc=function(){this.b.mc()};m.kc=function(){this.b.kc()};m.rc=function(){this.b.rc()};m.Bc=function(){this.b.Bc()};m.Za=function(){this.b.Za()};m.Yb=function(){this.b.Yb()};m.Cb=function(a){this.b.Cb(a)};m.bc=function(){this.b.bc()};m.Wb=function(){this.b.Wb()};m.ac=function(){this.b.ac()};m.mb=function(){this.b.mb()};m.Jc=function(a){this.b.Jc(a)};
m.fb=function(a){this.b.fb(a)};m.Xb=function(a){this.b.Xb(a)};m.$b=function(){this.b.$b()};m.Zb=function(a,b,c){this.b.Zb(a,b,c)};m.Eb=function(a,b,c){this.b.Eb(a,b,c)};m.Db=function(a,b,c){this.b.Db(a,b,c)};m.ha=function(){this.b.ha()};m.Ea=function(a,b,c){this.b.Ea(a,b,c)};m.Oa=function(){this.b.Oa()};function gf(a,b,c){bf.call(this,a);this.I=c;this.G=0;this.Y=b}t(gf,bf);gf.prototype.vb=function(){return this.Y.vb()};gf.prototype.M=function(a){v(a)};gf.prototype.ha=function(){this.G++};
gf.prototype.Oa=function(){if(0==--this.G&&!this.I){var a=this.Y;a.b=a.d.pop()}};function hf(a,b,c){gf.call(this,a,b,c)}t(hf,gf);function jf(a,b){a.M(b,a.vb())}function kf(a,b){jf(a,b);ff(a.Y,new gf(a.e,a.Y,!1))}m=hf.prototype;m.Za=function(){kf(this,"E_CSS_UNEXPECTED_SELECTOR")};m.Yb=function(){kf(this,"E_CSS_UNEXPECTED_FONT_FACE")};m.Cb=function(){kf(this,"E_CSS_UNEXPECTED_FOOTNOTE")};m.bc=function(){kf(this,"E_CSS_UNEXPECTED_VIEWPORT")};m.Wb=function(){kf(this,"E_CSS_UNEXPECTED_DEFINE")};
m.ac=function(){kf(this,"E_CSS_UNEXPECTED_REGION")};m.mb=function(){kf(this,"E_CSS_UNEXPECTED_PAGE")};m.fb=function(){kf(this,"E_CSS_UNEXPECTED_WHEN")};m.Xb=function(){kf(this,"E_CSS_UNEXPECTED_FLOW")};m.$b=function(){kf(this,"E_CSS_UNEXPECTED_PAGE_TEMPLATE")};m.Zb=function(){kf(this,"E_CSS_UNEXPECTED_PAGE_MASTER")};m.Eb=function(){kf(this,"E_CSS_UNEXPECTED_PARTITION")};m.Db=function(){kf(this,"E_CSS_UNEXPECTED_PARTITION_GROUP")};m.Ea=function(){this.M("E_CSS_UNEXPECTED_PROPERTY",this.vb())};
var lf=[],mf=[],S=[],nf=[],of=[],pf=[],qf=[],T=[],rf=[],sf=[],tf=[],uf=[];lf[1]=28;lf[36]=29;lf[7]=29;lf[9]=29;lf[14]=29;lf[18]=29;lf[20]=30;lf[13]=27;lf[0]=200;mf[1]=46;mf[0]=200;of[1]=2;of[36]=4;of[7]=6;of[9]=8;of[14]=10;of[18]=14;S[37]=11;S[23]=12;S[35]=56;S[1]=1;S[36]=3;S[7]=5;S[9]=7;S[14]=9;S[12]=13;S[18]=55;S[50]=42;S[16]=41;nf[1]=2;nf[36]=4;nf[7]=6;nf[9]=8;nf[18]=14;nf[50]=42;nf[14]=10;nf[12]=13;pf[1]=15;pf[7]=16;pf[4]=17;pf[5]=18;pf[3]=19;pf[2]=20;pf[8]=21;pf[16]=22;pf[19]=23;pf[6]=24;
pf[11]=25;pf[17]=26;pf[13]=48;pf[31]=47;pf[23]=54;pf[0]=44;qf[1]=31;qf[4]=32;qf[5]=32;qf[3]=33;qf[2]=34;qf[10]=40;qf[6]=38;qf[31]=36;qf[24]=36;qf[32]=35;T[1]=45;T[16]=37;T[37]=37;T[38]=37;T[47]=37;T[48]=37;T[39]=37;T[49]=37;T[26]=37;T[25]=37;T[23]=37;T[24]=37;T[19]=37;T[21]=37;T[36]=37;T[18]=37;T[22]=37;T[11]=39;T[12]=43;T[17]=49;rf[0]=200;rf[12]=50;rf[13]=51;rf[14]=50;rf[15]=51;rf[10]=50;rf[11]=51;rf[17]=53;sf[0]=200;sf[12]=50;sf[13]=52;sf[14]=50;sf[15]=51;sf[10]=50;sf[11]=51;sf[17]=53;tf[0]=200;
tf[12]=50;tf[13]=51;tf[14]=50;tf[15]=51;tf[10]=50;tf[11]=51;uf[11]=0;uf[16]=0;uf[22]=1;uf[18]=1;uf[26]=2;uf[25]=2;uf[38]=3;uf[37]=3;uf[48]=3;uf[47]=3;uf[39]=3;uf[49]=3;uf[41]=3;uf[23]=4;uf[24]=4;uf[36]=5;uf[19]=5;uf[21]=5;uf[0]=6;uf[52]=2;function vf(a,b,c,d){this.b=a;this.w=b;this.h=c;this.ea=d;this.u=[];this.G={};this.d=this.A=null;this.k=!1;this.f=2;this.Z=null;this.l=!1;this.j=this.C=null;this.g=[];this.e=[];this.I=this.T=!1}
function wf(a,b){for(var c=[],d=a.u;;){c.push(d[b++]);if(b==d.length)break;if(","!=d[b++])throw Error("Unexpected state");}return c}
function xf(a,b,c){var d=a.u,e=d.length,f;do f=d[--e];while("undefined"!=typeof f&&"string"!=typeof f);var g=d.length-(e+1);1<g&&d.splice(e+1,g,new Tc(d.slice(e+1,d.length)));if(","==b)return null;e++;do f=d[--e];while("undefined"!=typeof f&&("string"!=typeof f||","==f));g=d.length-(e+1);if("("==f){if(")"!=b)return a.h.M("E_CSS_MISMATCHED_C_PAR",c),a.b=sf,null;a=new Vc(d[e-1],wf(a,e+1));d.splice(e-1,g+2,a);return null}return";"!=b||0<=e?(a.h.M("E_CSS_UNEXPECTED_VAL_END",c),a.b=sf,null):1<g?new Uc(wf(a,
e+1)):d[0]}function yf(a,b,c){a.b=a.d?sf:rf;a.h.M(b,c)}
function zf(a,b,c){for(var d=a.u,e=a.h,f=d.pop(),g;;){var h=d.pop();if(11==b){for(g=[f];16==h;)g.unshift(d.pop()),h=d.pop();if("string"==typeof h){if("{"==h){for(;2<=g.length;)a=g.shift(),c=g.shift(),a=new uc(e.Q(),a,c),g.unshift(a);d.push(new L(g[0]));return!0}if("("==h){b=d.pop();f=d.pop();f=new Jc(e.Q(),Vb(f,b),g);b=0;continue}}if(10==h){b=0;continue}}else if("string"==typeof h){d.push(h);break}if(0>h)if(-31==h)f=new pc(e.Q(),f);else if(-24==h)f=new qc(e.Q(),f);else return yf(a,"F_UNEXPECTED_STATE",
c),!1;else{if(uf[b]>uf[h]){d.push(h);break}g=d.pop();switch(h){case 26:f=new rc(e.Q(),g,f);break;case 52:f=new sc(e.Q(),g,f);break;case 25:f=new tc(e.Q(),g,f);break;case 38:f=new vc(e.Q(),g,f);break;case 37:f=new xc(e.Q(),g,f);break;case 48:f=new wc(e.Q(),g,f);break;case 47:f=new yc(e.Q(),g,f);break;case 39:case 49:f=new zc(e.Q(),g,f);break;case 41:f=new Ac(e.Q(),g,f);break;case 23:f=new Bc(e.Q(),g,f);break;case 24:f=new Cc(e.Q(),g,f);break;case 36:f=new Dc(e.Q(),g,f);break;case 19:f=new Ec(e.Q(),
g,f);break;case 21:f=new Fc(e.Q(),g,f);break;case 18:if(1<d.length)switch(d[d.length-1]){case 22:d.pop();f=new Kc(e.Q(),d.pop(),g,f);break;case 10:if(g.ld())f=new Lc(e.Q(),g,f);else return yf(a,"E_CSS_MEDIA_TEST",c),!1}else return yf(a,"E_CSS_EXPR_COND",c),!1;break;case 22:if(18!=b)return yf(a,"E_CSS_EXPR_COND",c),!1;case 10:return d.push(g),d.push(h),d.push(f),!1;default:return yf(a,"F_UNEXPECTED_STATE",c),!1}}}d.push(f);return!1}
function Af(a){for(var b=[];;){var c=w(a.w);switch(c.type){case 1:b.push(c.text);break;case 23:b.push("+");break;case 4:case 5:b.push(c.B);break;default:return b}A(a.w)}}
function Bf(a,b){var c=a.h.Q();if(!c)return null;var d=c.g;if(b)for(var e=b.split(/\s+/),f=0;f<e.length;f++)switch(e[f]){case "vertical":d=Nc(c,d,new pc(c,new Hc(c,"pref-horizontal")));break;case "horizontal":d=Nc(c,d,new Hc(c,"pref-horizontal"));break;case "day":d=Nc(c,d,new pc(c,new Hc(c,"pref-night-mode")));break;case "night":d=Nc(c,d,new Hc(c,"pref-night-mode"));break;default:d=c.f}return d===c.g?null:new L(d)}
function Cf(a){switch(a.e[a.e.length-1]){case "[selector]":case "font-face":case "-epubx-flow":case "-epubx-viewport":case "-epubx-define":case "-adapt-footnote-area":return!0}return!1}
function Df(a,b,c,d){for(var e=a.h,f=a.w,g=a.u,h,k,l,n;0<b;--b)switch(h=w(f),a.b[h.type]){case 28:if(18!=z(f,1).type){Cf(a)?(e.M("E_CSS_COLON_EXPECTED",z(f,1)),a.b=sf):(a.b=of,e.Za());continue}k=z(f,2);if(!(k.b||1!=k.type&&6!=k.type)){if(0<=f.b)throw Error("F_CSSTOK_BAD_CALL mark");f.b=f.d}a.d=h.text;a.k=!1;A(f);A(f);a.b=pf;g.splice(0,g.length);continue;case 46:if(18!=z(f,1).type){a.b=sf;e.M("E_CSS_COLON_EXPECTED",z(f,1));continue}a.d=h.text;a.k=!1;A(f);A(f);a.b=pf;g.splice(0,g.length);continue;case 29:a.b=
of;e.Za();continue;case 1:if(!h.b){a.b=tf;e.M("E_CSS_SPACE_EXPECTED",h);continue}e.Va();case 2:if(34==z(f,1).type)if(A(f),A(f),l=a.G[h.text],null!=l)switch(h=w(f),h.type){case 1:e.Sa(l,h.text);a.b=S;A(f);break;case 36:e.Sa(l,null);a.b=S;A(f);break;default:a.b=rf,e.M("E_CSS_NAMESPACE",h)}else a.b=rf,e.M("E_CSS_UNDECLARED_PREFIX",h);else e.Sa(a.A,h.text),a.b=S,A(f);continue;case 3:if(!h.b){a.b=tf;e.M("E_CSS_SPACE_EXPECTED",h);continue}e.Va();case 4:if(34==z(f,1).type)switch(A(f),A(f),h=w(f),h.type){case 1:e.Sa(null,
h.text);a.b=S;A(f);break;case 36:e.Sa(null,null);a.b=S;A(f);break;default:a.b=rf,e.M("E_CSS_NAMESPACE",h)}else e.Sa(a.A,null),a.b=S,A(f);continue;case 5:h.b&&e.Va();case 6:e.wc(h.text);a.b=S;A(f);continue;case 7:h.b&&e.Va();case 8:e.nc(h.text);a.b=S;A(f);continue;case 55:h.b&&e.Va();case 14:A(f);h=w(f);switch(h.type){case 1:e.yb(h.text,null);A(f);a.b=S;continue;case 6:if(k=h.text,A(f),l=Af(a),h=w(f),11==h.type){e.yb(k,l);A(f);a.b=S;continue}}e.M("E_CSS_PSEUDOCLASS_SYNTAX",h);a.b=rf;continue;case 42:A(f);
h=w(f);switch(h.type){case 1:e.zb(h.text,null);a.b=S;A(f);continue;case 6:if(k=h.text,A(f),l=Af(a),h=w(f),11==h.type){e.zb(k,l);a.b=S;A(f);continue}}e.M("E_CSS_PSEUDOELEM_SYNTAX",h);a.b=rf;continue;case 9:h.b&&e.Va();case 10:A(f);h=w(f);if(1==h.type)k=h.text,A(f);else if(36==h.type)k=null,A(f);else if(34==h.type)k="";else{a.b=tf;e.M("E_CSS_ATTR",h);A(f);continue}h=w(f);if(34==h.type){l=k?a.G[k]:k;if(null==l){a.b=tf;e.M("E_CSS_UNDECLARED_PREFIX",h);A(f);continue}A(f);h=w(f);if(1!=h.type){a.b=tf;e.M("E_CSS_ATTR_NAME_EXPECTED",
h);continue}k=h.text;A(f);h=w(f)}else l="";switch(h.type){case 39:case 45:case 44:case 46:case 50:n=h.type;A(f);h=w(f);break;case 15:e.Ob(l,k,0,null);a.b=S;A(f);continue;default:a.b=tf;e.M("E_CSS_ATTR_OP_EXPECTED",h);continue}switch(h.type){case 1:case 2:e.Ob(l,k,n,h.text);A(f);h=w(f);break;default:a.b=tf;e.M("E_CSS_ATTR_VAL_EXPECTED",h);continue}if(15!=h.type){a.b=tf;e.M("E_CSS_ATTR",h);continue}a.b=S;A(f);continue;case 11:e.mc();a.b=nf;A(f);continue;case 12:e.kc();a.b=nf;A(f);continue;case 56:e.rc();
a.b=nf;A(f);continue;case 13:a.T?(a.e.push("-epubx-region"),a.T=!1):a.I?(a.e.push("page"),a.I=!1):a.e.push("[selector]");e.ha();a.b=lf;A(f);continue;case 41:e.Bc();a.b=of;A(f);continue;case 15:g.push(H(h.text));A(f);continue;case 16:try{g.push(af(h.text))}catch(p){e.M("E_CSS_COLOR",h),a.b=rf}A(f);continue;case 17:g.push(new bd(h.B));A(f);continue;case 18:g.push(new cd(h.B));A(f);continue;case 19:g.push(new K(h.B,h.text));A(f);continue;case 20:g.push(new $c(h.text));A(f);continue;case 21:g.push(new ed(ea(h.text,
a.ea)));A(f);continue;case 22:xf(a,",",h);g.push(",");A(f);continue;case 23:g.push(Zc);A(f);continue;case 24:k=h.text.toLowerCase();"-epubx-expr"==k?(a.b=qf,a.f=0,g.push("{")):(g.push(k),g.push("("));A(f);continue;case 25:xf(a,")",h);A(f);continue;case 47:A(f);h=w(f);k=z(f,1);if(1==h.type&&"important"==h.text.toLowerCase()&&(17==k.type||0==k.type||13==k.type)){A(f);a.k=!0;continue}yf(a,"E_CSS_SYNTAX",h);continue;case 54:k=z(f,1);switch(k.type){case 4:case 3:case 5:if(!k.b){A(f);continue}}yf(a,"E_CSS_UNEXPECTED_PLUS",
h);continue;case 26:A(f);case 48:f.b=-1;(k=xf(a,";",h))&&a.d&&e.Ea(a.d,k,a.k);a.b=d?mf:lf;continue;case 44:A(f);f.b=-1;k=xf(a,";",h);if(c)return a.Z=k,!0;a.d&&k&&e.Ea(a.d,k,a.k);if(d)return!0;yf(a,"E_CSS_SYNTAX",h);continue;case 31:k=z(f,1);9==k.type?(10!=z(f,2).type||z(f,2).b?(g.push(new Hc(e.Q(),Vb(h.text,k.text))),a.b=T):(g.push(h.text,k.text,"("),A(f)),A(f)):(2==a.f||3==a.f?"not"==h.text.toLowerCase()?(A(f),g.push(new Ic(e.Q(),!0,k.text))):("only"==h.text.toLowerCase()&&(A(f),h=k),g.push(new Ic(e.Q(),
!1,h.text))):g.push(new Hc(e.Q(),h.text)),a.b=T);A(f);continue;case 38:g.push(null,h.text,"(");A(f);continue;case 32:g.push(new Yb(e.Q(),h.B));A(f);a.b=T;continue;case 33:k=h.text;"%"==k&&(k=a.d&&a.d.match(/height|^(top|bottom)$/)?"vh":"vw");g.push(new Gc(e.Q(),h.B,k));A(f);a.b=T;continue;case 34:g.push(new Yb(e.Q(),h.text));A(f);a.b=T;continue;case 35:A(f);h=w(f);5!=h.type||h.b?yf(a,"E_CSS_SYNTAX",h):(g.push(new Mc(e.Q(),h.B)),A(f),a.b=T);continue;case 36:g.push(-h.type);A(f);continue;case 37:a.b=
qf;zf(a,h.type,h);g.push(h.type);A(f);continue;case 45:"and"==h.text.toLowerCase()?(a.b=qf,zf(a,52,h),g.push(52),A(f)):yf(a,"E_CSS_SYNTAX",h);continue;case 39:zf(a,h.type,h)&&(a.d?a.b=pf:yf(a,"E_CSS_UNBALANCED_PAR",h));A(f);continue;case 43:zf(a,11,h)&&(a.d||3==a.f?yf(a,"E_CSS_UNEXPECTED_BRC",h):(1==a.f?e.fb(g.pop()):(h=g.pop(),e.fb(h)),a.e.push("media"),e.ha(),a.b=lf));A(f);continue;case 49:zf(a,11,h)&&(a.d||3!=a.f?yf(a,"E_CSS_UNEXPECTED_SEMICOL",h):(a.j=g.pop(),a.l=!0,a.b=lf));A(f);continue;case 40:g.push(h.type);
A(f);continue;case 27:a.b=lf;A(f);e.Oa();a.e.length&&a.e.pop();continue;case 30:k=h.text.toLowerCase();switch(k){case "import":A(f);h=w(f);if(2==h.type||8==h.type){a.C=h.text;A(f);h=w(f);if(17==h.type||0==h.type)return a.l=!0,A(f),!1;a.d=null;a.f=3;a.b=qf;g.push("{");continue}e.M("E_CSS_IMPORT_SYNTAX",h);a.b=rf;continue;case "namespace":A(f);h=w(f);switch(h.type){case 1:k=h.text;A(f);h=w(f);if((2==h.type||8==h.type)&&17==z(f,1).type){a.G[k]=h.text;A(f);A(f);continue}break;case 2:case 8:if(17==z(f,
1).type){a.A=h.text;A(f);A(f);continue}}e.M("E_CSS_NAMESPACE_SYNTAX",h);a.b=rf;continue;case "charset":A(f);h=w(f);if(2==h.type&&17==z(f,1).type){k=h.text.toLowerCase();"utf-8"!=k&&"utf-16"!=k&&e.M("E_CSS_UNEXPECTED_CHARSET "+k,h);A(f);A(f);continue}e.M("E_CSS_CHARSET_SYNTAX",h);a.b=rf;continue;case "font-face":case "-epubx-page-template":case "-epubx-define":case "-epubx-viewport":if(12==z(f,1).type){A(f);A(f);switch(k){case "font-face":e.Yb();break;case "-epubx-page-template":e.$b();break;case "-epubx-define":e.Wb();
break;case "-epubx-viewport":e.bc()}a.e.push(k);e.ha();continue}break;case "-adapt-footnote-area":A(f);h=w(f);switch(h.type){case 12:A(f);e.Cb(null);a.e.push(k);e.ha();continue;case 50:if(A(f),h=w(f),1==h.type&&12==z(f,1).type){k=h.text;A(f);A(f);e.Cb(k);a.e.push("-adapt-footnote-area");e.ha();continue}}break;case "-epubx-region":A(f);e.ac();a.T=!0;a.b=of;continue;case "page":A(f);e.mb();a.I=!0;a.b=nf;continue;case "top-left-corner":case "top-left":case "top-center":case "top-right":case "top-right-corner":case "right-top":case "right-middle":case "right-bottom":case "bottom-right-corner":case "bottom-right":case "bottom-center":case "bottom-left":case "bottom-left-corner":case "left-bottom":case "left-middle":case "left-top":A(f);
h=w(f);if(12==h.type){A(f);e.Jc(k);a.e.push(k);e.ha();continue}break;case "-epubx-when":A(f);a.d=null;a.f=1;a.b=qf;g.push("{");continue;case "media":A(f);a.d=null;a.f=2;a.b=qf;g.push("{");continue;case "-epubx-flow":if(1==z(f,1).type&&12==z(f,2).type){e.Xb(z(f,1).text);A(f);A(f);A(f);a.e.push(k);e.ha();continue}break;case "-epubx-page-master":case "-epubx-partition":case "-epubx-partition-group":A(f);h=w(f);n=l=null;var r=[];1==h.type&&(l=h.text,A(f),h=w(f));18==h.type&&1==z(f,1).type&&(n=z(f,1).text,
A(f),A(f),h=w(f));for(;6==h.type&&"class"==h.text.toLowerCase()&&1==z(f,1).type&&11==z(f,2).type;)r.push(z(f,1).text),A(f),A(f),A(f),h=w(f);if(12==h.type){A(f);switch(k){case "-epubx-page-master":e.Zb(l,n,r);break;case "-epubx-partition":e.Eb(l,n,r);break;case "-epubx-partition-group":e.Db(l,n,r)}a.e.push(k);e.ha();continue}break;case "":e.M("E_CSS_UNEXPECTED_AT"+k,h);a.b=tf;continue;default:e.M("E_CSS_AT_UNKNOWN "+k,h);a.b=rf;continue}e.M("E_CSS_AT_SYNTAX "+k,h);a.b=rf;continue;case 50:if(c||d)return!0;
a.g.push(h.type+1);A(f);continue;case 52:if(c||d)return!0;if(0==a.g.length){a.b=lf;continue}case 51:0<a.g.length&&a.g[a.g.length-1]==h.type&&a.g.pop();0==a.g.length&&13==h.type&&(a.b=lf);A(f);continue;case 53:if(c||d)return!0;0==a.g.length&&(a.b=lf);A(f);continue;case 200:return!0;default:if(c||d)return!0;if(a.b===pf&&0<=f.b){h=f;if(0>h.b)throw Error("F_CSSTOK_BAD_CALL reset");h.d=h.b;h.b=-1;a.b=of;e.Za();continue}if(a.b!==rf&&a.b!==tf&&a.b!==sf){51==h.type?e.M(h.text,h):e.M("E_CSS_SYNTAX",h);a.b=
Cf(a)?sf:tf;continue}A(f)}return!1}function Ef(a){bf.call(this,null);this.e=a}t(Ef,bf);Ef.prototype.M=function(a){throw Error(a);};Ef.prototype.Q=function(){return this.e};
function Ff(a,b,c,d){var e=M("parseStylesheet"),f=new vf(lf,a,b,c),g=Bf(f,d);g&&(b.fb(g),b.ha());Pe(function(){for(;!Df(f,100,!1,!1);){if(f.l){var a=ea(f.C,c);f.j&&(b.fb(f.j),b.ha());var d=M("parseStylesheet.import");Gf(a,b,null).then(function(){f.j&&b.Oa();f.l=!1;f.C=null;f.j=null;Q(d,!0)});return P(d)}a=Oe();if(a.sa)return a}return O(!1)}).then(function(){g&&b.Oa();Q(e,!0)});return P(e)}
function Gf(a,b,c){return ye("parseStylesheetFromURL",function(d){Te(a).then(function(e){e.responseText?(e=new Mb(e.responseText),Ff(e,b,a,c).ka(d)):Q(d,!0)})},function(b,c){Ee("Exception while parsing: "+a,c);Q(b,!0)})}function Hf(a,b){var c=new vf(pf,b,new Ef(a),"");Df(c,Number.POSITIVE_INFINITY,!0,!1);return c.Z}var If={"z-index":!0,"column-count":!0,"flow-linger":!0,opacity:!0,page:!0,"flow-priority":!0,utilization:!0};
function Jf(a,b,c){if(b.Uc())a:{b=b.e;a=b.evaluate(a);switch(typeof a){case "number":c=If[c]?a==Math.round(a)?new cd(a):new bd(a):new K(a,"px");break a;case "string":c=a?Hf(b.b,new Mb(a)):G;break a;case "boolean":c=a?Ld:od;break a;case "undefined":c=G;break a}throw Error("E_UNEXPECTED");}else c=b;return c};function Kf(){this.b={}}t(Kf,Rc);Kf.prototype.bb=function(a){this.b[a.name]=!0;return a};Kf.prototype.Na=function(a){this.Ta(a.values);return a};function Lf(a){this.value=a}t(Lf,Rc);Lf.prototype.pb=function(a){this.value=a.B;return a};function Mf(a,b){if(a){var c=new Lf(b);try{return a.L(c),c.value}catch(d){v("toInt: "+d)}}return b}function Nf(){this.d=!1;this.b=[];this.name=null}t(Nf,Rc);Nf.prototype.rb=function(a){this.d&&this.b.push(a);return null};
Nf.prototype.qb=function(a){this.d&&0==a.B&&this.b.push(new K(0,"px"));return null};Nf.prototype.Na=function(a){this.Ta(a.values);return null};Nf.prototype.ab=function(a){this.d||(this.d=!0,this.Ta(a.values),this.d=!1,this.name=a.name.toLowerCase());return null};
function Of(a,b,c,d,e,f){if(a){var g=new Nf;try{a.L(g);var h;a:{if(0<g.b.length){a=[];for(var k=0;k<g.b.length;k++){var l=g.b[k];if("%"==l.b){var n=0==k%2?d:e;3==k&&"circle"==g.name&&(n=Math.sqrt((d*d+e*e)/2));a.push(l.B*n/100)}else a.push(l.B*fc(f,l.b))}switch(g.name){case "polygon":if(0==a.length%2){f=[];for(g=0;g<a.length;g+=2)f.push({x:b+a[g],y:c+a[g+1]});h=new Zd(f);break a}break;case "rectangle":if(4==a.length){h=ce(b+a[0],c+a[1],b+a[0]+a[2],c+a[1]+a[3]);break a}break;case "ellipse":if(4==a.length){h=
be(b+a[0],c+a[1],a[2],a[3]);break a}break;case "circle":if(3==a.length){h=be(b+a[0],c+a[1],a[2],a[2]);break a}}}h=null}return h}catch(p){v("toShape: "+p)}}return ce(b,c,b+d,c+e)}function Pf(a){this.d=a;this.b={};this.name=null}t(Pf,Rc);Pf.prototype.bb=function(a){this.name=a.toString();this.b[this.name]=this.d?0:(this.b[this.name]||0)+1;return a};Pf.prototype.pb=function(a){this.name&&(this.b[this.name]+=a.B-(this.d?0:1));return a};Pf.prototype.Na=function(a){this.Ta(a.values);return a};
function Qf(a,b){var c=new Pf(b);try{a.L(c)}catch(d){v("toCounters: "+d)}return c.b}function Rf(){this.url=null;this.b=!1}t(Rf,Rc);Rf.prototype.sb=function(a){this.url||(this.url=a.url);return a};var Sf={opentype:!0,truetype:!0,woff:!0,woff2:!0};Rf.prototype.ab=function(a){if("format"==a.name.toLowerCase())for(var b=0;b<a.values.length;b++)if(Sf[a.values[b].stringValue()]){this.b=!0;break}return a};
Rf.prototype.Na=function(a){2==a.values.length&&(this.b=!1,a.values[1].L(this),this.b&&a.values[0].L(this));return a};Rf.prototype.$a=function(a){this.Ta(a.values);return a};function Ze(a,b){this.Pb=a;this.name=b;this.d=!1;this.e=this.b=this.f=null}Ze.prototype.start=function(){if(!this.b){var a=this;this.b=Be(te.d,function(){var b=M("Fetcher.run");a.Pb().then(function(c){var d=a.e;a.d=!0;a.f=c;a.b=null;a.e=null;if(d)for(var e=0;e<d.length;e++)try{d[e](c)}catch(f){v("Error: "+f)}Q(b,c)});return P(b)},this.name)}};function Tf(a,b){a.d?b(a.f):a.e.push(b)}function Xe(a){if(a.d)return O(a.f);a.start();return a.b.join()}
function Uf(a){if(0==a.length)return O(!0);if(1==a.length)return Xe(a[0]).ad(!0);var b=M("waitForFetches"),c=0;Pe(function(){for(;c<a.length;){var b=a[c++];if(!b.d)return Xe(b).ad(!0)}return O(!1)}).then(function(){Q(b,!0)});return P(b)}
function Vf(a,b){var c=null,d=null;"img"==a.localName&&(c=a.getAttribute("width"),d=a.getAttribute("height"));var e=new Ze(function(){function e(b){"img"==a.localName&&(c||a.removeAttribute("width"),d||a.removeAttribute("height"));h.Ra(b?b.type:"timeout")}var g=M("loadImage"),h=Je(g,a);a.addEventListener("load",e,!1);a.addEventListener("error",e,!1);a.addEventListener("abort",e,!1);"http://www.w3.org/2000/svg"==a.namespaceURI?(a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b),setTimeout(e,
300)):a.src=b;return P(g)},"loadElement "+b);e.start();return e};function Wf(a){this.f=this.e=null;this.b=0;this.d=a}function Xf(a,b){this.b=-1;this.d=a;this.e=b}function Yf(){this.b=[];this.d=[];this.match=[];this.e=[];this.f=[];this.g=!0}function Zf(a,b,c){for(var d=0;d<b.length;d++)a.d[b[d]].b=c;b.splice(0,b.length)}
Yf.prototype.clone=function(){for(var a=new Yf,b=0;b<this.b.length;b++){var c=this.b[b],d=new Wf(c.d);d.b=c.b;a.b.push(d)}for(b=0;b<this.d.length;b++)c=this.d[b],d=new Xf(c.d,c.e),d.b=c.b,a.d.push(d);a.match.push.apply(a.match,this.match);a.e.push.apply(a.e,this.e);a.f.push.apply(a.f,this.f);return a};function $f(a,b,c,d){var e=a.b.length,f=new Wf(ag);f.b=0<=d?c?2*d+1:2*d+2:c?-1:-2;a.b.push(f);Zf(a,b,e);c=new Xf(e,!0);e=new Xf(e,!1);b.push(a.d.length);a.d.push(e);b.push(a.d.length);a.d.push(c)}
function bg(a){return 1==a.b.length&&0==a.b[0].b&&a.b[0].d instanceof cg}
function dg(a,b,c){if(0!=b.b.length){var d=a.b.length;if(4==c&&1==d&&bg(b)&&bg(a)){c=a.b[0].d;b=b.b[0].d;var d={},e={},f;for(f in c.d)d[f]=c.d[f];for(f in b.d)d[f]=b.d[f];for(var g in c.e)e[g]=c.e[g];for(g in b.e)e[g]=b.e[g];a.b[0].d=new cg(c.b|b.b,d,e)}else{for(f=0;f<b.b.length;f++)a.b.push(b.b[f]);4==c?(a.g=!0,Zf(a,a.e,d)):Zf(a,a.match,d);g=a.d.length;for(f=0;f<b.d.length;f++)e=b.d[f],e.d+=d,0<=e.b&&(e.b+=d),a.d.push(e);for(f=0;f<b.match.length;f++)a.match.push(b.match[f]+g);3==c&&Zf(a,a.match,
d);if(2==c||3==c)for(f=0;f<b.e.length;f++)a.match.push(b.e[f]+g);else if(a.g){for(f=0;f<b.e.length;f++)a.e.push(b.e[f]+g);a.g=b.g}else for(f=0;f<b.e.length;f++)a.f.push(b.e[f]+g);for(f=0;f<b.f.length;f++)a.f.push(b.f[f]+g);b.b=null;b.d=null}}}var U={};function eg(){}t(eg,Rc);eg.prototype.f=function(a,b){var c=a[b].L(this);return c?[c]:null};function cg(a,b,c){this.b=a;this.d=b;this.e=c}t(cg,eg);m=cg.prototype;m.Kc=function(a){return this.b&1?a:null};m.Lc=function(a){return this.b&2048?a:null};
m.Gb=function(a){return this.b&2?a:null};m.bb=function(a){var b=this.d[a.name.toLowerCase()];return b?b:this.b&4?a:null};m.rb=function(a){return 0!=a.B||this.b&512?0>a.B&&!(this.b&256)?null:this.e[a.b]?a:null:"%"==a.b&&this.b&1024?a:null};m.qb=function(a){return 0==a.B?this.b&512?a:null:0>=a.B&&!(this.b&256)?null:this.b&16?a:null};m.pb=function(a){return 0==a.B?this.b&512?a:null:0>=a.B&&!(this.b&256)?null:this.b&48?a:(a=this.d[""+a.B])?a:null};m.ec=function(a){return this.b&64?a:null};
m.sb=function(a){return this.b&128?a:null};m.Na=function(){return null};m.$a=function(){return null};m.ab=function(){return null};m.ob=function(){return null};var ag=new cg(0,U,U);
function fg(a){this.b=new Wf(null);var b=this.e=new Wf(null),c=a.b.length;a.b.push(this.b);a.b.push(b);Zf(a,a.match,c);Zf(a,a.e,c+1);Zf(a,a.f,c+1);for(b=0;b<a.d.length;b++){var d=a.d[b];d.e?a.b[d.d].e=a.b[d.b]:a.b[d.d].f=a.b[d.b]}for(b=0;b<c;b++)if(null==a.b[b].f||null==a.b[b].e)throw Error("Invalid validator state");this.d=a.b[0]}t(fg,eg);
function gg(a,b,c,d){for(var e=c?[]:b,f=a.d,g=d,h=null,k=null;f!==a.b&&f!==a.e;)if(g>=b.length)f=f.f;else{var l=b[g],n=l;if(0!=f.b)n=!0,-1==f.b?(h?h.push(k):h=[k],k=[]):-2==f.b?0<h.length?k=h.pop():k=null:0<f.b&&0==f.b%2?k[Math.floor((f.b-1)/2)]="taken":n=null==k[Math.floor((f.b-1)/2)],f=n?f.e:f.f;else{if(0==g&&!c&&f.d instanceof hg&&a instanceof ig){if(n=(new Tc(b)).L(f.d)){g=b.length;f=f.e;continue}}else n=l.L(f.d);if(n){if(n!==l&&b===e)for(e=[],l=0;l<g;l++)e[l]=b[l];b!==e&&(e[g-d]=n);g++;f=f.e}else f=
f.f}}return f===a.b&&(c?0<e.length:g==b.length)?e:null}m=fg.prototype;m.Ia=function(a){for(var b=null,c=this.d;c!==this.b&&c!==this.e;)a?0!=c.b?c=c.e:(b=a.L(c.d))?(a=null,c=c.e):c=c.f:c=c.f;return c===this.b?b:null};m.Kc=function(a){return this.Ia(a)};m.Lc=function(a){return this.Ia(a)};m.Gb=function(a){return this.Ia(a)};m.bb=function(a){return this.Ia(a)};m.rb=function(a){return this.Ia(a)};m.qb=function(a){return this.Ia(a)};m.pb=function(a){return this.Ia(a)};m.ec=function(a){return this.Ia(a)};
m.sb=function(a){return this.Ia(a)};m.Na=function(){return null};m.$a=function(){return null};m.ab=function(a){return this.Ia(a)};m.ob=function(){return null};function ig(a){fg.call(this,a)}t(ig,fg);ig.prototype.Na=function(a){var b=gg(this,a.values,!1,0);return b===a.values?a:b?new Tc(b):null};ig.prototype.f=function(a,b){return gg(this,a,!0,b)};function hg(a){fg.call(this,a)}t(hg,fg);hg.prototype.Na=function(a){return this.Ia(a)};
hg.prototype.$a=function(a){var b=gg(this,a.values,!1,0);return b===a.values?a:b?new Uc(b):null};function jg(a,b){fg.call(this,b);this.name=a}t(jg,fg);jg.prototype.Ia=function(){return null};jg.prototype.ab=function(a){if(a.name.toLowerCase()!=this.name)return null;var b=gg(this,a.values,!1,0);return b===a.values?a:b?new Vc(a.name,b):null};function kg(){}kg.prototype.b=function(a,b){return b};kg.prototype.e=function(){};
function lg(a,b,c){this.name=b;this.d=a.e[this.name];c&&this.d instanceof hg&&(this.d=this.d.d.d)}t(lg,kg);lg.prototype.b=function(a,b,c){if(c.values[this.name])return b;if(a=this.d.f(a,b)){var d=a.length;this.e(1<d?new Tc(a):a[0],c);return b+d}return b};lg.prototype.e=function(a,b){b.values[this.name]=a};function mg(a,b){lg.call(this,a,b[0],!1);this.f=b}t(mg,lg);mg.prototype.e=function(a,b){for(var c=0;c<this.f.length;c++)b.values[this.f[c]]=a};function ng(a,b){this.d=a;this.Zc=b}t(ng,kg);
ng.prototype.b=function(a,b,c){var d=b;if(this.Zc)if(a[b]==Zc){if(++b==a.length)return d}else return d;var e=this.d[0].b(a,b,c);if(e==b)return d;b=e;for(d=1;d<this.d.length&&b<a.length;d++){e=this.d[d].b(a,b,c);if(e==b)break;b=e}return b};function og(){this.d=this.Ga=null;this.b=!1;this.values={};this.e=null}m=og.prototype;m.qd=function(a){return new lg(this.e,a,!1)};m.clone=function(){var a=new this.constructor;a.Ga=this.Ga;a.d=this.d;a.e=this.e;return a};m.Pc=function(a,b){this.Ga=a;this.d=b};
m.gb=function(){this.b=!0;return 0};function pg(a,b){a.gb([b]);return null}m.Kc=function(a){return pg(this,a)};m.Gb=function(a){return pg(this,a)};m.bb=function(a){return pg(this,a)};m.rb=function(a){return pg(this,a)};m.qb=function(a){return pg(this,a)};m.pb=function(a){return pg(this,a)};m.ec=function(a){return pg(this,a)};m.sb=function(a){return pg(this,a)};m.Na=function(a){this.gb(a.values);return null};m.$a=function(){this.b=!0;return null};m.ab=function(a){return pg(this,a)};
m.ob=function(){this.b=!0;return null};function qg(){og.call(this)}t(qg,og);qg.prototype.gb=function(a){for(var b=0,c=0;b<a.length;){var d=this.Ga[c].b(a,b,this);if(d>b)b=d,c=0;else if(++c==this.Ga.length){this.b=!0;break}}return b};function rg(){og.call(this)}t(rg,og);rg.prototype.gb=function(a){if(a.length>this.Ga.length||0==a.length)return this.b=!0,0;for(var b=0;b<this.Ga.length;b++){for(var c=b;c>=a.length;)c=1==c?0:c-2;if(this.Ga[b].b(a,c,this)!=c+1)return this.b=!0,0}return a.length};
function sg(){og.call(this)}t(sg,og);sg.prototype.gb=function(a){for(var b=a.length,c=0;c<a.length;c++)if(a[c]===Zc){b=c;break}if(b>this.Ga.length||0==a.length)return this.b=!0,0;for(c=0;c<this.Ga.length;c++){for(var d=c;d>=b;)d=1==d?0:d-2;var e;if(b+1<a.length)for(e=b+c+1;e>=a.length;)e-=e==b+2?1:2;else e=d;if(2!=this.Ga[c].b([a[d],a[e]],0,this))return this.b=!0,0}return a.length};function tg(){og.call(this)}t(tg,qg);tg.prototype.qd=function(a){return new lg(this.e,a,!0)};
tg.prototype.$a=function(a){for(var b={},c=0;c<a.values.length;c++){this.values={};a.values[c].L(this);for(var d=b,e=this.values,f=0;f<this.d.length;f++){var g=this.d[f],h=e[g]||this.e.h[g],k=d[g];k||(k=[],d[g]=k);k.push(h)}this.values["background-color"]&&c!=a.values.length-1&&(this.b=!0);if(this.b)return null}this.values={};for(var l in b)this.values[l]="background-color"==l?b[l].pop():new Uc(b[l]);return null};function ug(){og.call(this)}t(ug,qg);
ug.prototype.Pc=function(a,b){qg.prototype.Pc.call(this,a,b);this.d.push("font-family","line-height","font-size")};
ug.prototype.gb=function(a){var b=qg.prototype.gb.call(this,a);if(b+2>a.length)return this.b=!0,b;this.b=!1;var c=this.e.e;if(!a[b].L(c["font-size"]))return this.b=!0,b;this.values["font-size"]=a[b++];if(a[b]===Zc){b++;if(b+2>a.length||!a[b].L(c["line-height"]))return this.b=!0,b;this.values["line-height"]=a[b++]}var d=b==a.length-1?a[b]:new Tc(a.slice(b,a.length));if(!d.L(c["font-family"]))return this.b=!0,b;this.values["font-family"]=d;return a.length};
ug.prototype.$a=function(a){a.values[0].L(this);if(this.b)return null;for(var b=[this.values["font-family"]],c=1;c<a.values.length;c++)b.push(a.values[c]);a=new Uc(b);a.L(this.e.e["font-family"])?this.values["font-family"]=a:this.b=!0;return null};ug.prototype.bb=function(a){if(a=this.e.d[a.name])for(var b in a)this.values[b]=a[b];else this.b=!0;return null};var vg={SIMPLE:qg,INSETS:rg,INSETS_SLASH:sg,COMMA:tg,FONT:ug};
function wg(){this.e={};this.k={};this.h={};this.b={};this.d={};this.f={};this.j=[];this.g=[]}function xg(a,b){var c;if(3==b.type)c=new K(b.B,b.text);else if(7==b.type)c=af(b.text);else if(1==b.type)c=H(b.text);else throw Error("unexpected replacement");if(bg(a)){var d=a.b[0].d.d,e;for(e in d)d[e]=c;return a}throw Error("unexpected replacement");}
function yg(a,b,c){for(var d=new Yf,e=0;e<b;e++)dg(d,a.clone(),1);if(c==Number.POSITIVE_INFINITY)dg(d,a,3);else for(e=b;e<c;e++)dg(d,a.clone(),2);return d}function zg(a){var b=new Yf,c=b.b.length;b.b.push(new Wf(a));a=new Xf(c,!0);var d=new Xf(c,!1);Zf(b,b.match,c);b.g?(b.e.push(b.d.length),b.g=!1):b.f.push(b.d.length);b.d.push(d);b.match.push(b.d.length);b.d.push(a);return b}
function Ag(a,b){var c;switch(a){case "COMMA":c=new hg(b);break;case "SPACE":c=new ig(b);break;default:c=new jg(a.toLowerCase(),b)}return zg(c)}
function Bg(a){a.b.HASHCOLOR=zg(new cg(64,U,U));a.b.POS_INT=zg(new cg(32,U,U));a.b.POS_NUM=zg(new cg(16,U,U));a.b.POS_PERCENTAGE=zg(new cg(8,U,{"%":G}));a.b.NEGATIVE=zg(new cg(256,U,U));a.b.ZERO=zg(new cg(512,U,U));a.b.ZERO_PERCENTAGE=zg(new cg(1024,U,U));a.b.POS_LENGTH=zg(new cg(8,U,{em:G,ex:G,ch:G,rem:G,vh:G,vw:G,vmin:G,vmax:G,cm:G,mm:G,"in":G,px:G,pt:G,pc:G}));a.b.POS_ANGLE=zg(new cg(8,U,{deg:G,grad:G,rad:G,turn:G}));a.b.POS_TIME=zg(new cg(8,U,{s:G,ms:G}));a.b.FREQUENCY=zg(new cg(8,U,{Hz:G,kHz:G}));
a.b.RESOLUTION=zg(new cg(8,U,{dpi:G,dpcm:G,dppx:G}));a.b.URI=zg(new cg(128,U,U));a.b.IDENT=zg(new cg(4,U,U));a.b.STRING=zg(new cg(2,U,U));var b={"font-family":H("sans-serif")};a.d.caption=b;a.d.icon=b;a.d.menu=b;a.d["message-box"]=b;a.d["small-caption"]=b;a.d["status-bar"]=b}function Cg(a){return!!a.match(/^[A-Z_0-9]+$/)}
function Dg(a,b,c){var d=w(b);if(0==d.type)return null;var e={"":!0};if(14==d.type){do{A(b);d=w(b);if(1!=d.type)throw Error("Prefix name expected");e[d.text]=!0;A(b);d=w(b)}while(16==d.type);if(15!=d.type)throw Error("']' expected");A(b);d=w(b)}if(1!=d.type)throw Error("Property name expected");if(2==c?"SHORTHANDS"==d.text:"DEFAULTS"==d.text)return A(b),null;d=d.text;A(b);if(2!=c){if(39!=w(b).type)throw Error("'=' expected");Cg(d)||(a.k[d]=e)}else if(18!=w(b).type)throw Error("':' expected");return d}
function Eg(a,b){for(;;){var c=Dg(a,b,1);if(!c)break;for(var d=[],e=[],f="",g,h=!0,k=function(){if(0==d.length)throw Error("No values");var a;if(1==d.length)a=d[0];else{var b=f,c=d;a=new Yf;if("||"==b){for(b=0;b<c.length;b++){var e=new Yf,g=e;if(g.b.length)throw Error("invalid call");var h=new Wf(ag);h.b=2*b+1;g.b.push(h);var h=new Xf(0,!0),k=new Xf(0,!1);g.e.push(g.d.length);g.d.push(k);g.match.push(g.d.length);g.d.push(h);dg(e,c[b],1);$f(e,e.match,!1,b);dg(a,e,0==b?1:4)}c=new Yf;if(c.b.length)throw Error("invalid call");
$f(c,c.match,!0,-1);dg(c,a,3);a=[c.match,c.e,c.f];for(b=0;b<a.length;b++)$f(c,a[b],!1,-1);a=c}else{switch(b){case " ":e=1;break;case "|":case "||":e=4;break;default:throw Error("unexpected op");}for(b=0;b<c.length;b++)dg(a,c[b],0==b?1:e)}}return a},l=function(a){if(h)throw Error("'"+a+"': unexpected");if(f&&f!=a)throw Error("mixed operators: '"+a+"' and '"+f+"'");f=a;h=!0},n=null;!n;)switch(A(b),g=w(b),g.type){case 1:h||l(" ");if(Cg(g.text)){var p=a.b[g.text];if(!p)throw Error("'"+g.text+"' unexpected");
d.push(p.clone())}else p={},p[g.text]=H(g.text),d.push(zg(new cg(0,p,U)));h=!1;break;case 5:p={};p[""+g.B]=new cd(g.B);d.push(zg(new cg(0,p,U)));h=!1;break;case 34:l("|");break;case 25:l("||");break;case 14:h||l(" ");e.push({bd:d,Yc:f,lc:"["});f="";d=[];h=!0;break;case 6:h||l(" ");e.push({bd:d,Yc:f,lc:"(",kb:g.text});f="";d=[];h=!0;break;case 15:g=k();p=e.pop();if("["!=p.lc)throw Error("']' unexpected");d=p.bd;d.push(g);f=p.Yc;h=!1;break;case 11:g=k();p=e.pop();if("("!=p.lc)throw Error("')' unexpected");
d=p.bd;d.push(Ag(p.kb,g));f=p.Yc;h=!1;break;case 18:if(h)throw Error("':' unexpected");A(b);d.push(xg(d.pop(),w(b)));break;case 22:if(h)throw Error("'?' unexpected");d.push(yg(d.pop(),0,1));break;case 36:if(h)throw Error("'*' unexpected");d.push(yg(d.pop(),0,Number.POSITIVE_INFINITY));break;case 23:if(h)throw Error("'+' unexpected");d.push(yg(d.pop(),1,Number.POSITIVE_INFINITY));break;case 12:A(b);g=w(b);if(5!=g.type)throw Error("<int> expected");var r=p=g.B;A(b);g=w(b);if(16==g.type){A(b);g=w(b);
if(5!=g.type)throw Error("<int> expected");r=g.B;A(b);g=w(b)}if(13!=g.type)throw Error("'}' expected");d.push(yg(d.pop(),p,r));break;case 17:n=k();if(0<e.length)throw Error("unclosed '"+e.pop().lc+"'");break;default:throw Error("unexpected token");}A(b);Cg(c)?a.b[c]=n:a.e[c]=1!=n.b.length||0!=n.b[0].b?new ig(n):n.b[0].d}}
function Fg(a,b){for(var c={},d=0;d<b.length;d++)for(var e=b[d],f=a.f[e],e=f?f.d:[e],f=0;f<e.length;f++){var g=e[f],h=a.h[g];h?c[g]=h:v("Unknown property in makePropSet: "+g)}return c}
function Gg(a,b,c,d,e){var f="",g=b;b=b.toLowerCase();var h=b.match(/^-([a-z]+)-([-a-z0-9]+)$/);h&&(f=h[1],b=h[2]);if((h=a.k[b])&&h[f])if(f=a.e[b])(a=c===rd||c.Uc()?c:c.L(f))?e.Xa(b,a,d):e.wb(g,c);else if(b=a.f[b].clone(),c===rd)for(c=0;c<b.d.length;c++)e.Xa(b.d[c],rd,d);else{c.L(b);if(b.b)d=!1;else{for(a=0;a<b.d.length;a++)f=b.d[a],e.Xa(f,b.values[f]||b.e.h[f],d);d=!0}d||e.wb(g,c)}else e.dc(g,c)}
var Hg=new Ze(function(){var a=M("loadValidatorSet.load"),b=ea("validation.txt",da),c=Te(b),d=new wg;Bg(d);c.then(function(c){try{if(c.responseText){var f=new Mb(c.responseText);for(Eg(d,f);;){var g=Dg(d,f,2);if(!g)break;for(c=[];;){A(f);var h=w(f);if(17==h.type){A(f);break}switch(h.type){case 1:c.push(H(h.text));break;case 4:c.push(new bd(h.B));break;case 5:c.push(new cd(h.B));break;case 3:c.push(new K(h.B,h.text));break;default:throw Error("unexpected token");}}d.h[g]=1<c.length?new Tc(c):c[0]}for(;;){var k=
Dg(d,f,3);if(!k)break;var l=z(f,1),n;1==l.type&&vg[l.text]?(n=new vg[l.text],A(f)):n=new qg;n.e=d;g=!1;h=[];c=!1;for(var p=[],r=[];!g;)switch(A(f),l=w(f),l.type){case 1:if(d.e[l.text])h.push(n.qd(l.text)),r.push(l.text);else if(d.f[l.text]instanceof rg){var q=d.f[l.text];h.push(new mg(q.e,q.d));r.push.apply(r,q.d)}else throw Error("'"+l.text+"' is neither a simple property nor an inset shorthand");break;case 19:if(0<h.length||c)throw Error("unexpected slash");c=!0;break;case 14:p.push({Zc:c,Ga:h});
h=[];c=!1;break;case 15:var y=new ng(h,c),x=p.pop(),h=x.Ga;c=x.Zc;h.push(y);break;case 17:g=!0;A(f);break;default:throw Error("unexpected token");}n.Pc(h,r);d.f[k]=n}d.g=Fg(d,["background"]);d.j=Fg(d,"margin border padding columns column-gap column-rule column-fill".split(" "))}else v("Error: missing "+b)}catch(I){v("Error: "+I)}Q(a,d)});return P(a)},"validatorFetcher");for(var Ig={azimuth:!0,"border-collapse":!0,"border-spacing":!0,"caption-side":!0,color:!0,cursor:!0,direction:!0,elevation:!0,"empty-cells":!0,"font-kerning":!0,"font-size":!0,"font-family":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"letter-spacing":!0,"line-break":!0,"line-height":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,orphans:!0,"overflow-wrap":!0,"pitch-range":!0,quotes:!0,richness:!0,"ruby-align":!0,"ruby-position":!0,"speak-header":!0,"speak-numeral":!0,
"speak-punctuation":!0,"speech-rate":!0,stress:!0,"tab-size":!0,"text-align":!0,"text-align-last":!0,"text-decoration-skip":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-combine-upright":!0,"text-indent":!0,"text-justify":!0,"text-size-adjust":!0,"text-transform":!0,"text-underline-position":!0,visibility:!0,"voice-family":!0,volume:!0,"white-space":!0,widows:!0,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"writing-mode":!0},Jg={"http://www.idpf.org/2007/ops":!0,
"http://www.w3.org/1999/xhtml":!0,"http://www.w3.org/2000/svg":!0},Kg="margin-% padding-% border-%-width border-%-style border-%-color %".split(" "),Lg=["left","right","top","bottom"],Mg={width:!0,height:!0},Ng=0;Ng<Kg.length;Ng++)for(var Og=0;Og<Lg.length;Og++){var Pg=Kg[Ng].replace("%",Lg[Og]);Mg[Pg]=!0}function Qg(a){for(var b={},c=0;c<Kg.length;c++)for(var d in a){var e=Kg[c].replace("%",d),f=Kg[c].replace("%",a[d]);b[e]=f;b[f]=e}return b}
var Rg=Qg({before:"right",after:"left",start:"top",end:"bottom"}),Sg=Qg({before:"top",after:"bottom",start:"left",end:"right"});function V(a,b){this.value=a;this.Ba=b}m=V.prototype;m.gd=function(){return this};m.qc=function(a){a=this.value.L(a);return a===this.value?this:new V(a,this.Ba)};m.hd=function(a){return 0==a?this:new V(this.value,this.Ba+a)};m.evaluate=function(a,b){return Jf(a,this.value,b)};m.ed=function(){return!0};function Tg(a,b,c){V.call(this,a,b);this.F=c}t(Tg,V);
Tg.prototype.gd=function(){return new V(this.value,this.Ba)};Tg.prototype.qc=function(a){a=this.value.L(a);return a===this.value?this:new Tg(a,this.Ba,this.F)};Tg.prototype.hd=function(a){return 0==a?this:new Tg(this.value,this.Ba+a,this.F)};Tg.prototype.ed=function(a){return!!this.F.evaluate(a)};function Ug(a,b,c){return(null==b||c.Ba>b.Ba)&&c.ed(a)?c.gd():b}var Vg={"region-id":!0};function Wg(a){return"_"!=a.charAt(0)&&!Vg[a]}function Xg(a,b,c){c?a[b]=c:delete a[b]}
function Yg(a,b){var c=a[b];c||(c={},a[b]=c);return c}function Zg(a,b){var c=a[b];c||(c=[],a[b]=c);return c}function $g(a,b,c,d,e,f){if(e){var g=Yg(b,"_pseudos");b=g[e];b||(b={},g[e]=b)}f&&(e=Yg(b,"_regions"),b=e[f],b||(b={},e[f]=b));for(var h in c)"_"!=h.charAt(0)&&(Vg[h]?(f=c[h],e=Zg(b,h),Array.prototype.push.apply(e,f)):Xg(b,h,Ug(a,b[h],c[h].hd(d))))}function ah(a,b){this.e=a;this.d=b;this.b=""}t(ah,Sc);
function bh(a){a=a.e["font-size"].value;var b;a:switch(a.b.toLowerCase()){case "px":case "in":case "pt":case "pc":case "cm":case "mm":case "q":b=!0;break a;default:b=!1}if(!b)throw Error("Unexpected state");return a.B*cc[a.b]}ah.prototype.rb=function(a){if("em"==a.b||"ex"==a.b)return new K(fc(this.d,a.b)/fc(this.d,"em")*a.B*bh(this),"px");if("%"==a.b){if("font-size"===this.b)return new K(a.B/100*bh(this),"px");var b=this.b.match(/height|^(top|bottom)$/)?"vh":"vw";return new K(a.B,b)}return a};
ah.prototype.ob=function(a){return"font-size"==this.b?Jf(this.d,a,this.b).L(this):a};function ch(){}ch.prototype.apply=function(){};ch.prototype.g=function(a){return new dh([this,a])};ch.prototype.clone=function(){return this};function eh(a){this.b=a}t(eh,ch);eh.prototype.apply=function(a){a.b[a.b.length-1].push(this.b.b())};function dh(a){this.b=a}t(dh,ch);dh.prototype.apply=function(a){for(var b=0;b<this.b.length;b++)this.b[b].apply(a)};dh.prototype.g=function(a){this.b.push(a);return this};
dh.prototype.clone=function(){return new dh([].concat(this.b))};function fh(a,b,c,d){this.style=a;this.b=b;this.d=c;this.e=d}t(fh,ch);fh.prototype.apply=function(a){$g(a.d,a.w,this.style,this.b,this.d,this.e)};function W(){this.b=null}t(W,ch);W.prototype.apply=function(a){this.b.apply(a)};W.prototype.d=function(){return 0};W.prototype.e=function(){return!1};function gh(a){this.b=null;this.f=a}t(gh,W);gh.prototype.apply=function(a){0<=a.u.indexOf(this.f)&&this.b.apply(a)};gh.prototype.d=function(){return 10};
gh.prototype.e=function(a){this.b&&hh(a.ra,this.f,this.b);return!0};function ih(a){this.b=null;this.id=a}t(ih,W);ih.prototype.apply=function(a){a.T!=this.id&&a.ea!=this.id||this.b.apply(a)};ih.prototype.d=function(){return 11};ih.prototype.e=function(a){this.b&&hh(a.e,this.id,this.b);return!0};function jh(a){this.b=null;this.localName=a}t(jh,W);jh.prototype.apply=function(a){a.f==this.localName&&this.b.apply(a)};jh.prototype.d=function(){return 8};
jh.prototype.e=function(a){this.b&&hh(a.Fb,this.localName,this.b);return!0};function kh(a,b){this.b=null;this.f=a;this.localName=b}t(kh,W);kh.prototype.apply=function(a){a.f==this.localName&&a.k==this.f&&this.b.apply(a)};kh.prototype.d=function(){return 8};kh.prototype.e=function(a){if(this.b){var b=a.b[this.f];b||(b="ns"+a.g++ +":",a.b[this.f]=b);hh(a.f,b+this.localName,this.b)}return!0};function nh(a){this.b=null;this.f=a}t(nh,W);
nh.prototype.apply=function(a){var b=a.e;if(b&&"a"==a.f){var c=b.getAttribute("href");c&&c.match(/^#/)&&(b=b.ownerDocument.getElementById(c.substring(1)))&&(b=b.getAttributeNS("http://www.idpf.org/2007/ops","type"))&&b.match(this.f)&&this.b.apply(a)}};function oh(a){this.b=null;this.f=a}t(oh,W);oh.prototype.apply=function(a){a.k==this.f&&this.b.apply(a)};function ph(a,b){this.b=null;this.f=a;this.name=b}t(ph,W);ph.prototype.apply=function(a){a.e&&a.e.hasAttributeNS(this.f,this.name)&&this.b.apply(a)};
function qh(a,b,c){this.b=null;this.f=a;this.name=b;this.value=c}t(qh,W);qh.prototype.apply=function(a){a.e&&a.e.getAttributeNS(this.f,this.name)==this.value&&this.b.apply(a)};qh.prototype.d=function(){return"type"==this.name&&"http://www.idpf.org/2007/ops"==this.f?9:0};qh.prototype.e=function(a){return"type"==this.name&&"http://www.idpf.org/2007/ops"==this.f?(this.b&&hh(a.d,this.value,this.b),!0):!1};function rh(a,b){this.b=null;this.f=a;this.name=b}t(rh,W);
rh.prototype.apply=function(a){if(a.e){var b=a.e.getAttributeNS(this.f,this.name);b&&Jg[b]&&this.b.apply(a)}};rh.prototype.d=function(){return 0};rh.prototype.e=function(){return!1};function sh(a,b,c){this.b=null;this.f=a;this.name=b;this.h=c}t(sh,W);sh.prototype.apply=function(a){if(a.e){var b=a.e.getAttributeNS(this.f,this.name);b&&b.match(this.h)&&this.b.apply(a)}};function th(a){this.b=null;this.f=a}t(th,W);th.prototype.apply=function(a){a.lang.match(this.f)&&this.b.apply(a)};
function uh(){this.b=null}t(uh,W);uh.prototype.apply=function(a){a.ta&&this.b.apply(a)};uh.prototype.d=function(){return 6};function vh(){this.b=null}t(vh,W);vh.prototype.apply=function(a){a.ya&&this.b.apply(a)};vh.prototype.d=function(){return 12};function wh(a){this.b=null;this.F=a}t(wh,W);wh.prototype.apply=function(a){a.h[this.F]&&this.b.apply(a)};wh.prototype.d=function(){return 5};function xh(a){this.F=a}xh.prototype.b=function(){return this};
xh.prototype.push=function(a,b){0==b&&yh(a,this.F);return!1};xh.prototype.pop=function(a,b){return 0==b?(a.h[this.F]--,!0):!1};function zh(a){this.F=a}zh.prototype.b=function(){return this};zh.prototype.push=function(a,b){0==b?yh(a,this.F):1==b&&a.h[this.F]--;return!1};zh.prototype.pop=function(a,b){if(0==b)return a.h[this.F]--,!0;1==b&&yh(a,this.F);return!1};function Ah(a){this.F=a;this.d=!1}Ah.prototype.b=function(){return new Ah(this.F)};
Ah.prototype.push=function(a){return this.d?(a.h[this.F]--,!0):!1};Ah.prototype.pop=function(a,b){if(this.d)return a.h[this.F]--,!0;0==b&&(this.d=!0,yh(a,this.F));return!1};function Bh(a){this.F=a;this.d=!1}Bh.prototype.b=function(){return new Bh(this.F)};Bh.prototype.push=function(a,b){this.d&&(-1==b?yh(a,this.F):0==b&&a.h[this.F]--);return!1};Bh.prototype.pop=function(a,b){if(this.d){if(-1==b)return a.h[this.F]--,!0;0==b&&yh(a,this.F)}else 0==b&&(this.d=!0,yh(a,this.F));return!1};
function Ch(a,b){this.e=a;this.d=b}Ch.prototype.b=function(){return this};Ch.prototype.push=function(){return!1};Ch.prototype.pop=function(a,b){return 0==b?(Dh(a,this.e,this.d),!0):!1};function Eh(a){this.lang=a}Eh.prototype.b=function(){return this};Eh.prototype.push=function(){return!1};Eh.prototype.pop=function(a,b){return 0==b?(a.lang=this.lang,!0):!1};function Fh(a){this.d=a}Fh.prototype.b=function(){return this};Fh.prototype.push=function(){return!1};
Fh.prototype.pop=function(a,b){return 0==b?(a.C=this.d,!0):!1};function Gh(a,b){this.b=a;this.d=b}t(Gh,Sc);Gh.prototype.bb=function(a){var b=this.b,c=b.C,d=Math.floor(c.length/2)-1;switch(a.name){case "open-quote":a=c[2*Math.min(d,b.l)];b.l++;break;case "close-quote":return 0<b.l&&b.l--,c[2*Math.min(d,b.l)+1];case "no-open-quote":return b.l++,new $c("");case "no-close-quote":return 0<b.l&&b.l--,new $c("")}return a};
var Hh={roman:[4999,1E3,"M",900,"CM",500,"D",400,"CD",100,"C",90,"XC",50,"L",40,"XL",10,"X",9,"IX",5,"V",4,"IV",1,"I"],armenian:[9999,9E3,"\u0584",8E3,"\u0583",7E3,"\u0582",6E3,"\u0581",5E3,"\u0580",4E3,"\u057f",3E3,"\u057e",2E3,"\u057d",1E3,"\u057c",900,"\u057b",800,"\u057a",700,"\u0579",600,"\u0578",500,"\u0577",400,"\u0576",300,"\u0575",200,"\u0574",100,"\u0573",90,"\u0572",80,"\u0571",70,"\u0570",60,"\u056f",50,"\u056e",40,"\u056d",30,"\u056c",20,"\u056b",10,"\u056a",9,"\u0569",8,"\u0568",7,"\u0567",
6,"\u0566",5,"\u0565",4,"\u0564",3,"\u0563",2,"\u0562",1,"\u0561"],georgian:[19999,1E4,"\u10f5",9E3,"\u10f0",8E3,"\u10ef",7E3,"\u10f4",6E3,"\u10ee",5E3,"\u10ed",4E3,"\u10ec",3E3,"\u10eb",2E3,"\u10ea",1E3,"\u10e9",900,"\u10e8",800,"\u10e7",700,"\u10e6",600,"\u10e5",500,"\u10e4",400,"\u10f3",300,"\u10e2",200,"\u10e1",100,"\u10e0",90,"\u10df",80,"\u10de",70,"\u10dd",60,"\u10f2",50,"\u10dc",40,"\u10db",30,"\u10da",20,"\u10d9",10,"\u10d8",9,"\u10d7",8,"\u10f1",7,"\u10d6",6,"\u10d5",5,"\u10d4",4,"\u10d3",
3,"\u10d2",2,"\u10d1",1,"\u10d0"],hebrew:[999,400,"\u05ea",300,"\u05e9",200,"\u05e8",100,"\u05e7",90,"\u05e6",80,"\u05e4",70,"\u05e2",60,"\u05e1",50,"\u05e0",40,"\u05de",30,"\u05dc",20,"\u05db",19,"\u05d9\u05d8",18,"\u05d9\u05d7",17,"\u05d9\u05d6",16,"\u05d8\u05d6",15,"\u05d8\u05d5",10,"\u05d9",9,"\u05d8",8,"\u05d7",7,"\u05d6",6,"\u05d5",5,"\u05d4",4,"\u05d3",3,"\u05d2",2,"\u05d1",1,"\u05d0"]},Ih={latin:"a-z",alpha:"a-z",greek:"\u03b1-\u03c1\u03c3-\u03c9",russian:"\u0430-\u0438\u043a-\u0449\u044d-\u044f"},
Jh={square:"\u25a0",disc:"\u2022",circle:"\u25e6",none:""},Kh={Hd:!1,ub:"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Sb:"\u5341\u767e\u5343",yd:"\u8ca0"};
function Lh(a){if(9999<a||-9999>a)return""+a;if(0==a)return Kh.ub.charAt(0);var b=new Aa;0>a&&(b.append(Kh.yd),a=-a);if(10>a)b.append(Kh.ub.charAt(a));else if(Kh.Id&&19>=a)b.append(Kh.Sb.charAt(0)),0!=a&&b.append(Kh.Sb.charAt(a-10));else{var c=Math.floor(a/1E3);c&&(b.append(Kh.ub.charAt(c)),b.append(Kh.Sb.charAt(2)));if(c=Math.floor(a/100)%10)b.append(Kh.ub.charAt(c)),b.append(Kh.Sb.charAt(1));if(c=Math.floor(a/10)%10)b.append(Kh.ub.charAt(c)),b.append(Kh.Sb.charAt(0));(a%=10)&&b.append(Kh.ub.charAt(a))}return b.toString()}
function Mh(a,b){var c=!1,d=!1,e;null!=(e=b.match(/^upper-(.*)/))?(c=!0,b=e[1]):null!=(e=b.match(/^lower-(.*)/))&&(d=!0,b=e[1]);e="";if(Hh[b])a:{e=Hh[b];var f=a;if(f>e[0]||0>=f||f!=Math.round(f))e="";else{for(var g="",h=1;h<e.length;h+=2){var k=e[h],l=Math.floor(f/k);if(20<l){e="";break a}for(f-=l*k;0<l;)g+=e[h+1],l--}e=g}}else if(Ih[b])if(e=a,0>=e||e!=Math.round(e))e="";else{g=Ih[b];f=[];for(h=0;h<g.length;)if("-"==g.substr(h+1,1))for(l=g.charCodeAt(h),k=g.charCodeAt(h+2),h+=3;l<=k;l++)f.push(String.fromCharCode(l));
else f.push(g.substr(h++,1));g="";do e--,h=e%f.length,g=f[h]+g,e=(e-h)/f.length;while(0<e);e=g}else null!=Jh[b]?e=Jh[b]:"decimal-leading-zero"==b?(e=a+"",1==e.length&&(e="0"+e)):"cjk-ideographic"==b||"trad-chinese-informal"==b?e=Lh(a):e=a+"";return c?e.toUpperCase():d?e.toLowerCase():e}
function Nh(a,b){var c=b[0].toString(),d=1<b.length?b[1].stringValue():"decimal",e=a.b.g[c];if(e&&e.length)return new $c(Mh(e&&e.length&&e[e.length-1]||0,d));c=new L(Oh(a.b.Ua,c,function(a){return Mh(a||0,d)}));return new Tc([c])}
function Ph(a,b){var c=b[0].toString(),d=b[1].stringValue(),e=2<b.length?b[2].stringValue():"decimal",f=a.b.g[c],g=new Aa;if(f&&f.length)for(var h=0;h<f.length;h++)0<h&&g.append(d),g.append(Mh(f[h],e));c=new L(Qh(a.b.Ua,c,function(a){var b=[];if(a.length)for(var c=0;c<a.length;c++)b.push(Mh(a[c],e));a=g.toString();a.length&&b.push(a);return b.length?b.join(d):Mh(0,e)}));return new Tc([c])}
Gh.prototype.ab=function(a){switch(a.name){case "attr":if(1==a.values.length)return new $c(this.d&&this.d.getAttribute(a.values[0].stringValue())||"");break;case "counter":if(2>=a.values.length)return Nh(this,a.values);break;case "counters":if(3>=a.values.length)return Ph(this,a.values)}v("E_CSS_CONTENT_PROP: "+a.toString());return new $c("")};var Rh=1/1048576;function Sh(a,b){for(var c in a)b[c]=a[c].clone()}
function Th(){this.g=0;this.b={};this.Fb={};this.f={};this.d={};this.ra={};this.e={};this.xb={};this.K=0}Th.prototype.clone=function(){var a=new Th;a.g=this.g;for(var b in this.b)a.b[b]=this.b[b];Sh(this.Fb,a.Fb);Sh(this.f,a.f);Sh(this.d,a.d);Sh(this.ra,a.ra);Sh(this.e,a.e);Sh(this.xb,a.xb);a.K=this.K;return a};function hh(a,b,c){var d=a[b];d&&(c=d.g(c));a[b]=c}
function Uh(a,b,c){this.j=a;this.d=b;this.Ua=c;this.b=[[],[]];this.h={};this.u=this.w=this.e=null;this.Z=this.ea=this.T=this.k=this.f="";this.I=this.G=null;this.ya=this.ta=!0;this.g={};this.A=[{}];this.C=[new $c("\u201c"),new $c("\u201d"),new $c("\u2018"),new $c("\u2019")];this.l=0;this.lang="";this.wa=[]}function yh(a,b){a.h[b]=(a.h[b]||0)+1}function Vh(a,b,c){(b=b[c])&&b.apply(a)}var Wh=[];function Xh(a,b,c,d){a.e=null;a.w=d;a.k="";a.f="";a.T="";a.ea="";a.u=b;a.Z="";a.G=Wh;a.I=c;Yh(a)}
function Zh(a,b,c){a.g[b]?a.g[b].push(c):a.g[b]=[c];c=a.A[a.A.length-1];c||(c={},a.A[a.A.length-1]=c);c[b]=!0}
function $h(a,b){var c=sd,d=b.display;d&&(c=d.evaluate(a.d));var e=null,d=null,f=b["counter-reset"];f&&(f=f.evaluate(a.d))&&(e=Qf(f,!0));(f=b["counter-increment"])&&(f=f.evaluate(a.d))&&(d=Qf(f,!1));"ol"!=a.f&&"ul"!=a.f||"http://www.w3.org/1999/xhtml"!=a.k||(e||(e={}),e["ua-list-item"]=0);c===vd&&(d||(d={}),d["ua-list-item"]=1);if(e)for(var g in e)Zh(a,g,e[g]);if(d)for(var h in d)a.g[h]||Zh(a,h,0),g=a.g[h],g[g.length-1]+=d[h];c===vd&&(c=a.g["ua-list-item"],b["ua-list-item-count"]=new V(new bd(c[c.length-
1]),0));a.A.push(null)}function ai(a){var b=a.A.pop();if(b)for(var c in b)(b=a.g[c])&&(1==b.length?delete a.g[c]:b.pop())}function Dh(a,b,c){$h(a,b);b.content&&(b.content=b.content.qc(new Gh(a,c)));ai(a)}var bi="before transclusion-before footnote-call footnote-marker inner first-letter first-line  transclusion-after after".split(" ");
function ci(a,b,c){a.wa.push(b);a.I=null;a.e=b;a.w=c;a.k=b.namespaceURI;a.f=b.localName;var d=a.j.b[a.k];a.Z=d?d+a.f:"";a.T=b.getAttribute("id");a.ea=b.getAttributeNS("http://www.w3.org/XML/1998/namespace","id");(d=b.getAttribute("class"))?a.u=d.split(/\s+/):a.u=Wh;(d=b.getAttributeNS("http://www.idpf.org/2007/ops","type"))?a.G=d.split(/\s+/):a.G=Wh;"style"==a.f&&"http://www.gribuser.ru/xml/fictionbook/2.0"==a.k&&(a.u=[b.getAttribute("name")||""]);(d=b.getAttributeNS("http://www.w3.org/XML/1998/namespace",
"lang"))||"http://www.w3.org/1999/xhtml"!=a.k||(d=b.getAttribute("lang"));d&&(a.b[a.b.length-1].push(new Eh(a.lang)),a.lang=d.toLowerCase());Yh(a);d=c.quotes;c=null;d&&(d=d.evaluate(a.d))&&(c=new Fh(a.C),d===wd?a.C=[new $c(""),new $c("")]:d instanceof Tc&&(a.C=d.values));$h(a,a.w);if(d=a.w._pseudos)for(var e=!0,f=0;f<bi.length;f++){var g=bi[f];g||(e=!1);(g=d[g])&&(e?Dh(a,g,b):a.b[a.b.length-2].push(new Ch(g,b)))}c&&a.b[a.b.length-2].push(c)}
function Yh(a){var b;for(b=0;b<a.u.length;b++)Vh(a,a.j.ra,a.u[b]);for(b=0;b<a.G.length;b++)Vh(a,a.j.d,a.G[b]);Vh(a,a.j.e,a.T);Vh(a,a.j.Fb,a.f);""!=a.f&&Vh(a,a.j.Fb,"*");Vh(a,a.j.f,a.Z);null!==a.I&&(Vh(a,a.j.xb,a.I),Vh(a,a.j.xb,"*"));a.e=null;a.b.push([]);for(var c=1;-1<=c;--c){var d=a.b[a.b.length-c-2];for(b=0;b<d.length;)d[b].push(a,c)?d.splice(b,1):b++}a.ta=!0;a.ya=!1}
Uh.prototype.pop=function(){for(var a=1;-1<=a;--a)for(var b=this.b[this.b.length-a-2],c=0;c<b.length;)b[c].pop(this,a)?b.splice(c,1):c++;this.b.pop();this.ta=!1};var di=null;function ei(a,b,c,d,e,f,g){gf.call(this,a,b,g);this.b=null;this.d=0;this.k=null;this.w=0;this.g=null;this.l=!1;this.F=c;this.h=d?d.h:di?di.clone():new Th;this.C=e;this.u=f;this.j=0}t(ei,hf);m=ei.prototype;m.jd=function(a){hh(this.h.Fb,"*",a)};
function fi(a,b){var c=a.b;if(0<c.length){c.sort(function(a,b){return b.d()-a.d()});for(var d=null,e=c.length-1;0<=e;e--)d=c[e],d.b=b,b=d;if(d.e(a.h))return}a.jd(b)}m.Sa=function(a,b){if(b||a)this.d+=1,b&&a?this.b.push(new kh(a,b)):b?this.b.push(new jh(b)):this.b.push(new oh(a))};m.nc=function(a){this.g?(v("::"+this.g+" followed by ."+a),this.b.push(new wh(""))):(this.d+=256,this.b.push(new gh(a)))};
m.yb=function(a,b){if(this.g)v("::"+this.g+" followed by :"+a),this.b.push(new wh(""));else{switch(a.toLowerCase()){case "first-child":this.b.push(new uh);break;case "root":this.b.push(new vh);break;case "link":this.b.push(new jh("a"));this.b.push(new ph("","href"));break;case "-adapt-href-epub-type":case "href-epub-type":if(b&&1==b.length&&"string"==typeof b[0]){var c=new RegExp("(^|s)"+ga(b[0])+"($|s)");this.b.push(new nh(c))}else this.b.push(new wh(""));break;case "-adapt-footnote-content":case "footnote-content":this.l=
!0;break;case "visited":case "active":case "hover":case "focus":this.b.push(new wh(""));break;case "lang":b&&1==b.length&&"string"==typeof b[0]?this.b.push(new th(new RegExp("^"+ga(b[0].toLowerCase())+"($|-)"))):this.b.push(new wh(""));break;case "before":case "after":case "first-line":case "first-letter":this.zb(a,b);return;default:this.b.push(new wh(""))}this.d+=256}};
m.zb=function(a,b){switch(a){case "before":case "after":case "first-line":case "first-letter":case "footnote-call":case "footnote-marker":case "inner":this.g?(v("Double pseudoelement ::"+this.g+"::"+a),this.b.push(new wh(""))):this.g=a;break;case "first-n-lines":if(b&&1==b.length&&"number"==typeof b[0]){var c=Math.round(b[0]);if(0<c&&c==b[0]){this.g?(v("Double pseudoelement ::"+this.g+"::"+a),this.b.push(new wh(""))):this.g="first-"+c+"-lines";break}}default:v("Unrecognized pseudoelement: ::"+a),
this.b.push(new wh(""))}this.d+=1};m.wc=function(a){this.d+=65536;this.b.push(new ih(a))};m.Ob=function(a,b,c,d){this.d+=256;d=d||"";switch(c){case 0:this.b.push(new ph(a,b));break;case 39:this.b.push(new qh(a,b,d));break;case 45:this.b.push(new sh(a,b,new RegExp("(^|s)"+ga(d)+"($|s)")));break;case 44:this.b.push(new sh(a,b,new RegExp("^"+ga(d)+"($|-)")));break;case 50:"supported"==d?this.b.push(new rh(a,b)):v("Unsupported :: attr selector op: "+d);break;default:v("Unsupported attr selector: "+c)}};
m.Va=function(){var a="d"+this.w++;fi(this,new eh(new xh(a)));this.b=[new wh(a)]};m.mc=function(){var a="c"+this.w++;fi(this,new eh(new zh(a)));this.b=[new wh(a)]};m.kc=function(){var a="a"+this.w++;fi(this,new eh(new Ah(a)));this.b=[new wh(a)]};m.rc=function(){var a="f"+this.w++;fi(this,new eh(new Bh(a)));this.b=[new wh(a)]};m.Bc=function(){gi(this);this.g=null;this.l=!1;this.d=0;this.b=[]};
m.Za=function(){var a;0!=this.j?(kf(this,"E_CSS_UNEXPECTED_SELECTOR"),a=!0):a=!1;a||(this.j=1,this.k={},this.g=null,this.d=0,this.l=!1,this.b=[])};m.M=function(a,b){hf.prototype.M.call(this,a,b);1==this.j&&(this.j=0)};m.nb=function(a){hf.prototype.nb.call(this,a);this.j=0};m.ha=function(){gi(this);hf.prototype.ha.call(this);1==this.j&&(this.j=0)};m.Oa=function(){hf.prototype.Oa.call(this)};function gi(a){if(a.b){var b=a.d,c;c=a.h;c=c.K+=Rh;fi(a,a.nd(b+c));a.b=null;a.g=null;a.l=!1;a.d=0}}
m.nd=function(a){var b=this.C;this.l&&(b=b?"xxx-bogus-xxx":"footnote");return new fh(this.k,a,this.g,b)};m.Ea=function(a,b,c){Gg(this.u,a,b,c,this)};m.wb=function(a,b){jf(this,"E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};m.dc=function(a,b){jf(this,"E_INVALID_PROPERTY "+a+": "+b.toString())};m.Xa=function(a,b,c){"display"!=a||b!==zd&&b!==yd||(this.Xa("flow-options",new Tc([nd,Dd]),c),this.Xa("flow-into",b,c),b=ld);c=c?cf(this):df(this);Xg(this.k,a,this.F?new Tg(b,c,this.F):new V(b,c))};
function hi(a,b){gf.call(this,a,b,!1)}t(hi,hf);hi.prototype.Ea=function(a,b){if(this.e.values[a])this.M("E_CSS_NAME_REDEFINED "+a,this.vb());else{var c=a.match(/height|^(top|bottom)$/)?"vh":"vw",c=new Gc(this.e,100,c),c=b.ca(this.e,c);this.e.values[a]=c}};function ii(a,b,c,d,e){gf.call(this,a,b,!1);this.b=d;this.F=c;this.d=e}t(ii,hf);ii.prototype.Ea=function(a,b,c){c?v("E_IMPORTANT_NOT_ALLOWED"):Gg(this.d,a,b,c,this)};ii.prototype.wb=function(a,b){v("E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};
ii.prototype.dc=function(a,b){v("E_INVALID_PROPERTY "+a+": "+b.toString())};ii.prototype.Xa=function(a,b,c){c=c?cf(this):df(this);c+=this.K;this.K+=Rh;Xg(this.b,a,this.F?new Tg(b,c,this.F):new V(b,c))};function ji(a,b){Ef.call(this,a);this.b={};this.d=b;this.K=0}t(ji,Ef);ji.prototype.Ea=function(a,b,c){Gg(this.d,a,b,c,this)};ji.prototype.wb=function(a,b){v("E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};ji.prototype.dc=function(a,b){v("E_INVALID_PROPERTY "+a+": "+b.toString())};
ji.prototype.Xa=function(a,b,c){c=(c?67108864:50331648)+this.K;this.K+=Rh;Xg(this.b,a,new V(b,c))};var ki=new Ze(function(){var a=M("uaStylesheetBase");Xe(Hg).then(function(b){var c=ea("user-agent-base.css",da);b=new ei(null,null,null,null,null,b,!0);b.nb("UA");di=b.h;Gf(c,b,null).ka(a)});return P(a)},"uaStylesheetBaseFetcher");function li(a,b,c){return(a=a["writing-mode"])&&(b=a.evaluate(b,"writing-mode"))&&b!==rd?b===Jd:c}
function mi(a,b,c,d){var e={},f;for(f in a)Wg(f)&&(e[f]=a[f]);a=a._regions;if((c||d)&&a)for(d&&(d=["footnote"],c=c?c.concat(d):d),d=0;d<c.length;d++){f=a[c[d]];for(var g in f)Wg(g)&&(e[g]=Ug(b,e[g],f[g]))}return e}function ni(a,b,c,d){c=c?Rg:Sg;for(var e in a)if(a.hasOwnProperty(e)){var f=a[e];if(f){var g=c[e];if(g){var h=a[g];if(h&&h.Ba>f.Ba)continue;g=Mg[g]?g:e}else g=e;b[g]=d(e,f)}}};var oi={"font-style":xd,"font-variant":xd,"font-weight":xd},pi="OTTO"+(new Date).valueOf(),qi=1;function ri(a){a=this.lb=a;var b=new Aa,c;for(c in oi)b.append(" "),b.append(a[c].toString());this.d=b.toString();if(c=this.lb.src){a=new Rf;try{c.L(a)}catch(d){v("toFontSrcURL: "+d)}c=a.url}else c=null;this.src=c;this.e=[];this.f=[];this.b=(c=this.lb["font-family"])?c.stringValue():null}
function si(a,b,c){var d=new Aa;d.append("@font-face {\n  font-family: ");d.append(a.b);d.append(";\n  ");for(var e in oi)d.append(e),d.append(": "),a.lb[e].qa(d,!0),d.append(";\n  ");c?(d.append('src: url("'),b=(window.URL||window.webkitURL).createObjectURL(c),d.append(b),a.e.push(b),a.f.push(c)):(d.append('src: url("'),d.append(Da(b)));d.append('");\n}\n');return d.toString()}function ti(a){this.d=a;this.b={}}function ui(a,b){this.d=a;this.b=b;this.e={};this.f=0}
function vi(a,b,c){b=b.b;var d=c.b[b];if(d)return d;d="Fnt_"+ ++a.f;return c.b[b]=d}
function wi(a,b,c,d){var e=M("initFont"),f=b.src,g={},h;for(h in oi)g[h]=b.lb[h];d=vi(a,b,d);g["font-family"]=H(d);var k=new ri(g),l=a.b.ownerDocument.createElement("span");l.textContent="M";var n=(new Date).valueOf()+1E3;b=a.d.ownerDocument.createElement("style");h=pi+qi++;b.textContent=si(k,"",Ue([h]));a.d.appendChild(b);a.b.appendChild(l);l.style.visibility="hidden";l.style.fontFamily=d;for(var p in oi)u(l,p,g[p].toString());var g=l.getBoundingClientRect(),r=g.right-g.left,q=g.bottom-g.top;b.textContent=
si(k,f,c);v("Starting to load font: "+f);var y=!1;Pe(function(){var a=l.getBoundingClientRect(),b=a.bottom-a.top;if(r!=a.right-a.left||q!=b)return y=!0,O(!1);(new Date).valueOf()>n?a=O(!1):(a=M("Frame.sleep"),Je(a).Ra(!0,10),a=P(a));return a}).then(function(){y?v("Loaded font: "+f):v("Failed to load font: "+f);a.b.removeChild(l);Q(e,k)});return P(e)}
function xi(a,b,c){var d=b.src,e=a.e[d];e?Tf(e,function(a){if(a.d==b.d){var e=b.b,h=c.b[e];a=a.b;if(h){if(h!=a)throw Error("E_FONT_FAMILY_INCONSISTENT "+b.b);}else c.b[e]=a;v("Found already-loaded font: "+d)}else v("E_FONT_FACE_INCOMPATIBLE "+b.src)}):(e=new Ze(function(){var e=M("loadFont"),g=c.d?c.d(d):null;g?Te(d,!0).then(function(d){d.Ub?g(d.Ub).then(function(d){wi(a,b,d,c).ka(e)}):Q(e,null)}):wi(a,b,null,c).ka(e);return P(e)},"loadFont "+d),a.e[d]=e,e.start());return e};function yi(a,b,c){this.j=a;this.url=b;this.b=c;this.lang=null;this.f=-1;this.root=c.documentElement;a=null;if("http://www.w3.org/1999/xhtml"==this.root.namespaceURI){for(b=this.root.firstChild;b;b=b.nextSibling)if(1==b.nodeType&&(c=b,"http://www.w3.org/1999/xhtml"==c.namespaceURI))switch(c.localName){case "head":a=c}this.lang=this.root.getAttribute("lang")}else if("http://www.gribuser.ru/xml/fictionbook/2.0"==this.root.namespaceURI){a=this.root;for(b=this.root.firstChild;b;b=b.nextSibling);b=zi(zi(zi(zi(new Ai([this.b]),
"FictionBook"),"description"),"title-info"),"lang").textContent();0<b.length&&(this.lang=b[0])}else if("http://example.com/sse"==this.root.namespaceURI)for(c=this.root.firstElementChild;c;c=c.nextElementSibling)"meta"===c.localName&&(a=c);this.h=a;this.e=this.root;this.g=1;this.e.setAttribute("data-adapt-eloff","0")}
function Bi(a,b){var c=b.getAttribute("data-adapt-eloff");if(c)return parseInt(c,10);for(var c=a.g,d=a.e;d!=b;){var e=d.firstChild;if(!e)for(;!(e=d.nextSibling);)if(d=d.parentNode,null==d)throw Error("Internal error");d=e;1==e.nodeType?(e.setAttribute("data-adapt-eloff",c.toString()),++c):c+=e.textContent.length}a.g=c;a.e=b;return c-1}
function Ci(a,b,c,d){var e=0,f=null;if(1==b.nodeType){if(!d)return Bi(a,b)}else{e=c;f=b.previousSibling;if(!f)return b=b.parentNode,e+=1,Bi(a,b)+e;b=f}for(;;){for(;b.lastChild;)b=b.lastChild;if(1==b.nodeType)break;e+=b.textContent.length;f=b.previousSibling;if(!f){b=b.parentNode;break}b=f}e+=1;return Bi(a,b)+e}function Di(a){0>a.f&&(a.f=Ci(a,a.root,0,!0));return a.f}
function Ei(a,b){for(var c,d=a.root;;){c=Bi(a,d);if(c>=b)return d;var e=d.children;if(!e)break;var f=Ia(e.length,function(c){return Bi(a,e[c])>b});if(0==f)break;if(f<e.length&&Bi(a,e[f])<=b)throw Error("Consistency check failed!");d=e[f-1]}c=c+1;for(var f=d,g=f.firstChild||f.nextSibling,h=null;;){if(g){if(1==g.nodeType)break;h=f=g;c+=g.textContent.length;if(c>b)break}else if(f=f.parentNode,!f)break;g=f.nextSibling}return h||d}
function Fi(a,b){var c=b.getAttribute("id");c&&!a.d[c]&&(a.d[c]=b);(c=b.getAttributeNS("http://www.w3.org/XML/1998/namespace","id"))&&!a.d[c]&&(a.d[c]=b);for(c=b.firstElementChild;c;c=c.nextElementSibling)Fi(a,c)}function Gi(a,b){var c=b.match(/([^#]*)\#(.+)$/);if(!c||c[1]&&c[1]!=a.url)return null;var c=c[2],d=a.b.getElementById(c);d||(a.d||(a.d={},Fi(a,a.b.documentElement)),d=a.d[c]);return d}
function Hi(a,b,c){c=c||new DOMParser;var d;try{d=c.parseFromString(a,b)}catch(e){}if(d){a=d.documentElement;if("parsererror"===a.localName)return null;for(a=a.firstChild;a;a=a.nextSibling)if("parsererror"===a.localName)return null}else return null;return d}function Ii(a,b){var c=a.responseXML;if(!c){var d=new DOMParser,e=a.responseText||"<not-found/>",c=Hi(e,"text/xml",d);c||(c=Hi(e,"text/html",d))||d.parseFromString("<error/>","text/xml")}c=new yi(b,a.url,c);return O(c)}
function Ji(a){this.kb=a}function Ki(){var a=Li;return new Ji(function(b){return a.kb(b)&&1==b.nodeType&&"http://www.idpf.org/2008/embedding"==b.getAttribute("Algorithm")})}function Mi(){var a=Ki(),b=Li;return new Ji(function(c){if(!b.kb(c))return!1;c=new Ai([c]);c=zi(c,"EncryptionMethod");a&&(c=Ni(c,a));return 0<c.b.length})}var Li=new Ji(function(){return!0});function Ai(a){this.b=a}function Oi(a){return a.b}
function Ni(a,b){for(var c=[],d=0;d<a.b.length;d++){var e=a.b[d];b.kb(e)&&c.push(e)}return new Ai(c)}function Pi(a,b){function c(a){d.push(a)}for(var d=[],e=0;e<a.b.length;e++)b(a.b[e],c);return new Ai(d)}function Qi(a,b){for(var c=[],d=0;d<a.b.length;d++)c.push(b(a.b[d]));return c}function Ri(a,b){for(var c=[],d=0;d<a.b.length;d++){var e=b(a.b[d]);null!=e&&c.push(e)}return c}function zi(a,b){return Pi(a,function(a,d){for(var e=a.firstChild;e;e=e.nextSibling)e.localName==b&&d(e)})}
function Si(a){return Pi(a,function(a,c){for(var d=a.firstChild;d;d=d.nextSibling)1==d.nodeType&&c(d)})}function Ti(a,b){return Ri(a,function(a){return 1==a.nodeType?a.getAttribute(b):null})}Ai.prototype.textContent=function(){return Qi(this,function(a){return a.textContent})};var Ui={transform:!0,"transform-origin":!0,position:!0};function Vi(a,b,c){this.target=a;this.name=b;this.value=c}var Wi={show:function(a){a.style.visibility="visible"},hide:function(a){a.style.visibility="hidden"},play:function(a){a.currentTime=0;a.play()},pause:function(a){a.pause()},resume:function(a){a.play()},mute:function(a){a.muted=!0},unmute:function(a){a.muted=!1}};function Xi(a,b){var c=Wi[b];return c?function(){for(var b=0;b<a.length;b++)try{c(a[b])}catch(e){}}:null}
function Yi(a){this.b={};this.J=a;this.f=[];var b=this;this.l=function(a){var d=a.currentTarget,e=d.getAttribute("href")||d.getAttributeNS("http://www.w3.org/1999/xlink","href");if(e&&(a.preventDefault(),a={type:"hyperlink",target:null,currentTarget:null,Fd:d,href:e},d=b.b[a.type]))for(a.target=b,a.currentTarget=b,e=0;e<d.length;e++)d[e](a)};this.g={};this.j=this.h=!1;this.D=0;this.position=null;this.offset=-1;this.e=null;this.d=[];this.k={top:{},bottom:{},left:{},right:{}}}t(Yi,Pa);
function Zi(a){a.w=!0;a.J.setAttribute("data-vivliostyle-auto-page-width",!0)}function $i(a){a.u=!0;a.J.setAttribute("data-vivliostyle-auto-page-height",!0)}function aj(a,b,c){var d=a.g[c];d?d.push(b):a.g[c]=[b]}function bj(a,b){if(1==a.nodeType)return!1;var c=a.textContent;switch(b){case 0:return!!c.match(/^\s*$/);case 1:return!!c.match(/^[ \t\f]*$/);case 2:return 0==c.length}throw Error("Unexpected whitespace: "+b);}
function cj(a,b,c,d,e,f,g,h){this.f=a;this.g=b;this.b=c;this.Ba=d;this.j=e;this.d=f;this.Dd=g;this.h=h;this.e=-1}function dj(a,b){return a.d?!b.d||a.Ba>b.Ba?!0:a.h:!1}function ej(a,b){return a.top-b.top}function fj(a,b){return b.right-a.right}function gj(a,b,c,d,e,f,g){this.Y=a;this.Fc=d;this.$c=null;this.root=b;this.X=c;this.type=f;e&&(e.$c=this);this.b=g}function hj(a,b){this.Bd=a;this.count=b}
function ij(a,b,c){this.R=a;this.parent=b;this.$=c;this.aa=0;this.H=!1;this.Fa=0;this.da=b?b.da:null;this.ia=this.pa=null;this.C=!1;this.d=!0;this.overflow=!1;this.g=b?b.g:0;this.u=this.h=null;this.w=b?b.w:0;this.j=b?b.j:!1;this.b=this.A=this.l=null;this.k=b?b.k:{};this.f=b?b.f:!1;this.e=b?b.e:null}function jj(a){a.d=!0;a.g=a.parent?a.parent.g:0;a.b=null;a.aa=0;a.H=!1;a.h=null;a.u=null;a.l=null;a.A=null;a.pa=null;a.j=a.parent?a.parent.j:!1;a.f=a.parent?a.parent.f:!1;a.pa=null}
function kj(a){var b=new ij(a.R,a.parent,a.$);b.aa=a.aa;b.H=a.H;b.pa=a.pa;b.Fa=a.Fa;b.da=a.da;b.ia=a.ia;b.d=a.d;b.g=a.g;b.h=a.h;b.u=a.u;b.j=a.j;b.w=a.w;b.l=a.l;b.A=a.A;b.b=a.b;b.e=a.e;b.f=a.f;b.overflow=a.overflow;return b}ij.prototype.modify=function(){return this.C?kj(this):this};function lj(a){var b=a;do{if(b.C)break;b.C=!0;b=b.parent}while(b);return a}ij.prototype.clone=function(){for(var a=kj(this),b=a,c;null!=(c=b.parent);)c=kj(c),b=b.parent=c;return a};
function mj(a){return{va:a.R,Fa:a.Fa,da:a.da,pa:a.pa,ia:a.ia?mj(a.ia):null}}function nj(a){this.La=a;this.b=this.d=null}nj.prototype.clone=function(){var a=new nj(this.La);if(this.d){a.d=[];for(var b=0;b<this.d.length;++b)a.d[b]=this.d[b]}if(this.b)for(a.b=[],b=0;b<this.b.length;++b)a.b[b]=this.b[b];return a};function oj(a,b){this.d=a;this.b=b}oj.prototype.clone=function(){return new oj(this.d.clone(),this.b)};function pj(){this.b=[]}
pj.prototype.clone=function(){for(var a=new pj,b=this.b,c=a.b,d=0;d<b.length;d++)c[d]=b[d].clone();return a};function qj(){this.d=0;this.b={};this.e=0}qj.prototype.clone=function(){var a=new qj;a.d=this.d;a.f=this.f;a.e=this.e;a.g=this.g;for(var b in this.b)a.b[b]=this.b[b].clone();return a};
function rj(a){this.d=a;this.G=this.C=this.height=this.width=this.w=this.j=this.I=this.h=this.ya=this.ea=this.Ua=this.Z=this.marginBottom=this.marginTop=this.marginRight=this.marginLeft=this.top=this.left=0;this.Jb=this.A=null;this.wa=this.Kb=this.tb=this.Lb=this.e=0;this.b=!1}function sj(a){return a.marginTop+a.ea+a.j}function tj(a){return a.marginBottom+a.ya+a.w}function uj(a){return a.marginLeft+a.Z+a.h}function vj(a){return a.marginRight+a.Ua+a.I}
function wj(a,b){a.d=b.d;a.left=b.left;a.top=b.top;a.marginLeft=b.marginLeft;a.marginRight=b.marginRight;a.marginTop=b.marginTop;a.marginBottom=b.marginBottom;a.Z=b.Z;a.Ua=b.Ua;a.ea=b.ea;a.ya=b.ya;a.h=b.h;a.I=b.I;a.j=b.j;a.w=b.w;a.width=b.width;a.height=b.height;a.C=b.C;a.G=b.G;a.Jb=b.Jb;a.A=b.A;a.e=b.e;a.Lb=b.Lb;a.tb=b.tb;a.b=b.b}function xj(a,b,c){a.top=b;a.height=c;u(a.d,"top",b+"px");u(a.d,"height",c+"px")}function yj(a,b,c){a.left=b;a.width=c;u(a.d,"left",b+"px");u(a.d,"width",c+"px")}
function zj(a,b){this.b=a;this.d=b}t(zj,Rc);zj.prototype.Gb=function(a){this.b.appendChild(this.b.ownerDocument.createTextNode(a.d));return null};zj.prototype.sb=function(a){var b=this.b.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","img");b.setAttribute("src",a.url);this.b.appendChild(b);return null};zj.prototype.Na=function(a){this.Ta(a.values);return null};
zj.prototype.ob=function(a){a=a.ca().evaluate(this.d);"string"===typeof a&&this.b.appendChild(this.b.ownerDocument.createTextNode(a));return null};function Aj(a){return null!=a&&a!==xd&&a!==wd&&a!==rd};function Bj(a,b,c){this.e=a;this.d=b;this.b=c}function Cj(){this.b=[]}function Dj(a){return 0==a.b.length?0:a.b[a.b.length-1].b}function Ej(a,b){if(0==a.b.length)a.b.push(new Bj(b,b,b));else{var c=a.b[a.b.length-1],d=c.b+b-c.d;c.d==c.e?(c.d=b,c.e=b,c.b=d):a.b.push(new Bj(b,b,d))}}function Fj(a,b){0==a.b.length?a.b.push(new Bj(b,0,0)):a.b[a.b.length-1].d=b}function Gj(a,b){var c=Ia(a.b.length,function(c){return b<=a.b[c].d}),c=a.b[c];return c.b-Math.max(0,c.e-b)}
function Hj(a,b){var c=Ia(a.b.length,function(c){return b<=a.b[c].b}),c=a.b[c];return c.e-(c.b-b)}
function Ij(a,b,c,d,e,f,g){this.X=a;this.root=a.root;this.ea=c;this.f=d;this.h=f;this.d=this.root;this.u={};this.w={};this.C=[];this.l=this.k=null;this.A=new Uh(b,d,g);this.e=new Cj;this.La=!0;this.G=[];this.Z=e;this.T=this.I=!1;this.b=a=Bi(a,this.root);Ej(this.e,a);b=Jj(this,this.root);ci(this.A,this.root,b);Kj(this,b,!1);this.j=!0;switch(this.root.namespaceURI){case "http://www.w3.org/1999/xhtml":case "http://www.gribuser.ru/xml/fictionbook/2.0":this.j=!1}this.G.push(!0);this.w={};this.w["e"+a]=
b;this.b++;Lj(this,-1)}function Mj(a,b,c,d){return(b=b[d])&&b.evaluate(a.f)!==c[d]}function Nj(a,b,c){for(var d in c){var e=b[d];e?(a.u[d]=e,delete b[d]):(e=c[d])&&(a.u[d]=new V(e,33554432))}}var Oj=["column-count","column-width"];
function Kj(a,b,c){c||["writing-mode","direction"].forEach(function(a){b[a]&&(this.u[a]=b[a])},a);if(!a.I){c=Mj(a,b,a.h.g,"background-color")?b["background-color"].evaluate(a.f):null;var d=Mj(a,b,a.h.g,"background-image")?b["background-image"].evaluate(a.f):null;if(c&&c!==rd||d&&d!==rd)Nj(a,b,a.h.g),a.I=!0}if(!a.T)for(c=0;c<Oj.length;c++)if(Mj(a,b,a.h.j,Oj[c])){Nj(a,b,a.h.j);a.T=!0;break}}
function Jj(a,b){if(b.style instanceof CSSStyleDeclaration){var c=b.getAttribute("style");if(c){var d=a.X.url,e=new ji(a.ea,a.h),c=new Mb(c);try{Df(new vf(mf,c,e,d),Number.POSITIVE_INFINITY,!1,!0)}catch(f){v("Style attribute parse error: "+f)}return e.b}}return{}}
function Lj(a,b){if(!(b>=a.b)){var c=a.f,d=Bi(a.X,a.root);if(b<d){var e=a.g(a.root,!1),f=e["flow-into"],f=f?f.evaluate(c,"flow-into").toString():"body";Pj(a,f,e,a.root,d)}d=Ei(a.X,b);e=Ci(a.X,d,0,!1);if(!(e>=a.b))for(;;){if(1!=d.nodeType)e+=d.textContent.length;else{var g=d;if(e!=Bi(a.X,g))throw Error("Inconsistent offset");var h=a.g(g,!1);if(f=h["flow-into"])f=f.evaluate(c,"flow-into").toString(),Pj(a,f,h,g,e);e++}if(e>=a.b)break;f=d.firstChild;if(null==f)for(;!(f=d.nextSibling);)if(d=d.parentNode,
d===a.root)return;d=f}}}function Pj(a,b,c,d,e){var f=0,g=Number.POSITIVE_INFINITY,h=!1,k=!1,l=!1,n=c["flow-options"];if(n){var p;a:{if(h=n.evaluate(a.f,"flow-options")){k=new Kf;try{h.L(k);p=k.b;break a}catch(r){v("toSet: "+r)}}p={}}h=!!p.exclusive;k=!!p["static"];l=!!p.last}(p=c["flow-linger"])&&(g=Mf(p.evaluate(a.f,"flow-linger"),Number.POSITIVE_INFINITY));(c=c["flow-priority"])&&(f=Mf(c.evaluate(a.f,"flow-priority"),0));d=new cj(b,d,e,f,g,h,k,l);a.C.push(d);a.l==b&&(a.l=null);a.k&&Qj(a.k,d)}
function Rj(a,b,c){var d=-1;if(b<=a.b&&(d=Gj(a.e,b),d+=c,d<Dj(a.e)))return Hj(a.e,d);if(null==a.d)return Number.POSITIVE_INFINITY;for(var e=a.f;;){var f=a.d.firstChild;if(null==f)for(;;){if(1==a.d.nodeType){var f=a.A,g=a.d;if(f.wa.pop()!==g)throw Error("Invalid call to popElement");f.pop();ai(f);a.La=a.G.pop()}if(f=a.d.nextSibling)break;a.d=a.d.parentNode;if(a.d===a.root)return a.d=null,b<a.b&&(0>d&&(d=Gj(a.e,b),d+=c),d<=Dj(a.e))?Hj(a.e,d):Number.POSITIVE_INFINITY}a.d=f;if(1!=a.d.nodeType)a.b+=a.d.textContent.length,
a.La?Ej(a.e,a.b):Fj(a.e,a.b);else{g=a.d;f=Jj(a,g);a.G.push(a.La);ci(a.A,g,f);a.j||"body"!=g.localName||g.parentNode!=a.root||(Kj(a,f,!0),a.j=!0);var h=f["flow-into"];h&&(h=h.evaluate(e,"flow-into").toString(),Pj(a,h,f,g,a.b),a.La=!!a.Z[h]);a.La&&(g=f.display)&&g.evaluate(e,"display")===wd&&(a.La=!1);if(Bi(a.X,a.d)!=a.b)throw Error("Inconsistent offset");a.w["e"+a.b]=f;a.b++;a.La?Ej(a.e,a.b):Fj(a.e,a.b);if(b<a.b&&(0>d&&(d=Gj(a.e,b),d+=c),d<=Dj(a.e)))return Hj(a.e,d)}}}
Ij.prototype.g=function(a,b){var c=Bi(this.X,a),d="e"+c;b&&(c=Ci(this.X,a,0,!0));this.b<=c&&Rj(this,c,0);return this.w[d]};function Sj(a,b){return a?b?"avoid"==a||"avoid"==b?"avoid":a:a:b}var Tj={img:!0,svg:!0,audio:!0,video:!0};
function Uj(a,b,c){var d=a.b;if(!d)return NaN;if(1==d.nodeType){if(a.H){var e=d.getBoundingClientRect();if(e.right>=e.left&&e.bottom>=e.top)return c?e.left:e.bottom}return NaN}var e=NaN,f=d.ownerDocument.createRange(),g=d.textContent.length;if(!g)return NaN;a.H&&(b+=g);b>=g&&(b=g-1);f.setStart(d,b);f.setEnd(d,b+1);a=Vj(f);if(b=c){b=document.body;if(null==Sa){var h=b.ownerDocument,f=h.createElement("div");f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.width="100px";f.style.height=
"100px";f.style.overflow="hidden";f.style.lineHeight="16px";f.style.fontSize="16px";u(f,"writing-mode","vertical-rl");b.appendChild(f);g=h.createTextNode("a a a a a a a a a a a a a a a a");f.appendChild(g);h=h.createRange();h.setStart(g,0);h.setEnd(g,1);Sa=50>h.getBoundingClientRect().left;b.removeChild(f)}b=Sa}if(b){b=d.ownerDocument.createRange();b.setStart(d,0);b.setEnd(d,d.textContent.length);d=Vj(b);b=[];for(f=0;f<a.length;f++){g=a[f];for(h=0;h<d.length;h++){var k=d[h];if(g.top>=k.top&&g.bottom<=
k.bottom&&1>Math.abs(g.right-k.right)){b.push({top:g.top,left:k.left,bottom:k.bottom,right:k.right});break}}h==d.length&&(v("Could not fix character box"),b.push(g))}a=b}for(b=d=0;b<a.length;b++)f=a[b],g=c?f.bottom-f.top:f.right-f.left,f.right>f.left&&f.bottom>f.top&&(isNaN(e)||g>d)&&(e=c?f.left:f.bottom,d=g);return e}function Wj(a,b){this.e=a;this.f=b}Wj.prototype.d=function(a,b){return b<this.f?null:Xj(a,this,0<b)};Wj.prototype.b=function(){return this.f};
function Yj(a,b,c,d){this.position=a;this.f=b;this.g=c;this.e=d}Yj.prototype.d=function(a,b){var c;b<this.b()?c=null:(a.e=this.e,c=this.position);return c};Yj.prototype.b=function(){return("avoid"==this.f?1:0)+(this.g?3:0)+(this.position.parent?this.position.parent.g:0)};function Zj(a,b,c){this.$=a;this.d=b;this.b=c}
function ak(a){for(var b=1;b<a.length;b++){var c=a[b-1],d=a[b];c===d?v("validateCheckPoints: duplicate entry"):c.$>=d.$?v("validateCheckPoints: incorrect boxOffset"):c.R==d.R&&(d.H?c.H&&v("validateCheckPoints: duplicate after points"):c.H?v("validateCheckPoints: inconsistent after point"):d.$-c.$!=d.aa-c.aa&&v("validateCheckPoints: boxOffset inconsistent with offsetInNode"))}}
function bk(a,b,c){rj.call(this,a);this.Mc=a.lastChild;this.k=b;this.fc=c;this.rd=a.ownerDocument;this.gc=!1;this.ta=this.cb=this.Ja=this.Oc=0;this.hc=this.Ib=this.l=this.f=null;this.Nc=!1;this.T=this.g=this.u=null;this.dd=!0;this.jc=this.ic=0}t(bk,rj);bk.prototype.clone=function(){var a=new bk(this.d,this.k,this.fc);wj(a,this);a.Mc=this.Mc;a.gc=this.gc;a.l=this.l?this.l.clone():null;a.Ib=this.Ib.concat();return a};
function ck(a,b){var c=b.getBoundingClientRect(),d=(a.b?a.cb:a.Oc)-a.f.V,e=(a.b?a.Oc:a.Ja)-a.f.P;return{left:c.left-d,top:c.top-e,right:c.right-d,bottom:c.bottom-e}}function dk(a,b){return a.b?b<a.ta:b>a.ta}function ek(a,b,c){var d=new ij(b.va,c,0);d.Fa=b.Fa;d.da=b.da;d.pa=b.pa;d.ia=b.ia?ek(a,b.ia,lj(c)):null;return d}
function fk(a,b){var c=M("openAllViews"),d=b.ja;gk(a.k,a.d,a.gc);var e=d.length-1,f=null;Pe(function(){for(;0<=e;){f=ek(a,d[e],f);if(0==e&&(f.aa=b.aa,f.H=b.H,f.H))break;var c=hk(a.k,f,0==e&&0==f.aa);e--;if(c.sa())return c}return O(!1)}).then(function(){Q(c,f)});return P(c)}var ik=/^[^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*([A-Za-z0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527][^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*)?/;
function jk(a,b){if(b.e&&b.d&&!b.H&&0==b.e.count&&1!=b.b.nodeType){var c=b.b.textContent.match(ik);return kk(a.k,b,c[0].length)}return O(b)}function lk(a,b,c){var d=M("buildViewToNextBlockEdge");Qe(function(d){b.b&&c.push(lj(b));jk(a,b).then(function(f){f!==b&&(b=f,c.push(lj(b)));mk(a.k,b).then(function(c){(b=c)?b.h&&!a.b?nk(a,b).then(function(a){b=a;!b||b.overflow?R(d):Se(d)}):b.d?Se(d):R(d):R(d)})})}).then(function(){Q(d,b)});return P(d)}
function ok(a,b){if(!b.b)return O(b);var c=b.R,d=M("buildDeepElementView");Qe(function(d){jk(a,b).then(function(f){if(f!==b){for(var g=f;g&&g.R!=c;)g=g.parent;if(null==g){b=f;R(d);return}}mk(a.k,f).then(function(a){(b=a)&&b.R!=c?Se(d):R(d)})})}).then(function(){Q(d,b)});return P(d)}function pk(a,b,c,d,e){var f=a.rd.createElement("div");a.b?(u(f,"height",d+"px"),u(f,"width",e+"px")):(u(f,"width",d+"px"),u(f,"height",e+"px"));u(f,"float",c);u(f,"clear",c);a.d.insertBefore(f,b);return f}
function qk(a){for(var b=a.d.firstChild;b;){var c=b.nextSibling;if(1==b.nodeType){var d=b.style.cssFloat;if("left"==d||"right"==d)a.d.removeChild(b);else break}b=c}}function rk(a){for(var b=a.d.firstChild,c=a.hc,d=a.b?a.f.P:a.f.V,e=a.b?a.f.O:a.f.S,f=0;f<c.length;f++){var g=c[f],h=g.O-g.P;g.left=pk(a,b,"left",g.V-d,h);g.right=pk(a,b,"right",e-g.S,h)}}
function sk(a,b,c,d,e){var f;if(b&&b.H&&!b.d&&(f=Uj(b,0,a.b),!isNaN(f)))return f;b=c[d];for(e-=b.$;;){f=Uj(b,e,a.b);if(!isNaN(f))return f;if(0<e)e--;else{d--;if(0>d)return a.Ja;b=c[d];1!=b.b.nodeType&&(e=b.b.textContent.length)}}}function tk(a){return"number"==typeof a?a:(a=a.match(/^(-?[0-9]*(\.[0-9]*)?)px$/))?parseFloat(a[0]):0}
function uk(a,b){var c=a.fc.b.getComputedStyle(b,null),d=new Vd;c&&(d.left=tk(c.marginLeft),d.top=tk(c.marginTop),d.right=tk(c.marginRight),d.bottom=tk(c.marginBottom));return d}
function vk(a,b,c){if(a=a.fc.b.getComputedStyle(b,null))c.marginLeft=tk(a.marginLeft),c.Z=tk(a.borderLeftWidth),c.h=tk(a.paddingLeft),c.marginTop=tk(a.marginTop),c.ea=tk(a.borderTopWidth),c.j=tk(a.paddingTop),c.marginRight=tk(a.marginRight),c.Ua=tk(a.borderRightWidth),c.I=tk(a.paddingRight),c.marginBottom=tk(a.marginBottom),c.ya=tk(a.borderBottomWidth),c.w=tk(a.paddingBottom)}function wk(a,b,c){b=new Zj(b,c,c);a.g?a.g.push(b):a.g=[b]}
function xk(a,b,c,d){if(a.g&&a.g[a.g.length-1].b)return wk(a,b,c),O(!0);d+=40*(a.b?-1:1);var e=a.l,f=!e;if(f){var g=a.d.ownerDocument.createElement("div");u(g,"position","absolute");var h=a.k.clone(),e=new bk(g,h,a.fc);a.l=e;e.b=yk(a.k,a.b,g);e.gc=!0;a.b?(e.left=0,u(e.d,"width","2em")):(e.top=a.cb,u(e.d,"height","2em"))}a.d.appendChild(e.d);vk(a,e.d,e);g=(a.b?-1:1)*(d-a.Ja);a.b?e.height=a.f.O-a.f.P-sj(e)-tj(e):e.width=a.f.S-a.f.V-uj(e)-vj(e);d=(a.b?-1:1)*(a.cb-d)-(a.b?uj(e)-vj(e):sj(e)+tj(e));if(f&&
18>d)return a.d.removeChild(e.d),a.l=null,wk(a,b,c),O(!0);if(!a.b&&e.top<g)return a.d.removeChild(e.d),wk(a,b,c),O(!0);var k=M("layoutFootnoteInner");a.b?yj(e,0,d):xj(e,g,d);e.C=a.C+a.left+uj(a);e.G=a.G+a.top+sj(a);e.A=a.A;var l=new nj(c);f?(zk(e),f=O(!0)):0==e.A.length?(Ck(e),f=O(!0)):f=Dk(e);f.then(function(){Ek(e,l).then(function(d){a.b?(a.ta=a.cb+(e.e+uj(e)+vj(e)),yj(e,0,e.e)):(a.ta=a.cb-(e.e+sj(e)+tj(e)),xj(e,a.ta-a.Ja,e.e));var f;!a.b&&0<e.A.length?f=Dk(e):f=O(d);f.then(function(d){d=new Zj(b,
c,d?d.La:null);a.g?a.g.push(d):a.g=[d];Q(k,!0)})})});return P(k)}
function Fk(a,b){var c=M("layoutFootnote"),d=b.b;d.setAttribute("style","");u(d,"display","inline-block");d.textContent="M";var e=d.getBoundingClientRect(),f=a.b?e.left:e.bottom;d.textContent="";Gk(a.k,b,"footnote-call",d);d.textContent||d.parentNode.removeChild(d);d={ja:[{va:b.R,Fa:0,da:b.da,pa:null,ia:null}],aa:0,H:!1};e=b.$;b=b.modify();b.H=!0;xk(a,e,d,f).then(function(){a.l&&a.l.d.parentNode&&a.d.removeChild(a.l.d);dk(a,f)&&0!=a.u.length&&(b.overflow=!0);Q(c,b)});return P(c)}
function Hk(a,b){var c=M("layoutFloat"),d=b.b,e=b.h;u(d,"float","none");u(d,"position","absolute");u(d,"left","auto");u(d,"right","auto");u(d,"top","auto");ok(a,b).then(function(f){for(var g=ck(a,d),h=uk(a,d),g=new Td(g.left-h.left,g.top-h.top,g.right+h.right,g.bottom+h.bottom),h=a.b?a.f.P:a.f.V,k=a.b?a.f.O:a.f.S,l=b.parent;l&&l.d;)l=l.parent;if(l){var n=l.b.ownerDocument.createElement("div");n.style.left="0px";n.style.top="0px";a.b?(n.style.bottom="0px",n.style.width="1px"):(n.style.right="0px",
n.style.height="1px");l.b.appendChild(n);var p=ck(a,n),h=Math.max(a.b?p.top:p.left,h),k=Math.min(a.b?p.bottom:p.right,k);l.b.removeChild(n);l=a.b?g.O-g.P:g.S-g.V;"left"==e?k=Math.max(k,h+l):h=Math.min(h,k-l)}k=new Td(h,(a.b?-1:1)*a.f.P,k,(a.b?-1:1)*a.f.O);h=g;a.b&&(h=ke(g));a:for(var l=a.hc,n=h,p=n.P,r=n.S-n.V,q=n.O-n.P,y=oe(l,p);;){var x=p+q;if(x>k.O)break a;for(var I=k.V,J=k.S,C=y;C<l.length&&l[C].P<x;C++){var N=l[C];N.V>I&&(I=N.V);N.S<J&&(J=N.S)}if(I+r<=J||y>=l.length){"left"==e?(n.V=I,n.S=I+r):
(n.V=J-r,n.S=J);n.O+=p-n.P;n.P=p;break a}p=l[y].O;y++}a.b&&(g=new Td(-h.O,h.V,-h.P,h.S));u(d,"left",g.V-a.f.V+a.h+"px");u(d,"top",g.P-a.f.P+a.j+"px");g=a.b?g.V:g.O;if(dk(a,g)&&0!=a.u.length)b=b.modify(),b.overflow=!0,Q(c,b);else{qk(a);k=a.b?ke(a.f):a.f;l=a.hc;n=null;for(n=[new Xd(h.P,h.O,h.V,h.S)];0<n.length&&n[0].O<=k.P;)n.shift();if(0!=n.length){n[0].P<k.P&&(n[0].P=k.P);h=0==l.length?k.P:l[l.length-1].O;h<k.O&&l.push(new Xd(h,k.O,k.V,k.S));p=oe(l,n[0].P);for(r=0;r<n.length;r++){q=n[r];if(p==l.length)break;
l[p].P<q.P&&(h=l[p],p++,l.splice(p,0,new Xd(q.P,h.O,h.V,h.S)),h.O=q.P);for(;p<l.length&&(h=l[p++],h.O>q.O&&(l.splice(p,0,new Xd(q.O,h.O,h.V,h.S)),h.O=q.O),q.V!=q.S&&("left"==e?h.V=q.S:h.S=q.V),h.O!=q.O););}ne(k,l)}rk(a);"left"==e?a.ic=g:a.jc=g;Ik(a,g);Q(c,f)}});return P(c)}
function Jk(a,b){for(var c=a.b,d="";c&&b&&!d&&(1!=c.nodeType||(d=c.style.textAlign,b));c=c.parentNode);if(!b||"justify"==d){var c=a.b,e=c.ownerDocument,d=e.createElement("span");d.style.visibility="hidden";d.textContent=" ########################";d.setAttribute("data-adapt-spec","1");var f=b&&(a.H||1!=c.nodeType)?c.nextSibling:c;if(c=c.parentNode)c.insertBefore(d,f),b||(e=e.createElement("div"),c.insertBefore(e,f),d.style.lineHeight="80px",e.style.marginTop="-80px",e.style.height="0px",e.setAttribute("data-adapt-spec",
"1"))}}function Kk(a,b,c,d){var e=M("processLineStyling");ak(d);var f=d.concat([]);d.splice(0,d.length);var g=0,h=b.e;0==h.count&&(h=h.Bd);Qe(function(d){if(h){var e=Lk(a,f),n=h.count-g;if(e.length<=n)R(d);else{var p=Mk(a,f,e[n-1]);Nk(a,p,!1,!1).then(function(){g+=n;kk(a.k,p,0).then(function(e){b=e;Jk(b,!1);h=b.e;f=[];lk(a,b,f).then(function(a){c=a;Se(d)})})})}}else R(d)}).then(function(){Array.prototype.push.apply(d,f);ak(d);Q(e,c)});return P(e)}
function Ok(a,b){for(var c=0,d=0,e=b.length-1;0<=e;e--){var f=b[e];if(!f.H||!f.b||1!=f.b.nodeType)break;f=uk(a,f.b);f=a.b?-f.left:f.bottom;0<f?c=Math.max(c,f):d=Math.min(d,f)}return c-d}
function Pk(a,b){var c=M("layoutBreakableBlock"),d=[];lk(a,b,d).then(function(e){var f=d.length-1;if(0>f)Q(c,e);else{var f=sk(a,e,d,f,d[f].$),g=dk(a,f);null==e&&(f+=Ok(a,d));Ik(a,f);var h;b.e?h=Kk(a,b,e,d):h=O(e);h.then(function(b){0<d.length&&(a.u.push(new Wj(d,d[0].g)),g&&(2!=d.length&&0<a.u.length||d[0].R!=d[1].R||!Tj[d[0].R.localName])&&b&&(b=b.modify(),b.overflow=!0));Q(c,b)})}});return P(c)}
function Mk(a,b,c){ak(b);for(var d=0,e=b[0].$,f=d,g=b.length-1,h=b[g].$,k;e<h;){k=e+Math.ceil((h-e)/2);for(var f=d,l=g;f<l;){var n=f+Math.ceil((l-f)/2);b[n].$>k?l=n-1:f=n}l=sk(a,null,b,f,k);if(a.b?l<c:l>c){for(h=k-1;b[f].$==k;)f--;g=f}else Ik(a,l),e=k,d=f}a=b[f];b=a.b;1!=b.nodeType&&(a.H?a.aa=b.length:(e-=a.$,c=b.data,173==c.charCodeAt(e)?(b.replaceData(e,c.length-e,"-"),e++):(d=c.charAt(e),e++,f=c.charAt(e),b.replaceData(e,c.length-e,Fa(d)&&Fa(f)?"-":"")),0<e&&(a=a.modify(),a.aa+=e,a.l=null)));return a}
function Lk(a,b){for(var c=[],d=b[0].b,e=b[b.length-1].b,f=[],g=d.ownerDocument.createRange(),h=!1,k=null,l=!1,n=!0;n;){var p=!0;do{var r=null;d==e&&(n=!1);1!=d.nodeType?(l||(g.setStartBefore(d),l=!0),k=d):h?h=!1:d.getAttribute("data-adapt-spec")?p=!l:r=d.firstChild;r||(r=d.nextSibling,r||(h=!0,r=d.parentNode));d=r}while(p&&n);if(l){g.setEndAfter(k);l=Vj(g);for(p=0;p<l.length;p++)f.push(l[p]);l=!1}}f.sort(a.b?fj:ej);k=d=h=g=e=0;for(n=a.b?-1:1;;){if(k<f.length&&(l=f[k],p=1,0<d&&(p=Math.max(a.b?l.right-
l.left:l.bottom-l.top,1),p=n*(a.b?l.right:l.top)<n*e?n*((a.b?l.left:l.bottom)-e)/p:n*(a.b?l.left:l.bottom)>n*g?n*(g-(a.b?l.right:l.top))/p:1),0==d||.6<=p||.2<=p&&(a.b?l.top:l.left)>=h-1)){h=a.b?l.bottom:l.right;a.b?(e=0==d?l.right:Math.max(e,l.right),g=0==d?l.left:Math.min(g,l.left)):(e=0==d?l.top:Math.min(e,l.top),g=0==d?l.bottom:Math.max(g,l.bottom));d++;k++;continue}0<d&&(c.push(g),d=0);if(k>=f.length)break}c.sort(Ja);a.b&&c.reverse();return c}
function Qk(a,b){if(!a.g)return O(!0);for(var c=!1,d=a.g.length-1;0<=d;--d){var e=a.g[d];if(e.$<=b)break;a.g.pop();e.b!==e.d&&(c=!0)}if(!c)return O(!0);var f=M("clearFootnotes"),g=a.e+a.Ja,h=a.g;a.l=null;a.g=null;var k=0;Pe(function(){for(;k<h.length;){var b=h[k++],b=xk(a,b.$,b.d,g);if(b.sa())return b}return O(!1)}).then(function(){Q(f,!0)});return P(f)}
function Xj(a,b,c){var d=b.e,e;if(c)e=c=1;else{for(e=d[0];e.parent&&e.d;)e=e.parent;c=Math.max((e.k.widows||1)-0,1);e=Math.max((e.k.orphans||1)-0,1)}var f=Lk(a,d),g=a.ta,d=Ia(f.length,function(b){return a.b?f[b]<g:f[b]>g}),d=Math.min(f.length-c,d);if(d<e)return null;g=f[d-1];if(b=Mk(a,b.e,g))a.e=(a.b?-1:1)*(g-a.Ja);return b}
function Nk(a,b,c,d){var e=b;c=c||null!=b.b&&1==b.b.nodeType&&!b.H;do{var f=e.b.parentNode;if(!f)break;var g=f,h=e.b;if(g)for(var k=void 0;(k=g.lastChild)!=h;)g.removeChild(k);c&&(f.removeChild(e.b),c=!1);e=e.parent}while(e);d&&Jk(b,!0);return Qk(a,b.$)}
function Rk(a,b,c){var d=M("findAcceptableBreak"),e=null,f=0,g=0;do for(var f=g,g=Number.MAX_VALUE,h=a.u.length-1;0<=h&&!e;--h){var e=a.u[h].d(a,f),k=a.u[h].b();k>f&&(g=Math.min(g,k))}while(g>f&&!e);var l=!1;if(!e){v("Could not find any page breaks?!!");if(a.dd)return Sk(a,b).then(function(b){b?(b=b.modify(),b.overflow=!1,Nk(a,b,l,!0).then(function(){Q(d,b)})):Q(d,b)}),P(d);e=c;l=!0}Nk(a,e,l,!0).then(function(){Q(d,e)});return P(d)}
function Tk(a){a=a.toString();return""==a||"auto"==a||!!a.match(/^0+(.0*)?[^0-9]/)}function Uk(a,b,c,d,e){if(!b)return!1;var f=Uj(b,0,a.b),g=dk(a,f);c&&(f+=Ok(a,c));Ik(a,f);if(d||!g)b=new Yj(lj(b),e,g,a.e),a.u.push(b);return g}
function Vk(a,b){if(b.b.parentNode){var c=uk(a,b.b),d=b.b.ownerDocument.createElement("div");a.b?(d.style.bottom="0px",d.style.width="1px",d.style.marginRight=c.right+"px"):(d.style.right="0px",d.style.height="1px",d.style.marginTop=c.top+"px");b.b.parentNode.insertBefore(d,b.b);var e=d.getBoundingClientRect(),e=a.b?e.right:e.top,f=a.b?-1:1,g;switch(b.u){case "left":g=a.ic;break;case "right":g=a.jc;break;default:g=f*Math.max(a.jc*f,a.ic*f)}e*f>=g*f?b.b.parentNode.removeChild(d):(e=Math.max(1,(g-e)*
f),a.b?d.style.width=e+"px":d.style.height=e+"px",e=d.getBoundingClientRect(),e=a.b?e.left:e.bottom,a.b?(g=e+c.right-g,0<g==0<=c.right&&(g+=c.right),d.style.marginLeft=g+"px"):(g-=e+c.top,0<g==0<=c.top&&(g+=c.top),d.style.marginBottom=g+"px"))}}
function Wk(a,b,c){var d=M("skipEdges"),e=c?"avoid":null,f=null,g=[];Qe(function(c){for(;b;){do if(b.b){if(b.d&&1!=b.b.nodeType){if(bj(b.b,b.w))break;if(!b.H){Uk(a,f,null,!0,e)?(b=(f||b).modify(),b.overflow=!0):(b=b.modify(),b.l=e);R(c);return}}if(!b.H&&(b.u&&Vk(a,b),b.h)){Uk(a,f,null,!0,e)&&(b=(f||b).modify(),b.overflow=!0);R(c);return}if(1==b.b.nodeType){var d=b.b.style;if(b.H){if(f=lj(b),g.push(f),e=Sj(b.A,e),d&&(!Tk(d.paddingBottom)||!Tk(d.borderBottomWidth))){if(Uk(a,f,null,!0,e)){b=(f||b).modify();
b.overflow=!0;R(c);return}g=[f];f=e=null}}else{if((e=Sj(b.l,e))&&"avoid"!=e&&"auto"!=e){R(c);a.T=e;return}if(Tj[b.b.localName]){Uk(a,f,null,!0,e)&&(b=(f||b).modify(),b.overflow=!0);R(c);return}if(d&&(!Tk(d.paddingTop)||!Tk(d.borderTopWidth))){if(Uk(a,f,null,!0,e)){b=(f||b).modify();b.overflow=!0;R(c);return}f=e=null;g=[]}}}}while(0);d=mk(a.k,b);if(d.sa()){d.then(function(a){b=a;Se(c)});return}b=d.Nb()}0!=a.u.length&&Uk(a,f,g,!1,e)&&f&&(b=f.modify(),b.overflow=!0);R(c)}).then(function(){Q(d,b)});return P(d)}
function Sk(a,b){var c=b,d=M("skipEdges"),e=null;Qe(function(d){for(;b;){do if(b.b){if(b.d&&1!=b.b.nodeType){if(bj(b.b,b.w))break;if(!b.H){R(d);return}}if(!b.H&&b.h){R(d);return}if(1==b.b.nodeType){var g=b.b.style;if(b.H)e=Sj(b.A,e);else{if((e=Sj(b.l,e))&&"avoid"!=e&&"auto"!=e){R(d);a.T=e;return}if(Tj[b.b.localName]){R(d);return}if(g&&(!Tk(g.paddingTop)||!Tk(g.borderTopWidth))){R(d);return}}}}while(0);g=mk(a.k,b);if(g.sa()){g.then(function(a){b=a;Se(d)});return}b=g.Nb()}c=null;R(d)}).then(function(){Q(d,
c)});return P(d)}function nk(a,b){return"footnote"==b.h?Fk(a,b):Hk(a,b)}function Xk(a,b,c){var d=M("layoutNext");Wk(a,b,c).then(function(c){b=c;if(!b||a.T||b.overflow)Q(d,b);else if(b.h)nk(a,b).ka(d);else{a:{if(!b.H)switch(b.R.namespaceURI){case "http://www.w3.org/2000/svg":c=!1;break a}c=!0}c?Pk(a,b).ka(d):ok(a,b).ka(d)}});return P(d)}
function Ck(a){var b=a.d.ownerDocument.createElement("div");b.style.position="absolute";b.style.top=a.j+"px";b.style.right=a.I+"px";b.style.bottom=a.w+"px";b.style.left=a.h+"px";a.d.appendChild(b);var c=b.getBoundingClientRect();a.d.removeChild(b);var b=a.C+a.left+uj(a),d=a.G+a.top+sj(a);a.f=new Td(b,d,b+a.width,d+a.height);a.Oc=c?a.b?c.top:c.left:0;a.Ja=c?a.b?c.right:c.top:0;a.cb=c?a.b?c.left:c.bottom:0;a.ic=a.Ja;a.jc=a.Ja;a.ta=a.cb;c=a.f;b=a.C+a.left+uj(a);d=a.G+a.top+sj(a);b=a.Jb?ae(a.Jb,b,d):
ce(b,d,b+a.width,d+a.height);a.hc=me(c,[b],a.A,a.tb,a.b);rk(a);a.g=null}function zk(a){a.Ib=[];u(a.d,"width",a.width+"px");u(a.d,"height",a.height+"px");Ck(a);a.e=0;a.Nc=!1;a.T=null}function Ik(a,b){a.e=Math.max((a.b?-1:1)*(b-a.Ja),a.e)}function Yk(a,b){var c=b.b;if(!c)return O(!0);var d=M("layoutOverflownFootnotes"),e=0;Pe(function(){for(;e<c.length;){var b=c[e++],b=xk(a,0,b,a.Ja);if(b.sa())return b}return O(!1)}).then(function(){Q(d,!0)});return P(d)}
function Ek(a,b){a.Ib.push(b);if(a.Nc)return O(b);var c=M("layout");Yk(a,b).then(function(){fk(a,b.La).then(function(b){var e=b,f=!0;a.u=[];Qe(function(c){for(;b;){var h=!0;Xk(a,b,f).then(function(k){f=!1;b=k;a.T?R(c):b&&b.overflow?Rk(a,b,e).then(function(a){b=a;R(c)}):h?h=!1:Se(c)});if(h){h=!1;return}}R(c)}).then(function(){var e=a.l;e&&(a.d.appendChild(e.d),a.b?a.e=this.Ja-this.cb:a.e=e.top+sj(e)+e.e+tj(e));if(b){a.Nc=!0;var f=e=b,k=[];do f.e&&f.parent&&f.parent.e!==f.e||k.push(mj(f)),f=f.parent;
while(f);e=new nj({ja:k,aa:e.aa,H:e.H});if(a.g){f=[];for(k=0;k<a.g.length;k++){var l=a.g[k].b;l&&f.push(l)}e.b=f.length?f:null}Q(c,e)}else Q(c,null)})})});return P(c)}function Dk(a){for(var b=a.Ib;a.d.lastChild!=a.Mc;)a.d.removeChild(a.d.lastChild);qk(a);zk(a);var c=M("redoLayout"),d=0,e=null;Qe(function(c){if(d<b.length){var g=b[d++];Ek(a,g).then(function(a){a?(e=a,R(c)):Se(c)})}else R(c)}).then(function(){Q(c,e)});return P(c)};var Zk=1;function $k(a,b,c,d,e){this.b={};this.children=[];this.e=null;this.h=0;this.d=a;this.name=b;this.Wa=c;this.ra=d;this.parent=e;this.g="p"+Zk++;e&&(this.h=e.children.length,e.children.push(this))}$k.prototype.f=function(){throw Error("E_UNEXPECTED_CALL");};$k.prototype.clone=function(){throw Error("E_UNEXPECTED_CALL");};function al(a,b){var c=a.b,d=b.b,e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(d[e]=c[e])}
function bl(a,b){for(var c=0;c<a.children.length;c++)a.children[c].clone({parent:b})}function cl(a){$k.call(this,a,null,null,[],null);this.b.width=new V(Nd,0);this.b.height=new V(Pd,0)}t(cl,$k);
function dl(a,b){this.e=b;var c=this;Xb.call(this,a,function(a,b){var f=a.match(/^([^.]+)\.([^.]+)$/);if(f){var g=c.e.k[f[1]];if(g&&(g=this.Z[g])){if(b){var f=f[2],h=g.ea[f];if(h)g=h;else{switch(f){case "columns":var h=g.d.d,k=new Mc(h,0),l=el(g,"column-count"),n=el(g,"column-width"),p=el(g,"column-gap"),h=F(h,Oc(h,new Jc(h,"min",[k,l]),E(h,n,p)),p)}h&&(g.ea[f]=h);g=h}}else g=el(g,f[2]);return g}}return null})}t(dl,Xb);
function fl(a,b,c,d,e,f,g){a=a instanceof dl?a:new dl(a,this);$k.call(this,a,b,c,d,e);this.e=this;this.F=f;this.j=g;this.b.width=new V(Nd,0);this.b.height=new V(Pd,0);this.b["wrap-flow"]=new V(jd,0);this.b.position=new V(Ad,0);this.b.overflow=new V(qd,0);this.k={}}t(fl,$k);fl.prototype.f=function(a){return new gl(a,this)};fl.prototype.clone=function(a){a=new fl(this.d,this.name,a.Wa||this.Wa,this.ra,this.parent,this.F,this.j);al(this,a);bl(this,a);return a};
function hl(a,b,c,d,e){$k.call(this,a,b,c,d,e);this.e=e.e;b&&(this.e.k[b]=this.g);this.b["wrap-flow"]=new V(jd,0)}t(hl,$k);hl.prototype.f=function(a){return new il(a,this)};hl.prototype.clone=function(a){a=new hl(a.parent.d,this.name,this.Wa,this.ra,a.parent);al(this,a);bl(this,a);return a};function jl(a,b,c,d,e){$k.call(this,a,b,c,d,e);this.e=e.e;b&&(this.e.k[b]=this.g)}t(jl,$k);jl.prototype.f=function(a){return new kl(a,this)};
jl.prototype.clone=function(a){a=new jl(a.parent.d,this.name,this.Wa,this.ra,a.parent);al(this,a);bl(this,a);return a};function X(a,b,c){return b&&b!==jd?b.ca(a,c):null}function ll(a,b,c){return b&&b!==jd?b.ca(a,c):a.b}function ml(a,b,c){return b?b===jd?null:b.ca(a,c):a.b}function nl(a,b,c,d){return b&&c!==wd?b.ca(a,d):a.b}function ol(a,b,c){return b?b===Ld?a.g:b===od?a.f:b.ca(a,a.b):c}
function pl(a,b){this.e=a;this.d=b;this.C={};this.style={};this.k=this.l=null;this.children=[];this.G=this.I=this.f=this.g=!1;this.w=this.A=0;this.u=null;this.ta={};this.ea={};this.ya=this.b=!1;a&&a.children.push(this)}function ql(a,b,c){b=el(a,b);c=el(a,c);if(!b||!c)throw Error("E_INTERNAL");return E(a.d.d,b,c)}
function el(a,b){var c=a.ta[b];if(c)return c;var d=a.style[b];d&&(c=d.ca(a.d.d,a.d.d.b));switch(b){case "margin-left-edge":c=el(a,"left");break;case "margin-top-edge":c=el(a,"top");break;case "margin-right-edge":c=ql(a,"border-right-edge","margin-right");break;case "margin-bottom-edge":c=ql(a,"border-bottom-edge","margin-bottom");break;case "border-left-edge":c=ql(a,"margin-left-edge","margin-left");break;case "border-top-edge":c=ql(a,"margin-top-edge","margin-top");break;case "border-right-edge":c=
ql(a,"padding-right-edge","border-right-width");break;case "border-bottom-edge":c=ql(a,"padding-bottom-edge","border-bottom-width");break;case "padding-left-edge":c=ql(a,"border-left-edge","border-left-width");break;case "padding-top-edge":c=ql(a,"border-top-edge","border-top-width");break;case "padding-right-edge":c=ql(a,"right-edge","padding-right");break;case "padding-bottom-edge":c=ql(a,"bottom-edge","padding-bottom");break;case "left-edge":c=ql(a,"padding-left-edge","padding-left");break;case "top-edge":c=
ql(a,"padding-top-edge","padding-top");break;case "right-edge":c=ql(a,"left-edge","width");break;case "bottom-edge":c=ql(a,"top-edge","height")}if(!c){if("extent"==b)d=a.b?"width":"height";else if("measure"==b)d=a.b?"height":"width";else{var e=a.b?Rg:Sg,d=b,f;for(f in e)d=d.replace(f,e[f])}d!=b&&(c=el(a,d))}c&&(a.ta[b]=c);return c}
function rl(a){var b=a.d.d,c=a.style,d=ol(b,c.enabled,b.g),e=X(b,c.page,b.b);if(e)var f=new Hc(b,"page-number"),d=Nc(b,d,new zc(b,e,f));(e=X(b,c["min-page-width"],b.b))&&(d=Nc(b,d,new yc(b,new Hc(b,"page-width"),e)));(e=X(b,c["min-page-height"],b.b))&&(d=Nc(b,d,new yc(b,new Hc(b,"page-height"),e)));d=a.T(d);c.enabled=new L(d)}pl.prototype.T=function(a){return a};
pl.prototype.xc=function(){var a=this.d.d,b=this.style,c=this.e?this.e.style.width.ca(a,null):null,d=X(a,b.left,c),e=X(a,b["margin-left"],c),f=nl(a,b["border-left-width"],b["border-left-style"],c),g=ll(a,b["padding-left"],c),h=X(a,b.width,c),k=X(a,b["max-width"],c),l=ll(a,b["padding-right"],c),n=nl(a,b["border-right-width"],b["border-right-style"],c),p=X(a,b["margin-right"],c),r=X(a,b.right,c),q=E(a,f,g),y=E(a,f,l);d&&r&&h?(q=F(a,c,E(a,h,E(a,E(a,d,q),y))),e?p?r=F(a,q,p):p=F(a,q,E(a,r,e)):(q=F(a,q,
r),p?e=F(a,q,p):p=e=Oc(a,q,new Yb(a,.5)))):(e||(e=a.b),p||(p=a.b),d||r||h||(d=a.b),d||h?d||r?h||r||(h=this.l,this.g=!0):d=a.b:(h=this.l,this.g=!0),q=F(a,c,E(a,E(a,e,q),E(a,p,y))),this.g&&(k||(k=F(a,q,d?d:r)),this.b||!X(a,b["column-width"],null)&&!X(a,b["column-count"],null)||(h=k,this.g=!1)),d?h?r||(r=F(a,q,E(a,d,h))):h=F(a,q,E(a,d,r)):d=F(a,q,E(a,r,h)));a=ll(a,b["snap-width"]||(this.e?this.e.style["snap-width"]:null),c);b.left=new L(d);b["margin-left"]=new L(e);b["border-left-width"]=new L(f);b["padding-left"]=
new L(g);b.width=new L(h);b["max-width"]=new L(k?k:h);b["padding-right"]=new L(l);b["border-right-width"]=new L(n);b["margin-right"]=new L(p);b.right=new L(r);b["snap-width"]=new L(a)};
pl.prototype.yc=function(){var a=this.d.d,b=this.style,c=this.e?this.e.style.width.ca(a,null):null,d=this.e?this.e.style.height.ca(a,null):null,e=X(a,b.top,d),f=X(a,b["margin-top"],c),g=nl(a,b["border-top-width"],b["border-top-style"],c),h=ll(a,b["padding-top"],c),k=X(a,b.height,d),l=X(a,b["max-height"],d),n=ll(a,b["padding-bottom"],c),p=nl(a,b["border-bottom-width"],b["border-bottom-style"],c),r=X(a,b["margin-bottom"],c),q=X(a,b.bottom,d),y=E(a,g,h),x=E(a,p,n);e&&q&&k?(d=F(a,d,E(a,k,E(a,E(a,e,y),
x))),f?r?q=F(a,d,f):r=F(a,d,E(a,q,f)):(d=F(a,d,q),r?f=F(a,d,r):r=f=Oc(a,d,new Yb(a,.5)))):(f||(f=a.b),r||(r=a.b),e||q||k||(e=a.b),e||k?e||q?k||q||(k=this.k,this.f=!0):e=a.b:(k=this.k,this.f=!0),d=F(a,d,E(a,E(a,f,y),E(a,r,x))),this.f&&(l||(l=F(a,d,e?e:q)),this.b&&(X(a,b["column-width"],null)||X(a,b["column-count"],null))&&(k=l,this.f=!1)),e?k?q||(q=F(a,d,E(a,e,k))):k=F(a,d,E(a,q,e)):e=F(a,d,E(a,q,k)));a=ll(a,b["snap-height"]||(this.e?this.e.style["snap-height"]:null),c);b.top=new L(e);b["margin-top"]=
new L(f);b["border-top-width"]=new L(g);b["padding-top"]=new L(h);b.height=new L(k);b["max-height"]=new L(l?l:k);b["padding-bottom"]=new L(n);b["border-bottom-width"]=new L(p);b["margin-bottom"]=new L(r);b.bottom=new L(q);b["snap-height"]=new L(a)};
function sl(a){var b=a.d.d,c=a.style;a=X(b,c[a.b?"height":"width"],null);var d=X(b,c["column-width"],a),e=X(b,c["column-count"],null),f;(f=(f=c["column-gap"])&&f!==xd?f.ca(b,null):null)||(f=new Gc(b,1,"em"));d&&!e&&(e=new Jc(b,"floor",[Pc(b,E(b,a,f),E(b,d,f))]),e=new Jc(b,"max",[b.d,e]));e||(e=b.d);d=F(b,Pc(b,E(b,a,f),e),f);c["column-width"]=new L(d);c["column-count"]=new L(e);c["column-gap"]=new L(f)}function tl(a,b,c,d){a=a.style[b].ca(a.d.d,null);return jc(a,c,d,{})}
function ul(a,b){b.Z[a.d.g]=a;var c=a.d.d,d=a.style,e=a.e?vl(a.e,b):null,e=mi(a.C,b,e,!1);a.b=li(e,b,a.e?a.e.b:!1);ni(e,d,a.b,function(a,b){return b.value});a.l=new $b(c,function(){return a.A},"autoWidth");a.k=new $b(c,function(){return a.w},"autoHeight");a.xc();a.yc();sl(a);rl(a)}function wl(a,b,c){(a=a.style[c])&&(a=Jf(b,a,c));return a}function Y(a,b,c){(a=a.style[c])&&(a=Jf(b,a,c));return gd(a,b)}
function vl(a,b){var c;a:{if(c=a.C["region-id"]){for(var d=[],e=0;e<c.length;e++){var f=c[e].evaluate(b,"");f&&f!==G&&d.push(f)}if(d.length){c=d;break a}}c=null}if(c){d=[];for(e=0;e<c.length;e++)d[e]=c[e].toString();return d}return null}function xl(a,b,c,d){(a=wl(a,b,d))&&u(c.d,d,a.toString())}
function yl(a,b,c){var d=Y(a,b,"left"),e=Y(a,b,"margin-left"),f=Y(a,b,"padding-left"),g=Y(a,b,"border-left-width");a=Y(a,b,"width");yj(c,d,a);u(c.d,"margin-left",e+"px");u(c.d,"padding-left",f+"px");u(c.d,"border-left-width",g+"px");c.marginLeft=e;c.Z=g;c.h=f}
function zl(a,b,c){var d=Y(a,b,"right"),e=Y(a,b,"snap-height"),f=Y(a,b,"margin-right"),g=Y(a,b,"padding-right");b=Y(a,b,"border-right-width");u(c.d,"margin-right",f+"px");u(c.d,"padding-right",g+"px");u(c.d,"border-right-width",b+"px");c.marginRight=f;c.Ua=b;a.b&&0<e&&(a=d+vj(c),a=a-Math.floor(a/e)*e,0<a&&(c.Kb=e-a,g+=c.Kb));c.I=g;c.Lb=e}
function Al(a,b,c){var d=Y(a,b,"snap-height"),e=Y(a,b,"top"),f=Y(a,b,"margin-top"),g=Y(a,b,"padding-top");b=Y(a,b,"border-top-width");c.top=e;c.marginTop=f;c.ea=b;c.tb=d;!a.b&&0<d&&(a=e+sj(c),a=a-Math.floor(a/d)*d,0<a&&(c.wa=d-a,g+=c.wa));c.j=g;u(c.d,"top",e+"px");u(c.d,"margin-top",f+"px");u(c.d,"padding-top",g+"px");u(c.d,"border-top-width",b+"px")}
function Bl(a,b,c){var d=Y(a,b,"margin-bottom"),e=Y(a,b,"padding-bottom"),f=Y(a,b,"border-bottom-width");a=Y(a,b,"height")-c.wa;u(c.d,"height",a+"px");u(c.d,"margin-bottom",d+"px");u(c.d,"padding-bottom",e+"px");u(c.d,"border-bottom-width",f+"px");c.height=a-c.wa;c.marginBottom=d;c.ya=f;c.w=e}function Cl(a,b,c){a.b?(Al(a,b,c),Bl(a,b,c)):(zl(a,b,c),yl(a,b,c))}
function Dl(a,b,c){u(c.d,"border-top-width","0px");var d=Y(a,b,"max-height");a.I?xj(c,0,d):(Al(a,b,c),d-=c.wa,c.height=d,u(c.d,"height",d+"px"))}function El(a,b,c){u(c.d,"border-left-width","0px");var d=Y(a,b,"max-width");a.G?yj(c,0,d):(zl(a,b,c),d-=c.Kb,c.width=d,a=Y(a,b,"right"),u(c.d,"right",a+"px"),u(c.d,"width",d+"px"))}
var Fl="border-left-style border-right-style border-top-style border-bottom-style border-left-color border-right-color border-top-color border-bottom-color outline-style outline-color outline-width overflow visibility".split(" "),Gl="border-top-left-radius border-top-right-radius border-bottom-right-radius border-bottom-left-radius border-image-source border-image-slice border-image-width border-image-outset border-image-repeat background-attachment background-color background-image background-repeat background-position background-clip background-origin background-size opacity z-index".split(" "),
Hl="color font-family font-size font-style font-weight font-variant line-height letter-spacing text-align text-decoration text-indent text-transform white-space word-spacing".split(" "),Il=["transform","transform-origin"];
pl.prototype.Tb=function(a,b){this.e&&this.b==this.e.b||u(b.d,"writing-mode",this.b?"vertical-rl":"horizontal-tb");(this.b?this.g:this.f)?this.b?El(this,a,b):Dl(this,a,b):(this.b?zl(this,a,b):Al(this,a,b),this.b?yl(this,a,b):Bl(this,a,b));(this.b?this.f:this.g)?this.b?Dl(this,a,b):El(this,a,b):Cl(this,a,b);for(var c=0;c<Fl.length;c++)xl(this,a,b,Fl[c])};function Jl(a,b,c){for(var d=0;d<Hl.length;d++)xl(a,b,c,Hl[d])}
pl.prototype.Qb=function(a,b,c,d,e){this.b?this.A=b.e+b.Kb:this.w=b.e+b.wa;var f=(this.b||!d)&&this.f,g=(!this.b||!d)&&this.g,h=null;if(g||f)g&&u(b.d,"width","auto"),f&&u(b.d,"height","auto"),h=(d?d.d:b.d).getBoundingClientRect(),g&&(this.A=Math.ceil(h.right-h.left-b.h-b.Z-b.I-b.Ua),this.b&&(this.A+=b.Kb)),f&&(this.w=h.bottom-h.top-b.j-b.ea-b.w-b.ya,this.b||(this.w+=b.wa));(this.b?this.f:this.g)&&Cl(this,a,b);if(this.b?this.g:this.f){if(this.b?this.G:this.I)this.b?zl(this,a,b):Al(this,a,b);this.b?
yl(this,a,b):Bl(this,a,b)}if(1<e&&(f=Y(this,a,"column-rule-width"),g=wl(this,a,"column-rule-style"),h=wl(this,a,"column-rule-color"),0<f&&g&&g!=wd&&h!=Hd)){var k=Y(this,a,"column-gap"),l=this.b?b.height:b.width,n=this.b?"border-top":"border-left";for(d=1;d<e;d++){var p=(l+k)*d/e-k/2+b.h-f/2,r=b.height+b.j+b.w,q=b.d.ownerDocument.createElement("div");u(q,"position","absolute");u(q,this.b?"left":"top","0px");u(q,this.b?"top":"left",p+"px");u(q,this.b?"height":"width","0px");u(q,this.b?"width":"height",
r+"px");u(q,n,f+"px "+g.toString()+(h?" "+h.toString():""));b.d.insertBefore(q,b.d.firstChild)}}for(d=0;d<Gl.length;d++)xl(this,a,b,Gl[d]);for(d=0;d<Il.length;d++)e=b,f=Il[d],g=c.f,(h=wl(this,a,f))&&g.push(new Vi(e.d,f,h))};
pl.prototype.h=function(a,b){var c=this.C,d=this.d.b,e;for(e in d)Wg(e)&&Xg(c,e,d[e]);if("background-host"==this.d.Wa)for(e in b)if(e.match(/^background-/)||"writing-mode"==e)c[e]=b[e];if("layout-host"==this.d.Wa)for(e in b)e.match(/^background-/)||"writing-mode"==e||(c[e]=b[e]);Xh(a,this.d.ra,null,c);ul(this,a.d);for(c=0;c<this.d.children.length;c++)this.d.children[c].f(this).h(a,b);a.pop()};
function Kl(a,b){a.g&&(a.G=tl(a,"right",a.l,b)||tl(a,"margin-right",a.l,b)||tl(a,"border-right-width",a.l,b)||tl(a,"padding-right",a.l,b));a.f&&(a.I=tl(a,"top",a.k,b)||tl(a,"margin-top",a.k,b)||tl(a,"border-top-width",a.k,b)||tl(a,"padding-top",a.k,b));for(var c=0;c<a.children.length;c++)Kl(a.children[c],b)}function Ll(a){pl.call(this,null,a)}t(Ll,pl);Ll.prototype.h=function(a,b){pl.prototype.h.call(this,a,b);this.children.sort(function(a,b){return b.d.j-a.d.j||a.d.h-b.d.h})};
function gl(a,b){pl.call(this,a,b);this.u=this}t(gl,pl);gl.prototype.T=function(a){var b=this.d.e;b.F&&(a=Nc(b.d,a,b.F));return a};gl.prototype.Z=function(){};function il(a,b){pl.call(this,a,b);this.u=a.u}t(il,pl);function kl(a,b){pl.call(this,a,b);this.u=a.u}t(kl,pl);function Ml(a,b,c,d){var e=null;c instanceof ad&&(e=[c]);c instanceof Uc&&(e=c.values);if(e)for(a=a.d.d,c=0;c<e.length;c++)if(e[c]instanceof ad){var f=Vb(e[c].name,"enabled"),f=new Hc(a,f);d&&(f=new pc(a,f));b=Nc(a,b,f)}return b}
kl.prototype.T=function(a){var b=this.d.d,c=this.style,d=ol(b,c.required,b.f)!==b.f;if(d||this.f){var e;e=(e=c["flow-from"])?e.ca(b,b.b):new Yb(b,"body");e=new Jc(b,"has-content",[e]);a=Nc(b,a,e)}a=Ml(this,a,c["required-partitions"],!1);a=Ml(this,a,c["conflicting-partitions"],!0);d&&(c=(c=this.u.style.enabled)?c.ca(b,null):b.g,c=Nc(b,c,a),this.u.style.enabled=new L(c));return a};kl.prototype.Tb=function(a,b,c){u(b.d,"overflow","hidden");pl.prototype.Tb.call(this,a,b,c)};
function Nl(a,b,c,d){gf.call(this,a,b,!1);this.target=c;this.b=d}t(Nl,hf);Nl.prototype.Ea=function(a,b,c){Gg(this.b,a,b,c,this)};Nl.prototype.dc=function(a,b){jf(this,"E_INVALID_PROPERTY "+a+": "+b.toString())};Nl.prototype.wb=function(a,b){jf(this,"E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};Nl.prototype.Xa=function(a,b,c){this.target.b[a]=new V(b,c?50331648:67108864)};function Ol(a,b,c,d){Nl.call(this,a,b,c,d)}t(Ol,Nl);
function Pl(a,b,c,d){Nl.call(this,a,b,c,d);c.b.width=new V(Md,0);c.b.height=new V(Md,0)}t(Pl,Nl);Pl.prototype.Eb=function(a,b,c){a=new jl(this.e,a,b,c,this.target);ff(this.Y,new Ol(this.e,this.Y,a,this.b))};Pl.prototype.Db=function(a,b,c){a=new hl(this.e,a,b,c,this.target);a=new Pl(this.e,this.Y,a,this.b);ff(this.Y,a)};function Ql(a,b,c,d){Nl.call(this,a,b,c,d)}t(Ql,Nl);Ql.prototype.Eb=function(a,b,c){a=new jl(this.e,a,b,c,this.target);ff(this.Y,new Ol(this.e,this.Y,a,this.b))};
Ql.prototype.Db=function(a,b,c){a=new hl(this.e,a,b,c,this.target);a=new Pl(this.e,this.Y,a,this.b);ff(this.Y,a)};var Rl={"text-indent":"0px","margin-top":"0px","padding-top":"0px","border-top-width":"0px","border-top-style":"none","border-top-color":"transparent"},Sl={"text-indent":"0px","margin-right":"0px","padding-right":"0px","border-right-width":"0px","border-right-style":"none","border-right-color":"transparent"},Tl={};
function Ul(a){a.addEventListener("load",function(){a.contentWindow.navigator.epubReadingSystem={name:"adapt",version:"0.1",layoutStyle:"paginated",hasFeature:function(a){switch(a){case "mouse-events":return!0}return!1}}},!1)}var Vl=(new DOMParser).parseFromString('<root xmlns="http://www.pyroxy.com/ns/shadow"/>',"text/xml"),Wl="footnote-marker first-5-lines first-4-lines first-3-lines first-2-lines first-line first-letter before  after".split(" ");
function Xl(a,b,c,d){this.style=b;this.f=a;this.b=c;this.d=d;this.e={}}
Xl.prototype.g=function(a){var b=a.getAttribute("class")||"";this.b&&b&&b.match(/after$/)&&(this.style=this.b.g(this.f,!0),this.b=null);var c=this.style._pseudos[b]||{};if(!this.e[b]){this.e[b]=!0;var d=c.content;d&&(d=d.evaluate(this.d),Aj(d)&&d.L(new zj(a,this.d)))}if(b.match(/^first-/)&&!c["x-first-pseudo"]){a=1;var e;"first-letter"==b?a=0:null!=(e=b.match(/^first-([0-9]+)-lines$/))&&(a=e[1]-0);c["x-first-pseudo"]=new V(new cd(a),0)}return c};
function Yl(a,b,c,d,e,f,g,h,k,l,n,p){this.w=a;this.f=b;this.viewport=c;this.l=c.b;this.j=d;this.C=e;this.X=f;this.A=g;this.k=h;this.G=k;this.d=l;this.g=n;this.u=p;this.I=this.b=null;this.h=!1;this.R=null;this.aa=0;this.e=null}Yl.prototype.clone=function(){return new Yl(this.w,this.f,this.viewport,this.j,this.C,this.X,this.A,this.k,this.G,this.d,this.g,this.u)};
function Zl(a,b,c,d,e,f){var g=M("createRefShadow");a.X.j.load(b).then(function(h){if(h){var k=Gi(h,b);if(k){var l=a.G,n=l.C[h.url];n||(n=l.style.h.b[h.url],n=new Ij(h,n.d,n.g,new dc(0,l.k(),l.j(),l.fontSize),l.e,n.j,l.w),l.C[h.url]=n);f=new gj(d,k,h,e,f,c,n)}}Q(g,f)});return P(g)}
function $l(a,b,c,d,e,f,g,h){var k=M("createShadows"),l=e.template,n;l instanceof ed?n=Zl(a,l.url,2,b,h,null):n=O(null);n.then(function(l){var n=null;if("http://www.pyroxy.com/ns/shadow"==b.namespaceURI&&"include"==b.localName){var q=b.getAttribute("href"),y=null;q?y=h?h.X:a.X:h&&(q="http://www.w3.org/1999/xhtml"==h.Y.namespaceURI?h.Y.getAttribute("href"):h.Y.getAttributeNS("http://www.w3.org/1999/xlink","href"),y=h.Fc?h.Fc.X:a.X);q&&(q=ea(q,y.url),n=Zl(a,q,3,b,h,l))}null==n&&(n=O(l));n.then(function(l){var n;
if(n=d._pseudos){for(var p=Vl.createElementNS("http://www.pyroxy.com/ns/shadow","root"),q=p,r=0;r<Wl.length;r++){var y=Wl[r],Va;if(y){if(!n[y])continue;if(!("footnote-marker"!=y||c&&a.h))continue;if(y.match(/^first-/)&&(Va=e.display,!Va||Va===sd))continue;Va=Vl.createElementNS("http://www.w3.org/1999/xhtml","span");Va.setAttribute("class",y)}else Va=Vl.createElementNS("http://www.pyroxy.com/ns/shadow","content");q.appendChild(Va);y.match(/^first-/)&&(q=Va)}l=new gj(b,p,null,h,l,2,new Xl(b,d,f,g))}Q(k,
l)})});return P(k)}function gk(a,b,c){a.I=b;a.h=c}function am(a,b,c,d){var e=a.f;c=mi(c,e,a.C,a.h);b=li(c,e,b);ni(c,d,b,function(b,c){var d=c.evaluate(e,b);if("font-family"==b){var k=a.A;if(d instanceof Uc){for(var d=d.values,l=[],n=0;n<d.length;n++){var p=d[n],r=k.b[p.stringValue()];r&&l.push(H(r));l.push(p)}d=new Uc(l)}else d=(k=k.b[d.stringValue()])?new Uc([H(k),d]):d}return d});return b}
function bm(a,b){for(var c=a.b.R,d=[],e=a.b.da;c&&1==c.nodeType;){var f=e&&e.root==c;if(!f||2==e.type){var g=(e?e.b:a.j).g(c,!1);d.push(g)}f?(c=e.Y,e=e.Fc):c=c.parentNode}c={"font-size":new V(new K(fc(a.f,"em"),"px"),0)};e=new ah(c,a.f);for(f=d.length-1;0<=f;--f){var g=d[f],h=[],k;for(k in g)Ig[k]&&h.push(k);h.sort(Sd);for(var l=0;l<h.length;l++){var n=h[l];e.b=n;c[n]=g[n].qc(e)}}for(var p in b)Ig[p]||(c[p]=b[p]);return c}
var cm={a:"a",sub:"sub",sup:"sup",table:"table",tr:"tr",td:"td",th:"th",code:"code",body:"div",p:"p",v:"p",date:"p",emphasis:"em",strong:"strong",style:"span",strikethrough:"del"};function dm(a,b){b=ea(b,a.X.url);return a.u[b]||b}
function em(a,b){var c=!0,d=M("createElementView"),e=a.R,f=a.b.da?a.b.da.b:a.j,g=f.g(e,!1),h={};a.b.parent||(g=bm(a,g));a.b.f=am(a,a.b.f,g,h);var k=h["flow-into"];if(k&&k.toString()!=a.w)return Q(d,!1),P(d);var l=h.display;if(l===wd)return Q(d,!1),P(d);$l(a,e,null==a.b.parent,g,h,f,a.f,a.b.da).then(function(f){a.b.pa=f;var g=a.b.parent&&a.b.parent.j;f=h["float"];var k=h.clear;if(h.position===hd||h.position===Ad)a.b.j=!0,f=null;g&&(k=null,f!==pd&&(f=null));g=f===ud||f===Bd||f===pd;f&&(delete h["float"],
f===pd&&(a.h?(g=!1,h.display=ld):h.display=sd),a.b.j=!0);k&&(k===rd&&a.b.parent&&a.b.parent.u&&(k=H(a.b.parent.u)),k===ud||k===Bd||k===md)&&(delete h.clear,h.display&&h.display!=sd&&(a.b.u=k.toString()));h.overflow===qd&&(a.b.j=!0);var q=l===vd&&h["ua-list-item-count"];g||l===Fd||h["break-inside"]===kd||h["page-break-inside"]===kd?a.b.g++:l===Gd&&(a.b.g+=10);a.b.d=!g&&!l||l===sd;a.b.h=g?f.toString():null;if(!a.b.d){if(f=h["break-after"]||h["page-break-after"])a.b.A=f.toString();if(f=h["break-before"]||
h["page-break-before"])a.b.l=f.toString()}if(f=h["x-first-pseudo"])a.b.e=new hj(a.b.parent?a.b.parent.e:null,f.B);if(f=h["white-space"])switch(f.toString()){case "normal":case "nowrap":a.b.w=0;break;case "pre-line":a.b.w=1;break;case "pre":case "pre-wrap":a.b.w=2}var y=!1,x=null,I=[],J=e.namespaceURI,C=e.localName;if("http://www.w3.org/1999/xhtml"==J)"html"==C||"body"==C||"script"==C||"link"==C||"meta"==C?C="div":"vide_"==C?C="video":"audi_"==C?C="audio":"object"==C&&(y=!!a.g);else if("http://www.idpf.org/2007/ops"==
J)C="span",J="http://www.w3.org/1999/xhtml";else if("http://www.gribuser.ru/xml/fictionbook/2.0"==J){J="http://www.w3.org/1999/xhtml";if("image"==C){if(C="div",(f=e.getAttributeNS("http://www.w3.org/1999/xlink","href"))&&"#"==f.charAt(0)&&(f=Gi(a.X,f)))x=a.createElement(J,"img"),f="data:"+(f.getAttribute("content-type")||"image/jpeg")+";base64,"+f.textContent.replace(/[ \t\n\t]/g,""),I.push(Vf(x,f))}else C=cm[C];C||(C=a.b.d?"span":"div")}else if("http://www.daisy.org/z3986/2005/ncx/"==J)if(J="http://www.w3.org/1999/xhtml",
"ncx"==C||"navPoint"==C)C="div";else if("navLabel"==C){if(C="span",k=e.parentNode){f=null;for(k=k.firstChild;k;k=k.nextSibling)if(1==k.nodeType&&(g=k,"http://www.daisy.org/z3986/2005/ncx/"==g.namespaceURI&&"content"==g.localName)){f=g.getAttribute("src");break}f&&(C="a",e=e.ownerDocument.createElementNS(J,"a"),e.setAttribute("href",f))}}else C="span";else"http://www.pyroxy.com/ns/shadow"==J?(J="http://www.w3.org/1999/xhtml",C=a.b.d?"span":"div"):y=!!a.g;q?b?C="li":(C="div",l=ld,h.display=l):"body"==
C||"li"==C?C="div":"q"==C?C="span":"a"==C&&(f=h["hyperlink-processing"])&&"normal"!=f.toString()&&(C="span");h.behavior&&"none"!=h.behavior.toString()&&a.g&&(y=!0);var N;y?N=a.g(e,a.b.parent?a.b.parent.b:null,h):N=O(null);N.then(function(f){f?y&&(c="true"==f.getAttribute("data-adapt-process-children")):f=a.createElement(J,C);"a"==C&&f.addEventListener("click",a.d.l,!1);x&&(Gk(a,a.b,"inner",x),f.appendChild(x));"iframe"==f.localName&&"http://www.w3.org/1999/xhtml"==f.namespaceURI&&Ul(f);if("http://www.gribuser.ru/xml/fictionbook/2.0"!=
e.namespaceURI||"td"==C){for(var g=e.attributes,k=g.length,l=null,n=0;n<k;n++){var p=g[n],r=p.namespaceURI,N=p.localName,p=p.nodeValue;if(r)if("http://www.w3.org/2000/xmlns/"==r)continue;else"http://www.w3.org/1999/xlink"==r&&"href"==N&&(p=dm(a,p));else{if(N.match(/^on/))continue;if("style"==N)continue;if("id"==N){aj(a.d,f,p);continue}if("src"==N||"href"==N||"poster"==N)p=dm(a,p)}if(r){var Ak=Tl[r];Ak&&(N=Ak+":"+N)}"src"!=N||r||"img"!=C||"http://www.w3.org/1999/xhtml"!=J?"href"==N&&"image"==C&&"http://www.w3.org/2000/svg"==
J&&"http://www.w3.org/1999/xlink"==r?a.d.d.push(Vf(f,p)):r?f.setAttributeNS(r,N,p):f.setAttribute(N,p):l=p}l&&(g=Vf(f,l),h.width&&h.height?a.d.d.push(g):I.push(g))}delete h.content;(g=h["list-style-image"])&&g instanceof ed&&(g=g.url,I.push(Vf(new Image,g)));fm(a,f,h);g=h.widows;k=h.orphans;if(g||k){if(a.b.parent){a.b.k={};for(var Od in a.b.parent.k)a.b.k[Od]=a.b.parent.k[Od]}g instanceof cd&&(a.b.k.widows=g.B);k instanceof cd&&(a.b.k.orphans=k.B)}if(!b&&!a.b.d){Od=a.b.f?Sl:Rl;for(var Bk in Od)u(f,
Bk,Od[Bk])}q&&f.setAttribute("value",h["ua-list-item-count"].stringValue());a.e=f;I.length?Uf(I).then(function(){Q(d,c)}):Oe().then(function(){Q(d,c)})})});return P(d)}function gm(a,b){var c=M("createNodeView"),d,e=!0;1==a.R.nodeType?d=em(a,b):(8==a.R.nodeType?a.e=null:a.e=document.createTextNode(a.R.textContent.substr(a.aa||0)),d=O(!0));d.then(function(b){e=b;(a.b.b=a.e)&&(b=a.b.parent?a.b.parent.b:a.I)&&b.appendChild(a.e);Q(c,e)});return P(c)}
function hk(a,b,c){(a.b=b)?(a.R=b.R,a.aa=b.aa):(a.R=null,a.aa=-1);a.e=null;return a.b?gm(a,c):O(!0)}function hm(a){if(null==a.da||"content"!=a.R.localName||"http://www.pyroxy.com/ns/shadow"!=a.R.namespaceURI)return a;var b=a.$,c=a.da,d=a.parent,e,f;c.$c?(f=c.$c,e=c.root,c=c.type,2==c&&(e=e.firstChild)):(f=c.Fc,e=c.Y.firstChild,c=2);var g=a.R.nextSibling;g?(a.R=g,jj(a)):a.ia?a=a.ia:e?a=null:(a=a.parent.modify(),a.H=!0);if(e)return b=new ij(e,d,b),b.da=f,b.Fa=c,b.ia=a,b;a.$=b;return a}
function im(a){var b=a.$+1;if(a.H){if(!a.parent)return null;if(3!=a.Fa){var c=a.R.nextSibling;if(c)return a=a.modify(),a.$=b,a.R=c,jj(a),hm(a)}if(a.ia)return a=a.ia.modify(),a.$=b,a;a=a.parent.modify()}else{if(a.pa&&(c=a.pa.root,2==a.pa.type&&(c=c.firstChild),c))return b=new ij(c,a,b),b.da=a.pa,b.Fa=a.pa.type,hm(b);if(c=a.R.firstChild)return hm(new ij(c,a,b));1!=a.R.nodeType&&(b+=a.R.textContent.length-1-a.aa);a=a.modify()}a.$=b;a.H=!0;return a}
function mk(a,b){b=im(b);if(!b||b.H)return O(b);var c=M("nextInTree");hk(a,b,!0).then(function(a){b.b&&a||(b=b.modify(),b.H=!0,b.b||(b.d=!0));Q(c,b)});return P(c)}function jm(a,b){if(b instanceof Uc)for(var c=b.values,d=0;d<c.length;d++)jm(a,c[d]);else b instanceof ed&&(c=b.url,a.d.d.push(Vf(new Image,c)))}function fm(a,b,c){var d=c["background-image"];d&&jm(a,d);for(var e in c)d=c[e],!Ui[e]||"position"==e&&d!==Ad?u(b,e,d.toString()):a.d.f.push(new Vi(b,e,d))}
function Gk(a,b,c,d){if(!b.H){var e=(b.da?b.da.b:a.j).g(a.R,!1);if(e=e._pseudos)e=e[c],c={},b.f=am(a,b.f,e,c),b=c.content,Aj(b)&&(b.L(new zj(d,a.f)),delete c.content),fm(a,d,c)}}
function kk(a,b,c){var d=M("peelOff"),e=b.e,f=b.aa,g=b.H;if(0<c)b.b.textContent=b.b.textContent.substr(0,c),f+=c;else if(!g&&b.b&&0==f){var h=b.b.parentNode;h&&h.removeChild(b.b)}for(var k=b.$+c,l=[];b.e===e;)l.push(b),b=b.parent;var n=l.pop(),p=n.ia;Pe(function(){for(;0<l.length;){n=l.pop();b=new ij(n.R,b,k);0==l.length&&(b.aa=f,b.H=g);b.Fa=n.Fa;b.da=n.da;b.pa=n.pa;b.ia=n.ia?n.ia:p;p=null;var c=hk(a,b,!1);if(c.sa())return c}return O(!1)}).then(function(){Q(d,b)});return P(d)}
Yl.prototype.createElement=function(a,b){return"http://www.w3.org/1999/xhtml"==a?this.l.createElement(b):this.l.createElementNS(a,b)};function yk(a,b,c){var d={},e=a.k._pseudos;b=am(a,b,a.k,d);if(e&&e.before){var f={},g=a.createElement("http://www.w3.org/1999/xhtml","span");c.appendChild(g);am(a,b,e.before,f);delete f.content;fm(a,g,f)}delete d.content;fm(a,c,d);return b}function km(a){this.b=a}function Vj(a){return a.getClientRects()}
function lm(a,b,c,d,e){this.d=a;this.fontSize=b;this.b=a.document;this.root=c||this.b.body;this.width=d||a.innerWidth;this.height=e||a.innerHeight;this.root.style["min-width"]=this.width+"px";this.root.style["min-height"]=this.height+"px"};function mm(a,b,c){function d(c){return a.b.getComputedStyle(b,null).getPropertyValue(c)}function e(){u(b,"display","block");u(b,"position","static");return d(J)}function f(){u(b,"display","inline-block");u(y,J,"99999999px");var a=d(J);u(y,J,"");return a}function g(){u(b,"display","inline-block");u(y,J,"0");var a=d(J);u(y,J,"");return a}function h(){var a=e(),b=g(),c=parseFloat(a);if(c<=parseFloat(b))return b;b=f();return c<=parseFloat(b)?a:b}function k(){throw Error("Getting fill-available block size is not implemented");
}var l=b.style.display,n=b.style.position,p=b.style.width,r=b.style.height,q=b.parentNode,y=b.ownerDocument.createElement("div");u(y,"position",n);q.insertBefore(y,b);y.appendChild(b);u(b,"width","auto");u(b,"height","auto");var x=d(ya["writing-mode"])||d("writing-mode"),I="vertical-rl"===x||"tb-rl"===x||"vertical-lr"===x||"tb-lr"===x,J=I?"height":"width",C=I?"width":"height",N={};c.forEach(function(a){var c;switch(a){case "fill-available inline size":c=e();break;case "max-content inline size":c=
f();break;case "min-content inline size":c=g();break;case "fit-content inline size":c=h();break;case "fill-available block size":c=k();break;case "max-content block size":case "min-content block size":case "fit-content block size":c=d(C);break;case "fill-available width":c=I?k():e();break;case "fill-available height":c=I?e():k();break;case "max-content width":c=I?d(C):f();break;case "max-content height":c=I?f():d(C);break;case "min-content width":c=I?d(C):g();break;case "min-content height":c=I?g():
d(C);break;case "fit-content width":c=I?d(C):h();break;case "fit-content height":c=I?h():d(C)}N[a]=parseFloat(c);u(b,"position",n);u(b,"display",l)});u(b,"width",p);u(b,"height",r);q.insertBefore(b,y);q.removeChild(y);return N};function nm(a){var b=a["writing-mode"],b=b&&b.value;a=(a=a.direction)&&a.value;return b===Id||b!==Jd&&a!==Ed?"ltr":"rtl"}
var om={a5:{width:new K(148,"mm"),height:new K(210,"mm")},a4:{width:new K(210,"mm"),height:new K(297,"mm")},a3:{width:new K(297,"mm"),height:new K(420,"mm")},b5:{width:new K(176,"mm"),height:new K(250,"mm")},b4:{width:new K(250,"mm"),height:new K(353,"mm")},letter:{width:new K(8.5,"in"),height:new K(11,"in")},legal:{width:new K(8.5,"in"),height:new K(14,"in")},ledger:{width:new K(11,"in"),height:new K(17,"in")}},pm={width:Nd,height:Pd};
function qm(a){if((a=a.size)&&a.value!==jd){var b=a.value;b.md()?(a=b.values[0],b=b.values[1]):(a=b,b=null);return a.Wc()?{width:a,height:b||a}:(a=om[a.name.toLowerCase()])?b&&b===td?{width:a.height,height:a.width}:{width:a.width,height:a.height}:pm}return pm}
var rm=function(){var a={width:!0,height:!0,"block-size":!0,"inline-size":!0,margin:!0,padding:!0,border:!0,outline:!0,"outline-width":!0,"outline-style":!0,"outline-color":!0};"left right top bottom before after start end block-start block-end inline-start inline-end".split(" ").forEach(function(b){a["margin-"+b]=!0;a["padding-"+b]=!0;a["border-"+b+"-width"]=!0;a["border-"+b+"-style"]=!0;a["border-"+b+"-color"]=!0});return a}(),sm={"top-left-corner":{K:1,oa:!0,la:!1,ma:!0,na:!0,ba:null},"top-left":{K:2,
oa:!0,la:!1,ma:!1,na:!1,ba:"start"},"top-center":{K:3,oa:!0,la:!1,ma:!1,na:!1,ba:"center"},"top-right":{K:4,oa:!0,la:!1,ma:!1,na:!1,ba:"end"},"top-right-corner":{K:5,oa:!0,la:!1,ma:!1,na:!0,ba:null},"right-top":{K:6,oa:!1,la:!1,ma:!1,na:!0,ba:"start"},"right-middle":{K:7,oa:!1,la:!1,ma:!1,na:!0,ba:"center"},"right-bottom":{K:8,oa:!1,la:!1,ma:!1,na:!0,ba:"end"},"bottom-right-corner":{K:9,oa:!1,la:!0,ma:!1,na:!0,ba:null},"bottom-right":{K:10,oa:!1,la:!0,ma:!1,na:!1,ba:"end"},"bottom-center":{K:11,oa:!1,
la:!0,ma:!1,na:!1,ba:"center"},"bottom-left":{K:12,oa:!1,la:!0,ma:!1,na:!1,ba:"start"},"bottom-left-corner":{K:13,oa:!1,la:!0,ma:!0,na:!1,ba:null},"left-bottom":{K:14,oa:!1,la:!1,ma:!0,na:!1,ba:"end"},"left-middle":{K:15,oa:!1,la:!1,ma:!0,na:!1,ba:"center"},"left-top":{K:16,oa:!1,la:!1,ma:!0,na:!1,ba:"start"}},tm=Object.keys(sm).sort(function(a,b){return sm[a].K-sm[b].K});
function um(a,b,c){fl.call(this,a,null,"vivliostyle-page-rule-master",[],b,null,0);a=qm(c);new vm(this.d,this,c,a);this.u={};wm(this,c);this.b.position=new V(Ad,0);this.b.width=new V(a.width,0);this.b.height=new V(a.height,0);for(var d in c)rm[d]||"background-clip"===d||(this.b[d]=c[d])}t(um,fl);function wm(a,b){var c=b._marginBoxes;c&&tm.forEach(function(d){c[d]&&(a.u[d]=new xm(a.d,a,d,b))})}um.prototype.f=function(a){return new ym(a,this)};
function vm(a,b,c,d){jl.call(this,a,null,null,[],b);this.w=d;this.b["z-index"]=new V(new cd(0),0);this.b["flow-from"]=new V(H("body"),0);this.b.position=new V(hd,0);this.b.overflow=new V(Kd,0);for(var e in rm)rm.hasOwnProperty(e)&&(this.b[e]=c[e])}t(vm,jl);vm.prototype.f=function(a){return new zm(a,this)};
function xm(a,b,c,d){jl.call(this,a,null,null,[],b);this.l=c;a=d._marginBoxes[this.l];for(var e in d)if(b=d[e],c=a[e],Ig[e]||c&&c.value===rd)this.b[e]=b;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b=a[e])&&b.value!==rd&&(this.b[e]=b)}t(xm,jl);xm.prototype.f=function(a){return new Am(a,this)};function ym(a,b){gl.call(this,a,b);this.j=null;this.wa={}}t(ym,gl);
ym.prototype.h=function(a,b){var c=this.C,d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d))switch(d){case "writing-mode":case "direction":c[d]=b[d]}gl.prototype.h.call(this,a,b)};ym.prototype.xc=function(){var a=this.style;a.left=Qd;a["margin-left"]=Qd;a["border-left-width"]=Qd;a["padding-left"]=Qd;a["padding-right"]=Qd;a["border-right-width"]=Qd;a["margin-right"]=Qd;a.right=Qd};
ym.prototype.yc=function(){var a=this.style;a.top=Qd;a["margin-top"]=Qd;a["border-top-width"]=Qd;a["padding-top"]=Qd;a["padding-bottom"]=Qd;a["border-bottom-width"]=Qd;a["margin-bottom"]=Qd;a.bottom=Qd};ym.prototype.Z=function(a,b,c){b=b.k;var d={start:this.j.marginLeft,end:this.j.marginRight,W:this.j.ib},e={start:this.j.marginTop,end:this.j.marginBottom,W:this.j.hb};Bm(this,b.top,!0,d,a,c);Bm(this,b.bottom,!0,d,a,c);Bm(this,b.left,!1,e,a,c);Bm(this,b.right,!1,e,a,c)};
function Cm(a,b,c,d,e){this.J=a;this.l=e;this.g=c;this.k=!X(d,b[c?"width":"height"],new Gc(d,0,"px"));this.h=null}Cm.prototype.b=function(){return this.k};function Dm(a){a.h||(a.h=mm(a.l,a.J.d,a.g?["max-content width","min-content width"]:["max-content height","min-content height"]));return a.h}Cm.prototype.e=function(){var a=Dm(this);return this.g?uj(this.J)+a["max-content width"]+vj(this.J):sj(this.J)+a["max-content height"]+tj(this.J)};
Cm.prototype.f=function(){var a=Dm(this);return this.g?uj(this.J)+a["min-content width"]+vj(this.J):sj(this.J)+a["min-content height"]+tj(this.J)};Cm.prototype.d=function(){return this.g?uj(this.J)+this.J.width+vj(this.J):sj(this.J)+this.J.height+tj(this.J)};function Em(a){this.g=a}Em.prototype.b=function(){return this.g.some(function(a){return a.b()})};Em.prototype.e=function(){var a=this.g.map(function(a){return a.e()});return Math.max.apply(null,a)*a.length};
Em.prototype.f=function(){var a=this.g.map(function(a){return a.f()});return Math.max.apply(null,a)*a.length};Em.prototype.d=function(){var a=this.g.map(function(a){return a.d()});return Math.max.apply(null,a)*a.length};function Fm(a,b,c,d,e,f){Cm.call(this,a,b,c,d,e);this.j=f}t(Fm,Cm);Fm.prototype.b=function(){return!1};Fm.prototype.e=function(){return this.d()};Fm.prototype.f=function(){return this.d()};Fm.prototype.d=function(){return this.g?uj(this.J)+this.j+vj(this.J):sj(this.J)+this.j+tj(this.J)};
function Bm(a,b,c,d,e,f){var g=a.d.d,h={},k={},l={},n;for(n in b){var p=sm[n];if(p){var r=b[n],q=a.wa[n],y=new Cm(r,q.style,c,g,f);h[p.ba]=r;k[p.ba]=q;l[p.ba]=y}}a=d.start.evaluate(e);d.end.evaluate(e);b=d.W.evaluate(e);var x=Gm(l,b),I=!1,J={};Object.keys(h).forEach(function(a){var b=X(g,k[a].style[c?"max-width":"max-height"],d.W);b&&(b=b.evaluate(e),x[a]>b&&(b=l[a]=new Fm(h[a],k[a].style,c,g,f,b),J[a]=b.d(),I=!0))});I&&(x=Gm(l,b),I=!1,["start","center","end"].forEach(function(a){x[a]=J[a]||x[a]}));
var C={};Object.keys(h).forEach(function(a){var b=X(g,k[a].style[c?"min-width":"min-height"],d.W);b&&(b=b.evaluate(e),x[a]<b&&(b=l[a]=new Fm(h[a],k[a].style,c,g,f,b),C[a]=b.d(),I=!0))});I&&(x=Gm(l,b),["start","center","end"].forEach(function(a){x[a]=C[a]||x[a]}));var N=a+b,lh=a+(a+b);["start","center","end"].forEach(function(a){var b=x[a];if(b){var d=h[a],e=0;switch(a){case "start":e=c?d.left:d.top;break;case "center":e=(lh-b)/2;break;case "end":e=N-b}c?yj(d,e,b-uj(d)-vj(d)):xj(d,e,b-sj(d)-tj(d))}})}
function Gm(a,b){var c=a.start,d=a.center,e=a.end,f={};if(d){var g=[c,e].filter(function(a){return a}),g=Hm(d,g.length?new Em(g):null,b);g.Ha&&(f.center=g.Ha);d=g.Ha||d.d();d=(b-d)/2;c&&c.b()&&(f.start=d);e&&e.b()&&(f.end=d)}else c=Hm(c,e,b),c.Ha&&(f.start=c.Ha),c.Hb&&(f.end=c.Hb);return f}
function Hm(a,b,c){var d={Ha:null,Hb:null};if(a&&b)if(a.b()&&b.b()){var e=a.e(),f=b.e();0<e&&0<f?(f=e+f,f<c?d.Ha=c*e/f:(a=a.f(),b=b.f(),b=a+b,b<c?d.Ha=a+(c-b)*(e-a)/(f-b):0<b&&(d.Ha=c*a/b)),0<d.Ha&&(d.Hb=c-d.Ha)):0<e?d.Ha=c:0<f&&(d.Hb=c)}else a.b()?d.Ha=Math.max(c-b.d(),0):b.b()&&(d.Hb=Math.max(c-a.d(),0));else a?a.b()&&(d.Ha=c):b&&b.b()&&(d.Hb=c);return d}function zm(a,b){kl.call(this,a,b);this.marginLeft=this.marginBottom=this.marginRight=this.marginTop=this.hb=this.ib=null}t(zm,kl);
zm.prototype.h=function(a,b){var c=this.C,d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(d.match(/^column.*$/)||d.match(/^background-/))&&(c[d]=b[d]);kl.prototype.h.call(this,a,b);d=this.e;c={ib:this.ib,hb:this.hb,marginTop:this.marginTop,marginRight:this.marginRight,marginBottom:this.marginBottom,marginLeft:this.marginLeft};d.j=c;d=d.style;d.width=new L(c.ib);d.height=new L(c.hb);d["padding-left"]=new L(c.marginLeft);d["padding-right"]=new L(c.marginRight);d["padding-top"]=new L(c.marginTop);
d["padding-bottom"]=new L(c.marginBottom)};zm.prototype.xc=function(){var a=Im(this,{start:"left",end:"right",W:"width"});this.ib=a.fd;this.marginLeft=a.pd;this.marginRight=a.od};zm.prototype.yc=function(){var a=Im(this,{start:"top",end:"bottom",W:"height"});this.hb=a.fd;this.marginTop=a.pd;this.marginBottom=a.od};
function Im(a,b){var c=a.style,d=a.d.d,e=b.start,f=b.end,g=b.W,h=a.d.w[g].ca(d,null),k=X(d,c[g],h),l=X(d,c["margin-"+e],h),n=X(d,c["margin-"+f],h),p=ll(d,c["padding-"+e],h),r=ll(d,c["padding-"+f],h),q=nl(d,c["border-"+e+"-width"],c["border-"+e+"-style"],h),y=nl(d,c["border-"+f+"-width"],c["border-"+f+"-style"],h),x=F(d,h,E(d,E(d,q,p),E(d,y,r)));k?(x=F(d,x,k),l||n?l?n=F(d,x,l):l=F(d,x,n):n=l=Oc(d,x,new Yb(d,.5))):(l||(l=d.b),n||(n=d.b),k=F(d,x,E(d,l,n)));c[e]=new L(l);c[f]=new L(n);c["margin-"+e]=
Qd;c["margin-"+f]=Qd;c["padding-"+e]=new L(p);c["padding-"+f]=new L(r);c["border-"+e+"-width"]=new L(q);c["border-"+f+"-width"]=new L(y);c[g]=new L(k);c["max-"+g]=new L(k);return{fd:F(d,h,E(d,l,n)),pd:l,od:n}}function Am(a,b){kl.call(this,a,b);var c=b.l;this.j=sm[c];a.wa[c]=this;this.ya=!0}t(Am,kl);m=Am.prototype;
m.Tb=function(a,b,c){var d=b.d;u(d,"display","flex");var e=wl(this,a,"vertical-align"),f=null;e===H("middle")?f="center":e===H("top")?f="flex-start":e===H("bottom")&&(f="flex-end");f&&(u(d,"flex-flow",this.b?"row":"column"),u(d,"justify-content",f));kl.prototype.Tb.call(this,a,b,c)};
m.ba=function(a,b){var c=this.style,d=this.d.d,e=a.start,f=a.end,g="left"===e,h=g?b.ib:b.hb,k=X(d,c[a.W],h),g=g?b.marginLeft:b.marginTop;if("start"===this.j.ba)c[e]=new L(g);else if(k){var l=ll(d,c["margin-"+e],h),n=ll(d,c["margin-"+f],h),p=ll(d,c["padding-"+e],h),r=ll(d,c["padding-"+f],h),q=nl(d,c["border-"+e+"-width"],c["border-"+e+"-style"],h),f=nl(d,c["border-"+f+"-width"],c["border-"+f+"-style"],h),k=E(d,k,E(d,E(d,p,r),E(d,E(d,q,f),E(d,l,n))));switch(this.j.ba){case "center":c[e]=new L(E(d,g,
Pc(d,F(d,h,k),new Yb(d,2))));break;case "end":c[e]=new L(F(d,E(d,g,h),k))}}};
function Jm(a,b,c){function d(a){if(x)return x;x={W:y?y.evaluate(a):null,za:k?k.evaluate(a):null,Aa:l?l.evaluate(a):null};var b=h.evaluate(a),c=0;[r,n,p,q].forEach(function(b){b&&(c+=b.evaluate(a))});(null===x.za||null===x.Aa)&&c+x.W+x.za+x.Aa>b&&(null===x.za&&(x.za=0),null===x.Aa&&(x.Jd=0));null!==x.W&&null!==x.za&&null!==x.Aa&&(x.Aa=null);null===x.W&&null!==x.za&&null!==x.Aa?x.W=b-c-x.za-x.Aa:null!==x.W&&null===x.za&&null!==x.Aa?x.za=b-c-x.W-x.Aa:null!==x.W&&null!==x.za&&null===x.Aa?x.Aa=b-c-x.W-
x.za:null===x.W?(x.za=x.Aa=0,x.W=b-c):x.za=x.Aa=(b-c-x.W)/2;return x}var e=a.style;a=a.d.d;var f=b.zc,g=b.Dc;b=b.W;var h=c["margin"+g.charAt(0).toUpperCase()+g.substring(1)],k=ml(a,e["margin-"+f],h),l=ml(a,e["margin-"+g],h),n=ll(a,e["padding-"+f],h),p=ll(a,e["padding-"+g],h),r=nl(a,e["border-"+f+"-width"],e["border-"+f+"-style"],h),q=nl(a,e["border-"+g+"-width"],e["border-"+g+"-style"],h),y=X(a,e[b],h),x=null;e[b]=new L(new $b(a,function(){var a=d(this).W;return null===a?0:a},b));e["margin-"+f]=new L(new $b(a,
function(){var a=d(this).za;return null===a?0:a},"margin-"+f));e["margin-"+g]=new L(new $b(a,function(){var a=d(this).Aa;return null===a?0:a},"margin-"+g));"left"===f?e.left=new L(E(a,c.marginLeft,c.ib)):"top"===f&&(e.top=new L(E(a,c.marginTop,c.hb)))}m.xc=function(){var a=this.e.j;this.j.ma?Jm(this,{zc:"right",Dc:"left",W:"width"},a):this.j.na?Jm(this,{zc:"left",Dc:"right",W:"width"},a):this.ba({start:"left",end:"right",W:"width"},a)};
m.yc=function(){var a=this.e.j;this.j.oa?Jm(this,{zc:"bottom",Dc:"top",W:"height"},a):this.j.la?Jm(this,{zc:"top",Dc:"bottom",W:"height"},a):this.ba({start:"top",end:"bottom",W:"height"},a)};m.Qb=function(a,b,c,d,e,f){kl.prototype.Qb.call(this,a,b,c,d,e,f);a=c.k;c=this.d.l;d=this.j;d.ma||d.na?d.oa||d.la||(d.ma?a.left[c]=b:d.na&&(a.right[c]=b)):d.oa?a.top[c]=b:d.la&&(a.bottom[c]=b)};
function Km(a,b,c,d,e){this.b=a;this.h=b;this.f=c;this.d=d;this.e=e;this.g={};a=this.h;b=new Hc(a,"page-number");b=new zc(a,new Fc(a,b,new Yb(a,2)),a.b);c=new pc(a,b);a.values["recto-page"]=c;a.values["verso-page"]=b;"ltr"===nm(this.e)?(a.values["left-page"]=b,b=new pc(a,b),a.values["right-page"]=b):(c=new pc(a,b),a.values["left-page"]=c,a.values["right-page"]=b)}function Lm(a){var b={};Xh(a.b,[],"",b);a.b.pop();return b}
function Mm(a,b){var c=[],d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)){var e=b[d],f;f=e instanceof V?e.value+"":Mm(a,e);c.push(d+f+(e.Ba||""))}return c.sort().join("^")}function Nm(a){this.b=null;this.f=a}t(Nm,W);Nm.prototype.apply=function(a){a.I===this.f&&this.b.apply(a)};Nm.prototype.d=function(){return 3};Nm.prototype.e=function(a){this.b&&hh(a.xb,this.f,this.b);return!0};function Om(a){this.b=null;this.f=a}t(Om,W);
Om.prototype.apply=function(a){1===(new Hc(this.f,"page-number")).evaluate(a.d)&&this.b.apply(a)};Om.prototype.d=function(){return 2};function Pm(a){this.b=null;this.f=a}t(Pm,W);Pm.prototype.apply=function(a){(new Hc(this.f,"left-page")).evaluate(a.d)&&this.b.apply(a)};Pm.prototype.d=function(){return 1};function Qm(a){this.b=null;this.f=a}t(Qm,W);Qm.prototype.apply=function(a){(new Hc(this.f,"right-page")).evaluate(a.d)&&this.b.apply(a)};Qm.prototype.d=function(){return 1};
function Rm(a){this.b=null;this.f=a}t(Rm,W);Rm.prototype.apply=function(a){(new Hc(this.f,"recto-page")).evaluate(a.d)&&this.b.apply(a)};Rm.prototype.d=function(){return 1};function Sm(a){this.b=null;this.f=a}t(Sm,W);Sm.prototype.apply=function(a){(new Hc(this.f,"verso-page")).evaluate(a.d)&&this.b.apply(a)};Sm.prototype.d=function(){return 1};function Tm(a,b){fh.call(this,a,b,null,null)}t(Tm,fh);
Tm.prototype.apply=function(a){var b=a.d,c=a.w,d=this.style,e=this.b;$g(b,c,d,e,null,null);if(d=d._marginBoxes){var c=Yg(c,"_marginBoxes"),f;for(f in d)if(d.hasOwnProperty(f)){var g=c[f];g||(g={},c[f]=g);$g(b,g,d[f],e,null,null);g.content&&(g.content=g.content.qc(new Gh(a,null)))}}};function Um(a,b,c,d){ei.call(this,a,b,null,c,null,d,!1);this.f=""}t(Um,ei);m=Um.prototype;m.mb=function(){this.f+="@page ";this.Za()};m.Sa=function(a,b){this.f+=b;b&&(this.b.push(new Nm(b)),this.d+=65536)};
m.yb=function(a,b){b&&kf(this,"E_INVALID_PAGE_SELECTOR :"+a+"("+b.join("")+")");this.f+=":"+a;switch(a.toLowerCase()){case "first":this.b.push(new Om(this.e));this.d+=256;break;case "left":this.b.push(new Pm(this.e));this.d+=1;break;case "right":this.b.push(new Qm(this.e));this.d+=1;break;case "recto":this.b.push(new Rm(this.e));this.d+=1;break;case "verso":this.b.push(new Sm(this.e));this.d+=1;break;default:kf(this,"E_INVALID_PAGE_SELECTOR :"+a)}};m.ha=function(){this.f+="{";ei.prototype.ha.call(this)};
m.Oa=function(){this.f+="}";document.getElementById("vivliostyle-page-rules").textContent+=this.f;ei.prototype.Oa.call(this)};m.Ea=function(a,b,c){"size"===a&&(this.f+="size: "+b.toString()+(c?"!important":"")+";");ei.prototype.Ea.call(this,a,b,c)};m.jd=function(a){hh(this.h.xb,"*",a)};m.nd=function(a){return new Tm(this.k,a)};m.Jc=function(a){var b=Yg(this.k,"_marginBoxes"),c=b[a];c||(c={},b[a]=c);ff(this.Y,new Vm(this.e,this.Y,this.u,c))};
function Vm(a,b,c,d){gf.call(this,a,b,!1);this.d=c;this.b=d}t(Vm,hf);Vm.prototype.Ea=function(a,b,c){Gg(this.d,a,b,c,this)};Vm.prototype.wb=function(a,b){jf(this,"E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};Vm.prototype.dc=function(a,b){jf(this,"E_INVALID_PROPERTY "+a+": "+b.toString())};Vm.prototype.Xa=function(a,b,c){Xg(this.b,a,new V(b,c?cf(this):df(this)))};function Wm(a){this.d=a;this.b={};this.b.page=[0]}
function Oh(a,b,c){return new $b(a.d,function(){var d=a.b[b];return c(d&&d.length?d[d.length-1]:null)},"page-counter-"+b)}function Qh(a,b,c){return new $b(a.d,function(){return c(a.b[b]||[])},"page-counters-"+b)}
function Xm(a,b,c){var d,e=b["counter-reset"];e&&(e=e.evaluate(c))&&(d=Qf(e,!0));if(d)for(var f in d){var e=a,g=f,h=d[f];e.b[g]?e.b[g].push(h):e.b[g]=[h]}var k;(b=b["counter-increment"])&&(c=b.evaluate(c))&&(k=Qf(c,!1));k?"page"in k||(k.page=1):k={page:1};for(var l in k)a.b[l]||(c=a,b=l,c.b[b]?c.b[b].push(0):c.b[b]=[0]),c=a.b[l],c[c.length-1]+=k[l]};function Ym(a,b,c,d,e,f,g,h,k){this.h=a;this.g=b;this.b=c;this.d=d;this.w=e;this.f=f;this.l=a.G;this.u=g;this.e=h;this.k=k;this.j=a.f;bc(this.b,function(a){return(a=this.b.b[a])?0<a.b.length&&a.b[0].b.b<=this.g:!1});ac(this.b,new $b(this.b,function(){return this.b.d},"page-number"))}
function Zm(a,b,c,d){if(a.k.length){var e=new dc(0,b,c,d);a=a.k;for(var f={},g=0;g<a.length;g++)$g(e,f,a[g],0,null,null);g=f.width;a=f.height;var f=f["text-zoom"],h=1;if(g&&a||f){var k=cc.em;(f?f.evaluate(e,"text-zoom"):null)===Cd&&(h=k/d,d=k,b*=h,c*=h);if(g&&a&&(g=gd(g.evaluate(e,"width"),e),e=gd(a.evaluate(e,"height"),e),0<g&&0<e))return{width:g,height:e,fontSize:d}}}return{width:b,height:c,fontSize:d}}
function $m(a,b,c,d,e,f,g,h){dc.call(this,0,d.width,d.height,d.fontSize);this.style=a;this.X=b;this.lang=b.lang||c;this.viewport=d;this.e={body:!0};this.f=e;this.b=this.C=this.d=this.h=null;this.g=0;this.ya=f;this.T=new ti(this.style.l);this.Z={};this.I=null;this.w=new Wm(a.b);this.G={};this.ea=null;this.ta=g;this.wa=h;for(var k in a.e)(b=a.e[k]["flow-consume"])&&(b.evaluate(this,"flow-consume")==id?this.e[k]=!0:delete this.e[k])}t($m,dc);
function an(a){var b=M("StyleInstance.init");a.d=new Ij(a.X,a.style.d,a.style.g,a,a.e,a.style.j,a.w);var c=a.d;c.k=a;for(var d=0;d<c.C.length;d++)Qj(c.k,c.C[d]);a.C={};c=a.C[a.X.url]=a.d;for(d=0;!c.j&&(d+=5E3,Rj(c,d,0)!=Number.POSITIVE_INFINITY););c=c.u;a.ea=nm(c);a.h=new Ll(a.style.w);d=new Uh(a.style.d,a,a.w);a.h.h(d,c);Kl(a.h,a);a.I=new Km(d,a.style.b,a.h,a,c);c=[];for(d=0;d<a.style.f.length;d++){var e=a.style.f[d++];if(!e.F||e.F.evaluate(a)){var f=e.lb,g=a,e={},h=void 0;for(h in f)e[h]=f[h].evaluate(g,
h);f=e;g=void 0;for(g in oi)f[g]||(f[g]=oi[g]);e=new ri(e);c.push(e)}}d=a.ya;a=a.T;e=[];for(f=0;f<c.length;f++)g=c[f],g.src&&g.b?e.push(xi(d,g,a)):v("E_FONT_FACE_INVALID");Uf(e).ka(b);return P(b)}function Qj(a,b){var c=a.b;if(c){var d=c.b[b.f];d||(d=new pj,c.b[b.f]=d);d.b.push(new oj(new nj({ja:[{va:b.g,Fa:0,da:null,pa:null,ia:null}],aa:0,H:!1}),b))}}
function bn(a,b){if(!b)return 0;var c=Number.POSITIVE_INFINITY,d;for(d in a.e){var e=b.b[d];if((!e||0==e.b.length)&&a.b){var f=a.d;f.l=d;for(e=0;null!=f.l&&(e+=5E3,Rj(f,e,0)!=Number.POSITIVE_INFINITY););e=a.b.b[d];b!=a.b&&e&&(e=e.clone(),b.b[d]=e)}if(e){for(var f=a,g=Number.POSITIVE_INFINITY,h=0;h<e.b.length;h++){for(var k=e.b[h].d.La,l=k.ja[0].va,n=k.aa,p=k.H,r=0;l.ownerDocument!=f.X.b;)r++,l=k.ja[r].va,p=!1,n=0;k=Ci(f.X,l,n,p);k<g&&(g=k)}f=g;f<c&&(c=f)}}return c}
function cn(a,b){var c=bn(a,a.b);if(c==Number.POSITIVE_INFINITY)return null;for(var d=a.h.children,e,f=0;f<d.length;f++)if(e=d[f],"vivliostyle-page-rule-master"!==e.d.Wa){var g=1,h=wl(e,a,"utilization");h&&h.Vc()&&(g=h.B);h=fc(a,"em");a.g=Rj(a.d,c,Math.ceil(g*a.k()*a.j()/(h*h)));var g=a,h=g.b.d,k=void 0;for(k in g.b.b)for(var l=g.b.b[k],n=l.b.length-1;0<=n;n--){var p=l.b[n];0>p.b.e&&p.b.b<g.g&&(p.b.e=h)}ec(a,a.style.b);g=wl(e,a,"enabled");if(!g||g===Ld){d=a;v("Location - page "+d.b.d);v("  currnt: "+
c);v("  lookup: "+d.g);c=void 0;for(c in d.b.b)for(f=d.b.b[c],g=0;g<f.b.length;g++)v("  Chunk "+c+": "+f.b[g].b.b);c=a.I;f=b;g=e.d;if(0===Object.keys(f).length)g.d.e=g;else{e=g;d=Mm(c,f);e=e.g+"^"+d;d=c.g[e];if(!d){if("background-host"===g.Wa)d=c,f=(new um(d.h,d.f.d,f)).f(d.f),f.h(d.b,d.e),Kl(f,d.d),d=f;else{d=c;h=f;f=g.clone({Wa:"vivliostyle-page-rule-master"});if(g=h.size)h=qm(h),g=g.Ba,f.b.width=Ug(d.d,f.b.width,new V(h.width,g)),f.b.height=Ug(d.d,f.b.height,new V(h.height,g));f=f.f(d.f);f.h(d.b,
d.e);Kl(f,d.d);d=f}c.g[e]=d}e=d.d;e.d.e=e;e=d}return e}}throw Error("No enabled page masters");}
function dn(a,b,c){var d=a.b.b[c];if(!d)return O(!0);a.e[c]&&0<b.A.length&&(b.dd=!1);zk(b);var e=M("layoutColumn"),f=[];Qe(function(c){for(;0<d.b.length;){var e=0,k=d.b[e];if(k.b.b>a.g)break;for(var l=1;l<d.b.length;l++){var n=d.b[l];if(n.b.b>a.g)break;dj(n.b,k.b)&&(k=n,e=l)}var p=k.b,r=!0;Ek(b,k.d).then(function(a){k.b.Dd&&(null==a||p.d)&&f.push(k);p.d?(d.b.splice(e,1),R(c)):a?(k.d=a,R(c)):(d.b.splice(e,1),r?r=!1:Se(c))});if(r){r=!1;return}}R(c)}).then(function(){0<f.length&&(d.b=f.concat(d.b));
Q(e,!0)});return P(e)}
function en(a,b,c,d,e,f,g){var h=wl(c,a,"enabled");if(h&&h!==Ld)return O(!0);var k=M("layoutContainer"),l=wl(c,a,"wrap-flow")===jd,n=c.b?c.g&&c.G:c.f&&c.I,h=wl(c,a,"flow-from"),p=a.viewport.b.createElement("div"),r=wl(c,a,"position");u(p,"position",r?r.name:"absolute");d.insertBefore(p,d.firstChild);var q=new rj(p);q.b=c.b;c.Tb(a,q,b);q.C=e;q.G=f;e+=q.left+q.marginLeft+q.Z;f+=q.top+q.marginTop+q.ea;if(h&&h.kd())if(a.G[h.toString()])c.Qb(a,q,b,null,1,a.f),h=O(!0);else{var y=M("layoutContainer.inner"),x=
h.toString(),I=Y(c,a,"column-count"),J=Y(c,a,"column-gap"),C=1<I?Y(c,a,"column-width"):q.width,h=vl(c,a),N=0,r=wl(c,a,"shape-inside"),lh=Of(r,0,0,q.width,q.height,a),Va=new Yl(x,a,a.viewport,a.d,h,a.X,a.T,a.style.u,a,b,a.ta,a.wa),mh=0,Z=null;Qe(function(b){for(;mh<I;){var c=mh++;if(1<I){var d=a.viewport.b.createElement("div");u(d,"position","absolute");p.appendChild(d);Z=new bk(d,Va,a.f);Z.b=q.b;Z.tb=q.tb;Z.Lb=q.Lb;q.b?(u(d,"margin-left",q.h+"px"),u(d,"margin-right",q.I+"px"),c=c*(C+J)+q.j,yj(Z,0,
q.width),xj(Z,c,C)):(u(d,"margin-top",q.j+"px"),u(d,"margin-bottom",q.w+"px"),c=c*(C+J)+q.h,xj(Z,0,q.height),yj(Z,c,C));Z.C=e+q.h;Z.G=f+q.j}else Z=new bk(p,Va,a.f),wj(Z,q),q=Z;Z.A=n?[]:g;Z.Jb=lh;if(0<=Z.width){var h=M("inner");dn(a,Z,x).then(function(){Z.T&&"column"!=Z.T&&(mh=I,"region"!=Z.T&&(a.G[x]=!0));Q(h,!0)});c=P(h)}else c=O(!0);if(c.sa()){c.then(function(){N=Math.max(N,Z.e);Se(b)});return}N=Math.max(N,Z.e)}R(b)}).then(function(){q.e=N;c.Qb(a,q,b,Z,I,a.f);Q(y,!0)});h=P(y)}else h=wl(c,a,"content"),
r=!1,h&&Aj(h)?(h.L(new zj(p,a)),Jl(c,a,q)):c.ya&&(d.removeChild(p),r=!0),r||c.Qb(a,q,b,null,1,a.f),h=O(!0);h.then(function(){if(!c.f||0<Math.floor(q.e)){if(!l){var h=q.C+q.left,n=q.G+q.top,r=uj(q)+q.width+vj(q),x=sj(q)+q.height+tj(q),y=wl(c,a,"shape-outside"),h=Of(y,h,n,r,x,a);Ra(a.viewport.root)&&g.push(ae(h,0,-1.25*fc(a,"em")));g.push(h)}}else if(0==c.children.length){d.removeChild(p);Q(k,!0);return}var C=c.children.length-1;Pe(function(){for(;0<=C;){var d=c.children[C--],d=en(a,b,d,p,e,f,g);if(d.sa())return d}return O(!1)}).then(function(){Q(k,
!0)})});return P(k)}
function fn(a,b,c){a.G={};c?(a.b=c.clone(),Lj(a.d,c.e)):(a.b=new qj,Lj(a.d,-1));a.lang&&b.J.setAttribute("lang",a.lang);c=a.b;c.d++;ec(a,a.style.b);var d=Lm(a.I);gn(a,d);var e=cn(a,d);if(!e)return O(null);e.d.b.width.value===Nd&&Zi(b);e.d.b.height.value===Pd&&$i(b);Xm(a.w,d,a);var f=M("layoutNextPage");en(a,b,e,b.J,0,0,[]).then(function(){e.Z(a,b,a.f);var d=new Hc(e.d.d,"left-page");b.e=d.evaluate(a)?"left":"right";var d=a.b.d,h;for(h in a.b.b)for(var k=a.b.b[h],l=k.b.length-1;0<=l;l--){var n=k.b[l];
0<=n.b.e&&n.b.e+n.b.j-1<=d&&k.b.splice(l,1)}a.b=null;c.e=a.d.b;h=a.style.h.C[a.X.url];k=b.f;for(d=0;d<k.length;d++)l=k[d],u(l.target,l.name,l.value.toString());for(d=0;d<h.length;d++)if(k=h[d],n=b.g[k.Ab],l=b.g[k.Ad],n&&l&&(n=Xi(n,k.action)))for(var p=0;p<l.length;p++)l[p].addEventListener(k.event,n,!1);var r;a:{for(r in a.e)if((h=c.b[r])&&0<h.b.length){r=!1;break a}r=!0}r&&(c=null);Q(f,c)});return P(f)}
function gn(a,b){var c=qm(b),d=c.width;d===Nd?a.u=null:a.u=d.B*fc(a,d.b);c=c.height;c===Pd?a.l=null:a.l=c.B*fc(a,c.b)}function hn(a,b,c,d){ei.call(this,a.g,a,b,c,d,a.f,!c);this.f=a;this.A=!1}t(hn,ei);m=hn.prototype;m.$b=function(){};m.Zb=function(a,b,c){a=new fl(this.f.j,a,b,c,this.f.u,this.F,df(this.Y));ff(this.f,new Ql(a.d,this.f,a,this.u))};m.fb=function(a){a=a.e;null!=this.F&&(a=Nc(this.e,this.F,a));ff(this.f,new hn(this.f,a,this,this.C))};m.Wb=function(){ff(this.f,new hi(this.e,this.Y))};
m.Yb=function(){var a={};this.f.k.push({lb:a,F:this.F});ff(this.f,new ii(this.e,this.Y,null,a,this.f.f))};m.Xb=function(a){var b=this.f.h[a];b||(b={},this.f.h[a]=b);ff(this.f,new ii(this.e,this.Y,null,b,this.f.f))};m.bc=function(){var a={};this.f.w.push(a);ff(this.f,new ii(this.e,this.Y,this.F,a,this.f.f))};m.Cb=function(a){var b=this.f.l;if(a){var c=Yg(b,"_pseudos"),b=c[a];b||(b={},c[a]=b)}ff(this.f,new ii(this.e,this.Y,null,b,this.f.f))};m.ac=function(){this.A=!0;this.Za()};
m.mb=function(){var a=new Um(this.f.j,this.f,this,this.u);ff(this.f,a);a.mb()};m.ha=function(){ei.prototype.ha.call(this);if(this.A){this.A=!1;var a="R"+this.f.C++,b=H(a),c;this.F?c=new Tg(b,0,this.F):c=new V(b,0);Zg(this.k,"region-id").push(c);this.Oa();a=new hn(this.f,this.F,this,a);ff(this.f,a);a.ha()}};
function jn(a){var b=a.getAttribute("content");if(!b)return"";a={};for(var c;null!=(c=b.match(/^,?\s*([-A-Za-z_.][-A-Za-z_0-9.]*)\s*=\s*([-+A-Za-z_0-9.]*)\s*/));)b=b.substr(c[0].length),a[c[1]]=c[2];b=a.width-0;a=a.height-0;return b&&a?"@-epubx-viewport{width:"+b+"px;height:"+a+"px;}":""}function kn(a){ef.call(this);this.f=a;this.g=new Xb(null);this.j=new Xb(this.g);this.u=new cl(this.g);this.A=new hn(this,null,null,null);this.C=0;this.k=[];this.l={};this.h={};this.w=[];this.b=this.A}t(kn,ef);
kn.prototype.M=function(a){v("CSS parser: "+a)};function ln(a,b){return mn(b,a)}function nn(a){We.call(this,ln,!1);this.G=a;this.A={};this.h={};this.b={};this.C={};this.f=null;this.j=[]}t(nn,We);function on(a){var b=ea("user-agent.xml",da),c=M("OPSDocStore.init");Xe(Hg).then(function(d){a.f=d;Xe(ki).then(function(){a.load(b).then(function(){Q(c,!0)})})});return P(c)}function pn(a,b){a.j.push({url:b.url,text:b.text,Pa:"User",ra:null,media:null})}
function mn(a,b){var c=M("OPSDocStore.load"),d=b.url;Ii(b,a).then(function(b){for(var f=[],g=b.b.getElementsByTagNameNS("http://www.idpf.org/2007/ops","trigger"),h=0;h<g.length;h++){var k=g[h],l=k.getAttributeNS("http://www.w3.org/2001/xml-events","observer"),n=k.getAttributeNS("http://www.w3.org/2001/xml-events","event"),p=k.getAttribute("action"),k=k.getAttribute("ref");l&&n&&p&&k&&f.push({Ad:l,event:n,action:p,Ab:k})}a.C[d]=f;var r=[],f=ea("user-agent-page.css",da);r.push({url:f,text:null,Pa:"UA",
ra:null,media:null});for(h=0;h<a.j.length;h++)r.push(a.j[h]);if(f=b.h)for(f=f.firstChild;f;f=f.nextSibling)if(1==f.nodeType)if(g=f,h=g.namespaceURI,l=g.localName,"http://www.w3.org/1999/xhtml"==h)if("style"==l)r.push({url:d,text:g.textContent,Pa:"Author",ra:null,media:null});else if("link"==l){if(n=g.getAttribute("rel"),h=g.getAttribute("class"),l=g.getAttribute("media"),"stylesheet"==n||"alternate stylesheet"==n&&h)g=g.getAttribute("href"),g=ea(g,d),r.push({url:g,text:null,ra:h,media:l,Pa:"Author"})}else"meta"==
l&&"viewport"==g.getAttribute("name")&&r.push({url:d,text:jn(g),Pa:"Author",F:null,media:null});else"http://www.gribuser.ru/xml/fictionbook/2.0"==h?"stylesheet"==l&&"text/css"==g.getAttribute("type")&&r.push({url:d,text:g.textContent,Pa:"Author",ra:null,media:null}):"http://example.com/sse"==h&&"property"===l&&(h=g.getElementsByTagName("name")[0])&&"stylesheet"===h.textContent&&(g=g.getElementsByTagName("value")[0])&&(g=ea(g.textContent,d),r.push({url:g,text:null,ra:null,media:null,Pa:"Author"}));
for(var q="",h=0;h<r.length;h++)q+=r[h].url,q+="^",r[h].text&&(q+=r[h].text),q+="^";var y=a.A[q];y?(a.b[d]=y,Q(c,b)):(f=a.h[q],f||(f=new Ze(function(){var b=M("fetchStylesheet"),c=0,d=new kn(a.f);Pe(function(){if(c<r.length){var a=r[c++];d.nb(a.Pa);var b;if(a.text){b=a.url;var e=a.ra,a=new Mb(a.text);b=Ff(a,d,b,e)}else b=Gf(a.url,d,a.ra);return b}return O(!1)}).then(function(){y=new Ym(a,d.g,d.j,d.A.h,d.u,d.k,d.l,d.h,d.w);a.A[q]=y;delete a.h[q];Q(b,y)});return P(b)},"FetchStylesheet "+d),a.h[q]=f,
f.start()),Xe(f).then(function(f){a.b[d]=f;Q(c,b)}))});return P(c)};function qn(a,b,c,d,e,f,g,h){this.d=a;this.url=b;this.lang=c;this.e=d;this.g=e;this.U=Pb(f);this.h=g;this.f=h;this.Qa=this.b=null}function rn(a,b,c){if(0!=c--)for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var d=b;"auto"!=za(d,"height")&&(u(d,"height","auto"),rn(a,d,c));"absolute"==za(d,"position")&&(u(d,"position","relative"),rn(a,d,c))}}
function sn(a){var b=a.target,c="\u25b8"==b.textContent;b.textContent=c?"\u25be":"\u25b8";for(b=b.parentNode.firstChild;b;)if(1!=b.nodeType)b=b.nextSibling;else{var d=b;"toc-container"==d.getAttribute("data-adapt-class")?b=d.firstChild:("toc-node"==d.getAttribute("data-adapt-class")&&(d.style.height=c?"auto":"0px"),b=b.nextSibling)}a.stopPropagation()}
qn.prototype.Ac=function(a){var b=this.h.Ac(a);return function(a,d,e){var f=e.behavior;if(!f||"toc-node"!=f.toString()&&"toc-container"!=f.toString())return b(a,d,e);a=d.getAttribute("data-adapt-class");"toc-node"==a&&(e=d.firstChild,"\u25b8"!=e.textContent&&(e.textContent="\u25b8",u(e,"cursor","pointer"),e.addEventListener("click",sn,!1)));var g=d.ownerDocument.createElement("div");g.setAttribute("data-adapt-process-children","true");"toc-node"==f.toString()?(e=d.ownerDocument.createElement("div"),
e.textContent="\u25b9",u(e,"margin-left","-1em"),u(e,"display","inline-block"),u(e,"width","1em"),u(e,"text-align","left"),u(e,"cursor","default"),u(e,"font-family","Menlo,sans-serif"),g.appendChild(e),u(g,"overflow","hidden"),g.setAttribute("data-adapt-class","toc-node"),"toc-node"!=a&&"toc-container"!=a||u(g,"height","0px")):"toc-node"==a&&g.setAttribute("data-adapt-class","toc-container");return O(g)}};
qn.prototype.Vb=function(a,b,c,d,e){if(this.b)return O(this.b);var f=this,g=M("showTOC"),h=new Yi(a);this.b=h;this.d.load(this.url).then(function(d){var l=f.d.b[d.url],n=Zm(l,c,1E5,e);b=new lm(b.d,n.fontSize,b.root,n.width,n.height);var p=new $m(l,d,f.lang,b,f.e,f.g,f.Ac(d),f.f);f.Qa=p;p.U=f.U;an(p).then(function(){fn(p,h,null).then(function(){rn(f,a,2);Q(g,h)})})});return P(g)};
qn.prototype.Rb=function(){if(this.b){var a=this.b;this.Qa=this.b=null;u(a.J,"visibility","none");var b=a.J.parentNode;b&&b.removeChild(a.J)}};qn.prototype.Xc=function(){return!!this.b};function tn(){nn.call(this,un(this));this.d=new We(Ii,!1);this.u=new We($e,!1);this.w={};this.Z={};this.k={};this.l={}}t(tn,nn);function un(a){return function(b){return a.k[b]}}
function vn(a,b,c){var d=M("loadEPUBDoc");c&&a.u.Pb(b+"?r=list");a.d.Pb(b+"META-INF/encryption.xml");a.d.load(b+"META-INF/container.xml").then(function(e){e=Ti(zi(zi(zi(new Ai([e.b]),"container"),"rootfiles"),"rootfile"),"full-path");for(var f=0;f<e.length;f++){var g=e[f];if(g){wn(a,b,g,c).ka(d);return}}Q(d,null)});return P(d)}
function wn(a,b,c,d){var e=b+c,f=a.w[e];if(f)return O(f);var g=M("loadOPF");a.d.load(e).then(function(c){a.d.load(b+"META-INF/encryption.xml").then(function(k){(d?a.u.load(b+"?r=list"):O(null)).then(function(d){f=new xn(a,b);yn(f,c,k,d,b+"?r=manifest").then(function(){a.w[e]=f;a.Z[b]=f;Q(g,f)})})})});return P(g)}tn.prototype.load=function(a){a=ca(a);var b=this.l[a];return b?b.sa()?b:O(b.Nb()):tn.Ed.load.call(this,a)};
function zn(){this.id=null;this.src="";this.g=this.d=null;this.D=-1;this.h=0;this.j=null;this.b=this.e=0;this.f=La}function An(a){return a.id}function Bn(a){var b=re(a);return function(a){var d=M("deobfuscator"),e,f;a.slice?(e=a.slice(0,1040),f=a.slice(1040,a.size)):(e=a.webkitSlice(0,1040),f=a.webkitSlice(1040,a.size-1040));Ve(e).then(function(a){a=new DataView(a);for(var c=0;c<a.byteLength;c++){var e=a.getUint8(c),e=e^b[c%20];a.setUint8(c,e)}Q(d,Ue([a,f]))});return P(d)}}
var Cn={dcterms:"http://purl.org/dc/terms/",marc:"http://id.loc.gov/vocabulary/",media:"http://www.idpf.org/epub/vocab/overlays/#",onix:"http://www.editeur.org/ONIX/book/codelists/current.html#",xsd:"http://www.w3.org/2001/XMLSchema#"},Dn=Cn.dcterms+"language",En=Cn.dcterms+"title";
function Fn(a,b){var c={};return function(d,e){var f,g,h=d.r||c,k=e.r||c;if(a==En&&(f="main"==h["http://idpf.org/epub/vocab/package/#title-type"],g="main"==k["http://idpf.org/epub/vocab/package/#title-type"],f!=g))return f?-1:1;f=parseInt(h["http://idpf.org/epub/vocab/package/#display-seq"],10);isNaN(f)&&(f=Number.MAX_VALUE);g=parseInt(k["http://idpf.org/epub/vocab/package/#display-seq"],10);isNaN(g)&&(g=Number.MAX_VALUE);return f!=g?f-g:a!=Dn&&b&&(f=(h[Dn]||h["http://idpf.org/epub/vocab/package/#alternate-script"])==
b,g=(k[Dn]||k["http://idpf.org/epub/vocab/package/#alternate-script"])==b,f!=g)?f?-1:1:d.o-e.o}}
function Gn(a,b){function c(a){for(var b in a){var d=a[b];d.sort(Fn(b,l));for(var e=0;e<d.length;e++){var f=d[e].r;f&&c(f)}}}function d(a){return Oa(a,function(a){return Na(a,function(a){var b={v:a.value,o:a.K};a.Kd&&(b.s=a.scheme);if(a.id||a.lang){var c=k[a.id];if(c||a.lang)a.lang&&(a={name:Dn,value:a.lang,lang:null,id:null,Hc:a.id,scheme:null,K:a.K},c?c.push(a):c=[a]),c=Ma(c,function(a){return a.name}),b.r=d(c)}return b})})}function e(a){if(a&&(a=a.match(/^\s*(([^:]*):)?(\S+)\s*$/))){var b=a[1]?
f[a[1]]:"http://idpf.org/epub/vocab/package/#";if(b)return b+a[3]}return null}var f;if(b){f={};for(var g in Cn)f[g]=Cn[g];for(;null!=(g=b.match(/(^\s*[A-Z_a-z\u007F-\uFFFF][-.A-Z_a-z0-9\u007F-\uFFFF]*):\s*(\S+)/));)b=b.substr(g[0].length),f[g[1]]=g[2]}else f=Cn;var h=1;g=Ri(Si(a),function(a){if("meta"==a.localName){var b=e(a.getAttribute("property"));if(b)return{name:b,value:a.textContent,id:a.getAttribute("id"),K:h++,Hc:a.getAttribute("refines"),lang:null,scheme:e(a.getAttribute("scheme"))}}else if("http://purl.org/dc/elements/1.1/"==
a.namespaceURI)return{name:Cn.dcterms+a.localName,K:h++,lang:a.getAttribute("xml:lang"),value:a.textContent,id:a.getAttribute("id"),Hc:null,scheme:null};return null});var k=Ma(g,function(a){return a.Hc});g=d(Ma(g,function(a){return a.Hc?null:a.name}));var l=null;g[Dn]&&(l=g[Dn][0].v);c(g);return g}function Hn(){var a=window.MathJax;return a?a.Hub:null}var In={"appliaction/xhtml+xml":!0,"image/jpeg":!0,"image/png":!0,"image/svg+xml":!0,"image/gif":!0,"audio/mp3":!0};
function xn(a,b){this.e=a;this.g=this.d=this.b=this.h=this.f=null;this.k=b;this.j=null;this.C={};this.lang=null;this.u=0;this.l={};this.G=this.A=this.I=null;this.w={};Hn()&&(Jg["http://www.w3.org/1998/Math/MathML"]=!0)}function Jn(a,b){return a.k?b.substr(0,a.k.length)==a.k?decodeURI(b.substr(a.k.length)):null:b}
function yn(a,b,c,d,e){a.f=b;var f=zi(new Ai([b.b]),"package"),g=Ti(f,"unique-identifier")[0];g&&(g=Gi(b,b.url+"#"+g))&&(a.j=g.textContent.replace(/[ \n\r\t]/g,""));var h={};a.h=Na(Oi(zi(zi(f,"manifest"),"item")),function(c){var d=new zn,e=b.url;d.id=c.getAttribute("id");d.src=ea(c.getAttribute("href"),e);d.d=c.getAttribute("media-type");if(e=c.getAttribute("properties")){for(var e=e.split(/\s+/),f={},g=0;g<e.length;g++)f[e[g]]=!0;d.f=f}(c=c.getAttribute("fallback"))&&!In[d.d]&&(h[d.src]=c);!a.A&&
d.f.nav&&(a.A=d);!a.G&&d.f["cover-image"]&&(a.G=d);return d});a.d=Ka(a.h,An);a.g=Ka(a.h,function(b){return Jn(a,b.src)});for(var k in h)for(g=k;;){g=a.d[h[g]];if(!g)break;if(In[g.d]){a.w[k]=g.src;break}g=g.src}a.b=Na(Oi(zi(zi(f,"spine"),"itemref")),function(b,c){var d=b.getAttribute("idref");if(d=a.d[d])d.g=b,d.D=c;return d});if(k=Ti(zi(f,"spine"),"toc")[0])a.I=a.d[k];var g=Ti(zi(zi(Ni(zi(zi(new Ai([c.b]),"encryption"),"EncryptedData"),Mi()),"CipherData"),"CipherReference"),"URI"),l=Oi(zi(zi(f,"bindings"),
"mediaType"));for(c=0;c<l.length;c++){var n=l[c].getAttribute("handler");(k=l[c].getAttribute("media-type"))&&n&&a.d[n]&&(a.C[k]=a.d[n].src)}a.l=Gn(zi(f,"metadata"),Ti(f,"prefix")[0]);a.l[Dn]&&(a.lang=a.l[Dn][0].v);if(!d){if(0<g.length&&a.j)for(d=Bn(a.j),c=0;c<g.length;c++)a.e.k[a.k+g[c]]=d;return O(!0)}f=new Aa;l={};if(0<g.length&&a.j)for(k="1040:"+se(a.j),c=0;c<g.length;c++)l[g[c]]=k;for(c=0;c<d.length;c++){var p=d[c];if(n=p.n){var r=decodeURI(n),g=a.g[r];k=null;g&&(g.j=0!=p.m,g.h=p.c,g.d&&(k=g.d.replace(/\s+/g,
"")));g=l[r];if(k||g)f.append(n),f.append(" "),f.append(k||"application/octet-stream"),g&&(f.append(" "),f.append(g)),f.append("\n")}}Kn(a);return Te(e,!1,"POST",f.toString(),"text/plain")}function Kn(a){for(var b=0,c=0;c<a.b.length;c++){var d=a.b[c],e=Math.ceil(d.h/1024);d.e=b;d.b=e;b+=e}a.u=b}
function Ln(a,b,c){var d=new zn;d.D=0;d.id="item1";d.src=b;a.d={item1:d};a.g={};a.g[b]=d;a.h=[d];a.b=a.h;c?(a=a.e,d=M("EPUBDocStore.load"),b=ca(b),(a.l[b]=mn(a,{status:200,url:b,responseText:null,responseXML:c,Ub:null})).ka(d),c=P(d)):c=O(null);return c}function Mn(a,b,c){var d=a.b[b],e=M("getCFI");a.e.load(d.src).then(function(a){var b=Ei(a,c),h=null;b&&(a=Ci(a,b,0,!1),h=new bb,fb(h,b,c-a),d.g&&fb(h,d.g,0),h=h.toString());Q(e,h)});return P(e)}
function Nn(a,b){return ye("resolveFragment",function(c){if(b){var d=new bb;cb(d,b);var e;if(a.f){var f=db(d,a.f.b);if(1!=f.va.nodeType||f.H||!f.Ab){Q(c,null);return}var g=f.va,h=g.getAttribute("idref");if("itemref"!=g.localName||!h||!a.d[h]){Q(c,null);return}e=a.d[h];d=f.Ab}else e=a.b[0];a.e.load(e.src).then(function(a){var b=db(d,a.b);a=Ci(a,b.va,b.offset,b.H);Q(c,{D:e.D,ga:a,N:-1})})}else Q(c,null)},function(a){v("Error resolving fragment "+b);Q(a,null)})}
function On(a,b){return ye("resolveEPage",function(c){if(0>=b)Q(c,{D:0,ga:0,N:-1});else{var d=Ia(a.b.length,function(c){c=a.b[c];return c.e+c.b>b}),e=a.b[d];a.e.load(e.src).then(function(a){b-=e.e;b>e.b&&(b=e.b);var g=0;0<b&&(a=Di(a),g=Math.round(a*b/e.b),g==a&&g--);Q(c,{D:d,ga:g,N:-1})})}},function(a){v("Error resolving epage: "+b);Q(a,null)})}
function Pn(a,b){var c=a.b[b.D];if(0>=b.ga)return O(c.e);var d=M("getEPage");a.e.load(c.src).then(function(a){a=Di(a);var f=Math.min(a,b.ga);Q(d,c.e+f*c.b/a)});return P(d)}function Qn(a,b,c,d){this.b=a;this.viewport=b;this.f=c;this.Bb=[];this.ga=this.N=this.D=0;this.U=Pb(d);this.e=new km(b.d)}function Rn(a){var b=a.Bb[a.D];return b?b.eb[a.N]:null}m=Qn.prototype;m.sc=function(){var a=this.Bb[this.D];return a?a.Qa.ea:null};
function Sn(a){var b=M("renderPage");Tn(a).then(function(c){if(c){var d=-1;if(0>a.N){var d=a.ga,e=Ia(c.Da.length,function(a){return bn(c.Qa,c.Da[a])>d});a.N=e==c.Da.length?Number.POSITIVE_INFINITY:e-1}var f=c.eb[a.N];f?(a.ga=f.offset,Q(b,f)):Qe(function(b){if(a.N<c.Da.length)R(b);else if(c.complete)a.N=c.Da.length-1,R(b);else{var e=c.Da[c.Da.length-1],k=Un(a,c,e);fn(c.Qa,k,e).then(function(l){k.J.style.display="none";k.J.style.visibility="visible";k.J.setAttribute("data-vivliostyle-page-side",k.e);
(e=l)?(c.eb[e.d-1]=k,c.Da.push(e),0<=d&&bn(c.Qa,e)>d?(f=k,a.N=c.Da.length-2,R(b)):(k.h=0==c.item.D&&0==e.d-1,Se(b))):(c.eb.push(k),f=k,a.N=c.Da.length-1,0>d&&(a.ga=k.offset),c.complete=!0,k.h=0==c.item.D&&0==a.N,k.j=c.item.D==a.b.b.length-1,R(b))})}}).then(function(){if(f)Q(b,f);else{var e=c.Da[a.N];0>d&&(a.ga=bn(c.Qa,e));var h=Un(a,c,e);fn(c.Qa,h,e).then(function(d){h.J.style.display="none";h.J.style.visibility="visible";h.J.setAttribute("data-vivliostyle-page-side",h.e);(e=d)?(c.eb[e.d-1]=h,c.Da[a.N+
1]=e):(c.eb.push(h),c.complete=!0,h.j=c.item.D==a.b.b.length-1);h.h=0==c.item.D&&0==a.N;Q(b,h)})}})}else Q(b,null)});return P(b)}m.Ic=function(){var a=this,b=M("renderAllPages"),c=a.D,d=a.N,e=a.b.b.length;a.D=0;Qe(function(b){a.N=Number.POSITIVE_INFINITY;Sn(a).then(function(){++a.D>=e?R(b):Se(b)})}).then(function(){a.D=c;a.N=d;Sn(a).ka(b)});return P(b)};m.vd=function(){this.N=this.D=0;return Sn(this)};m.wd=function(){this.D=this.b.b.length-1;this.N=Number.POSITIVE_INFINITY;return Sn(this)};
m.nextPage=function(){var a=this,b=M("nextPage");Tn(a).then(function(c){if(c){if(c.complete&&a.N==c.Da.length-1){if(a.D>=a.b.b.length-1){Q(b,null);return}a.D++;a.N=0}else a.N++;Sn(a).ka(b)}else Q(b,null)});return P(b)};m.Gc=function(){if(0==this.N){if(0==this.D)return O(null);this.D--;this.N=Number.POSITIVE_INFINITY}else this.N--;return Sn(this)};function Vn(a,b){var c="left"===b.e,d="ltr"===a.sc();return!c&&d||c&&!d}
function Wn(a){var b=M("getCurrentSpread"),c=Rn(a);if(!c)return O({left:null,right:null});var d=a.D,e=a.N,f="left"===c.e;(Vn(a,c)?a.Gc():a.nextPage()).then(function(g){a.D=d;a.N=e;Sn(a).then(function(){f?Q(b,{left:c,right:g}):Q(b,{left:g,right:c})})});return P(b)}m.zd=function(){var a=Rn(this);if(!a)return O(null);var a=Vn(this,a),b=this.nextPage();if(a)return b;var c=this;return b.cc(function(){return c.nextPage()})};
m.Cd=function(){var a=Rn(this);if(!a)return O(null);var a=Vn(this,a),b=this.Gc();if(a){var c=this;return b.cc(function(){return c.Gc()})}return b};function Xn(a,b){var c=M("navigateToEPage");On(a.b,b).then(function(b){b&&(a.D=b.D,a.N=b.N,a.ga=b.ga);Sn(a).ka(c)});return P(c)}function Yn(a,b){var c=M("navigateToCFI");Nn(a.b,b).then(function(b){b&&(a.D=b.D,a.N=b.N,a.ga=b.ga);Sn(a).ka(c)});return P(c)}
function Zn(a,b){v("Navigate to "+b);var c=Jn(a.b,ca(b));if(null==c&&(a.b.f&&b.match(/^#epubcfi\(/)&&(c=Jn(a.b,a.b.f.url)),null==c))return O(null);var d=a.b.g[c];if(!d)return a.b.f&&c==Jn(a.b,a.b.f.url)&&(c=b.indexOf("#"),0<=c)?Yn(a,b.substr(c+1)):O(null);d.D!=a.D&&(a.D=d.D,a.N=0);var e=M("navigateTo");Tn(a).then(function(c){var d=Gi(c.X,b);d&&(a.ga=Bi(c.X,d),a.N=-1);Sn(a).ka(e)});return P(e)}
function Un(a,b,c){var d=b.Qa.viewport,e=d.b.createElement("div");d.root.appendChild(e);e.style.position="relative";e.style.visibility="hidden";e.style.left="0px";e.style.top="0px";var f=new Yi(e);f.D=b.item.D;f.position=c;f.offset=bn(b.Qa,c);d!==a.viewport&&(a=Sb(a.viewport.width,a.viewport.height,d.width,d.height),a=Hf(null,new Mb(a)),f.f.push(new Vi(e,"transform",a)));return f}
function $n(a,b){var c=Hn();if(c){var d=b.ownerDocument,e=d.createElement("span");b.appendChild(e);d=d.importNode(a,!0);e.appendChild(d);d=c.queue;d.Push(["Typeset",c,e]);var c=M("navigateToEPage"),f=Je(c);d.Push(function(){f.Ra(e)});return P(c)}return O(null)}
m.Ac=function(a){var b=this;return function(c,d){var e;if("object"==c.localName&&"http://www.w3.org/1999/xhtml"==c.namespaceURI){var f=c.getAttribute("data");e=null;if(f){var f=ea(f,a.url),g=c.getAttribute("media-type");if(!g){var h=Jn(b.b,f);h&&(h=b.b.g[h])&&(g=h.d)}if(g&&(h=b.b.C[g])){e=b.viewport.b.createElement("iframe");e.style.border="none";var f=Ea(f),k=Ea(g),g=new Aa;g.append(h);g.append("?src=");g.append(f);g.append("&type=");g.append(k);for(h=c.firstChild;h;h=h.nextSibling)1==h.nodeType&&
(k=h,"param"==k.localName&&"http://www.w3.org/1999/xhtml"==k.namespaceURI&&(f=k.getAttribute("name"),k=k.getAttribute("value"),f&&k&&(g.append("&"),g.append(encodeURIComponent(f)),g.append("="),g.append(encodeURIComponent(k)))));e.setAttribute("src",g.toString());(g=c.getAttribute("width"))&&e.setAttribute("width",g);(g=c.getAttribute("height"))&&e.setAttribute("height",g)}}e||(e=b.viewport.b.createElement("span"),e.setAttribute("data-adapt-process-children","true"));e=O(e)}else if("http://www.w3.org/1998/Math/MathML"==
c.namespaceURI)e=$n(c,d);else if("http://example.com/sse"==c.namespaceURI){e=d?d.ownerDocument:b.viewport.b;g=c.localName;switch(g){case "t":case "tab":case "ec":case "nt":case "fraction":case "comment":case "mark":g="span";break;case "ruby":case "rp":case "rt":break;default:g="div"}e=e.createElement(g);e.setAttribute("data-adapt-process-children","true");e=O(e)}else e=O(null);return e}};
function Tn(a){if(a.D>=a.b.b.length)return O(null);var b=a.Bb[a.D];if(b)return O(b);var c=a.b.b[a.D],d=a.b.e,e=M("getPageViewItem");d.load(c.src).then(function(f){0==c.b&&1==a.b.b.length&&(c.b=Math.ceil(Di(f)/2700),a.b.u=c.b);var g=d.b[f.url],h=a.Ac(f),k=a.viewport,l=Zm(g,k.width,k.height,k.fontSize);if(l.width!=k.width||l.height!=k.height||l.fontSize!=k.fontSize)k=new lm(k.d,l.fontSize,k.root,l.width,l.height);var n=new $m(g,f,a.b.lang,k,a.e,a.f,h,a.b.w);n.U=a.U;an(n).then(function(){b={item:c,X:f,
Qa:n,Da:[null],eb:[],complete:!1};a.Bb[a.D]=b;Q(e,b)})});return P(e)}function ao(a){return{D:a.D,N:a.N,ga:a.ga}}function bo(a,b){b?(a.D=b.D,a.N=-1,a.ga=b.ga):(a.D=0,a.N=0,a.ga=0);return Sn(a)}
m.Vb=function(){var a=this.b,b=a.A||a.I;if(!b)return O(null);var c=M("showTOC");this.d||(this.d=new qn(a.e,b.src,a.lang,this.e,this.f,this.U,this,a.w));var a=this.viewport,b=Math.min(350,Math.round(.67*a.width)-16),d=a.height-6,e=a.b.createElement("div");a.root.appendChild(e);e.style.position="absolute";e.style.visibility="hidden";e.style.left="3px";e.style.top="3px";e.style.width=b+10+"px";e.style.maxHeight=d+"px";e.style.overflow="scroll";e.style.overflowX="hidden";e.style.background="#EEE";e.style.border=
"1px outset #999";e.style.borderRadius="2px";e.style.boxShadow=" 5px 5px rgba(128,128,128,0.3)";this.d.Vb(e,a,b,d,this.viewport.fontSize).then(function(a){e.style.visibility="visible";Q(c,a)});return P(c)};m.Rb=function(){this.d&&this.d.Rb()};m.Xc=function(){return this.d&&this.d.Xc()};function co(a,b,c,d){var e=this;this.g=a;this.cd=b;this.T=c;this.I=d;this.G=new ui(a.document.head,b);this.l="";this.f=null;this.d=!1;this.e=this.j=this.h=this.k=null;this.fontSize=16;this.A=!1;this.Ic=!0;this.U=Ob();this.u=function(){};this.w=function(){e.d=!0;e.u()};this.uc=function(){};this.C={loadEPUB:this.xd,loadXML:this.sd,configure:this.Rc,moveTo:this.ud,toc:this.Vb}}function eo(a,b){b.i=a.T;b.viewer=a;a.I(b)}m=co.prototype;
m.xd=function(a){var b=a.url,c=a.fragment,d=!!a.zipmeta,e=a.userStyleSheet,f=M("loadEPUB"),g=this;g.Rc(a).then(function(){var a=new tn;if(e)for(var k=0;k<e.length;k++)pn(a,e[k]);on(a).then(function(){var e=ea(b,g.g.location.href);g.l=e;vn(a,e,d).then(function(a){g.f=a;Nn(g.f,c).then(function(a){g.e=a;fo(g).then(function(){eo(g,{t:"loaded",metadata:g.f.l});Q(f,!0)})})})})});return P(f)};
m.sd=function(a){var b=a.url,c=a.document,d=a.fragment,e=a.userStyleSheet,f=M("loadXML"),g=this;g.Rc(a).then(function(){var a=new tn;if(e)for(var k=0;k<e.length;k++)pn(a,e[k]);on(a).then(function(){var e=ea(b,g.g.location.href);g.l=e;g.f=new xn(a,"");Ln(g.f,e,c).then(function(){Nn(g.f,d).then(function(a){g.e=a;fo(g).then(function(){eo(g,{t:"loaded"});Q(f,!0)})})})})});return P(f)};
function go(a,b){var c=parseFloat(b),d=/[a-z]+$/,e;if("string"===typeof b&&(e=b.match(d))){d=e[0];if("em"===d||"rem"===d)return c*a.fontSize;if("ex"===d||"rex"===d)return c*cc.ex*a.fontSize/cc.em;if(d=cc[d])return c*d}return c}
m.Rc=function(a){"boolean"==typeof a.autoresize&&(a.autoresize?(this.k=null,this.g.addEventListener("resize",this.w,!1),this.d=!0):this.g.removeEventListener("resize",this.w,!1));if("number"==typeof a.fontSize){var b=a.fontSize;5<=b&&72>=b&&this.fontSize!=b&&(this.fontSize=b,this.d=!0)}"object"==typeof a.viewport&&a.viewport&&(b=a.viewport,b={marginLeft:go(this,b["margin-left"])||0,marginRight:go(this,b["margin-right"])||0,marginTop:go(this,b["margin-top"])||0,marginBottom:go(this,b["margin-bottom"])||
0,width:go(this,b.width)||0,height:go(this,b.height)||0},200<=b.width||200<=b.height)&&(this.g.removeEventListener("resize",this.w,!1),this.k=b,this.d=!0);"boolean"==typeof a.hyphenate&&(this.U.vc=a.hyphenate,this.d=!0);"boolean"==typeof a.horizontal&&(this.U.tc=a.horizontal,this.d=!0);"boolean"==typeof a.nightMode&&(this.U.Cc=a.nightMode,this.d=!0);"number"==typeof a.lineHeight&&(this.U.lineHeight=a.lineHeight,this.d=!0);"number"==typeof a.columnWidth&&(this.U.oc=a.columnWidth,this.d=!0);"string"==
typeof a.fontFamily&&(this.U.fontFamily=a.fontFamily,this.d=!0);"boolean"==typeof a.load&&(this.A=a.load);"boolean"==typeof a.renderAllPages&&(this.Ic=a.renderAllPages);"string"==typeof a.userAgentRootURL&&(da=a.userAgentRootURL);"boolean"==typeof a.spreadView&&(this.U.Ya=a.spreadView);"number"==typeof a.pageBorder&&(this.U.Ec=a.pageBorder);return O(!0)};
function ho(a){var b=[];a.h&&(b.push(a.h),a.h=null);a.j&&(b.push(a.j.left),b.push(a.j.right),a.j=null);b.forEach(function(a){a&&(u(a.J,"display","none"),a.removeEventListener("hyperlink",this.uc,!1))})}function io(a,b){b.addEventListener("hyperlink",a.uc,!1);u(b.J,"visibility","visible");u(b.J,"display","block")}function jo(a,b){ho(a);a.h=b;io(a,b)}
function ko(a){var b=M("reportPosition");a.e||(a.e=ao(a.b));Mn(a.f,a.e.D,a.e.ga).then(function(c){var d=a.h;(a.A&&0<d.d.length?Uf(d.d):O(!0)).then(function(){lo(a,d,c).ka(b)})});return P(b)}function mo(a){var b=a.cd;if(a.k){var c=a.k;b.style.marginLeft=c.marginLeft+"px";b.style.marginRight=c.marginRight+"px";b.style.marginTop=c.marginTop+"px";b.style.marginBottom=c.marginBottom+"px";return new lm(a.g,a.fontSize,b,c.width,c.height)}return new lm(a.g,a.fontSize,b)}
function no(a){if(a.k||!a.viewport||a.viewport.fontSize!=a.fontSize)return!1;var b=mo(a);if(!(b=b.width==a.viewport.width&&b.height==a.viewport.height)&&(b=a.b)){a:{a=a.b.Bb;for(b=0;b<a.length;b++){var c=a[b];if(c)for(var c=c.eb,d=0;d<c.length;d++){var e=c[d];if(e.w&&e.u){a=!0;break a}}}a=!1}b=!a}return b}
function oo(a){if(a.b){a.b.Rb();for(var b=a.b.Bb,c=0;c<b.length;c++){var d=b[c];if(d)for(var d=d.eb,e;e=d.shift();)e=e.J,e.parentNode.removeChild(e)}}a.viewport=mo(a);a.b=new Qn(a.f,a.viewport,a.G,a.U)}
function po(a,b){if(a.U.Ya)return Wn(a.b).cc(function(c){ho(a);a.j=c;c.left&&(io(a,c.left),c.right||c.left.J.setAttribute("data-vivliostyle-unpaired-page",!0));c.right&&(io(a,c.right),c.left||c.right.J.setAttribute("data-vivliostyle-unpaired-page",!0));a.h=b;return O(null)});jo(a,b);a.h=b;return O(null)}
function fo(a){a.d=!1;if(no(a))return O(!0);var b=M("resize");a.b&&!a.e&&(a.e=ao(a.b));oo(a);bo(a.b,a.e).then(function(c){po(a,c).then(function(){ko(a).then(function(c){(a.Ic?a.b.Ic():O(null)).then(function(){Q(b,c)})})})});return P(b)}function lo(a,b,c){var d=M("sendLocationNotification"),e={t:"nav",first:b.h,last:b.j};Pn(a.f,a.e).then(function(b){e.epage=b;e.epageCount=a.f.u;c&&(e.cfi=c);eo(a,e);Q(d,!0)});return P(d)}m.sc=function(){return this.b?this.b.sc():null};
m.ud=function(a){var b=this;if("string"==typeof a.where)switch(a.where){case "next":a=this.U.Ya?this.b.zd:this.b.nextPage;break;case "previous":a=this.U.Ya?this.b.Cd:this.b.Gc;break;case "last":a=this.b.wd;break;case "first":a=this.b.vd;break;default:return O(!0)}else if("number"==typeof a.epage){var c=a.epage;a=function(){return Xn(b.b,c)}}else if("string"==typeof a.url){var d=a.url;a=function(){return Zn(b.b,d)}}else return O(!0);var e=M("nextPage");a.call(b.b).then(function(a){a?(b.e=null,po(b,
a).then(function(){ko(b).ka(e)})):Q(e,!0)});return P(e)};m.Vb=function(a){var b=!!a.autohide;a=a.v;var c=this.b.Xc();if(c){if("show"==a)return O(!0)}else if("hide"==a)return O(!0);if(c)return this.b.Rb(),O(!0);var d=this,e=M("showTOC");this.b.Vb(b).then(function(a){if(a){if(b){var c=function(){d.b.Rb()};a.addEventListener("hyperlink",c,!1);a.J.addEventListener("click",c,!1)}a.addEventListener("hyperlink",d.uc,!1)}Q(e,!0)});return P(e)};
function qo(a,b){var c=b.a||"";return ye("runCommand",function(d){var e=a.C[c];e?e.call(a,b).then(function(){eo(a,{t:"done",a:c});Q(d,!0)}):(eo(a,{t:"error",content:"No such action",a:c}),Q(d,!0))},function(b,e){eo(a,{t:"error",content:e.toString(),a:c});Q(b,!0)})}function ro(a){return"string"==typeof a?JSON.parse(a):a}
m.Tc=function(a){var b=ro(a),c=null,d=this;Ae(function(){var a=M("commandLoop"),f=te.d;d.uc=function(a){var b={t:"hyperlink",href:a.href,internal:a.href.substr(0,d.l.length)==d.l};Be(f,function(){eo(d,b);return O(!0)})};Qe(function(a){if(d.d)fo(d).then(function(){Se(a)});else if(b){var e=b;b=null;qo(d,e).then(function(){Se(a)})}else e=M("waitForCommand"),c=Je(e,self),P(e).then(function(){Se(a)})}).ka(a);return P(a)});d.u=function(){var a=c;a&&(c=null,a.Ra())};this.g.adapt_command=function(a){if(b)return!1;
b=ro(a);d.u();return!0}};window.adapt_embedded&&(window.adapt_initEmbed=function(a,b,c){(new co(window,document.body,b,function(b){var c=JSON.stringify(b);(new Ze(function(){return Te(a,!1,"POST",c)})).start()})).Tc(c);delete window.adapt_initEmbed});ba("adapt.viewer.Viewer",co,void 0);ba("adapt.viewer.Viewer.prototype.initEmbed",co.prototype.Tc,void 0);var so=16,to="ltr";function uo(a){window.adapt_command(a)}function vo(){uo({a:"moveTo",where:"ltr"===to?"previous":"next"})}function wo(){uo({a:"moveTo",where:"ltr"===to?"next":"previous"})}
function xo(a){var b=a.key,c=a.keyIdentifier,d=a.location;if("End"===b||"End"===c)uo({a:"moveTo",where:"last"}),a.preventDefault();else if("Home"===b||"Home"===c)uo({a:"moveTo",where:"first"}),a.preventDefault();else if("ArrowUp"===b||"Up"===b||"Up"===c)uo({a:"moveTo",where:"previous"}),a.preventDefault();else if("ArrowDown"===b||"Down"===b||"Down"===c)uo({a:"moveTo",where:"next"}),a.preventDefault();else if("ArrowRight"===b||"Right"===b||"Right"===c)wo(),a.preventDefault();else if("ArrowLeft"===
b||"Left"===b||"Left"===c)vo(),a.preventDefault();else if("0"===b||"U+0030"===c)uo({a:"configure",fontSize:Math.round(so)}),a.preventDefault();else if("t"===b||"U+0054"===c)uo({a:"toc",v:"toggle",autohide:!0}),a.preventDefault();else if("+"===b||"Add"===b||"U+002B"===c||"U+00BB"===c||"U+004B"===c&&d===KeyboardEvent.b)so*=1.2,uo({a:"configure",fontSize:Math.round(so)}),a.preventDefault();else if("-"===b||"Subtract"===b||"U+002D"===c||"U+00BD"===c||"U+004D"===c&&d===KeyboardEvent.b)so/=1.2,uo({a:"configure",
fontSize:Math.round(so)}),a.preventDefault()}
function yo(a){switch(a.t){case "loaded":a=a.viewer;var b=to=a.sc();a.cd.setAttribute("data-vivliostyle-page-progression",b);a.cd.setAttribute("data-vivliostyle-spread-view",a.U.Ya);window.addEventListener("keydown",xo,!1);document.body.setAttribute("data-vivliostyle-viewer-status","complete");a=document.getElementById("vivliostyle-page-navigation-left");a.addEventListener("click",vo,!1);b=document.getElementById("vivliostyle-page-navigation-right");b.addEventListener("click",wo,!1);[a,b].forEach(function(a){a.setAttribute("data-vivliostyle-ui-state",
"attention");window.setTimeout(function(){a.removeAttribute("data-vivliostyle-ui-state")},1E3)});break;case "error":v("Error: "+a.content);break;case "nav":(a=a.cfi)&&location.replace(ha(location.href,Ea(a||"")));break;case "hyperlink":a.internal&&uo({a:"moveTo",url:a.href})}}
ba("vivliostyle.viewerapp.main",function(a){var b=a&&a.fragment||fa("f"),c=a&&a.epubURL||fa("b"),d=a&&a.xmlURL||fa("x"),e=a&&a.defaultPageWidth||fa("w"),f=a&&a.defaultPageHeight||fa("h"),g=a&&a.defaultPageSize||fa("size"),h=a&&a.orientation||fa("orientation"),k=fa("spread"),k=a&&a.spreadView||!!k&&"false"!=k,l=a&&a.viewportElement||document.body;a={a:c?"loadEPUB":"loadXML",url:c||d,autoresize:!0,fragment:b,renderAllPages:!0,userAgentRootURL:a&&a.uaRoot||null,document:a&&a.document||null,userStyleSheet:a&&
a.userStyleSheet||null,spreadView:k,pageBorder:1};var n;if(e&&f)n=e+" "+f;else{switch(g){case "A5":e="148mm";f="210mm";break;case "A4":e="210mm";f="297mm";break;case "A3":e="297mm";f="420mm";break;case "B5":e="176mm";f="250mm";break;case "B4":e="250mm";f="353mm";break;case "letter":e="8.5in";f="11in";break;case "legal":e="8.5in";f="14in";break;case "ledger":e="11in",f="17in"}e&&f&&(n=g,"landscape"===h&&(n=n?n+" landscape":null,g=e,e=f,f=g))}e&&f&&(a.viewport={width:e,height:f},g=document.createElement("style"),
g.textContent="@page { size: "+n+"; margin: 0; }",document.head.appendChild(g));(new co(window,l,"main",yo)).Tc(a)},"undefined"!==typeof enclosingObject&&enclosingObject?enclosingObject:window);
    return enclosingObject.vivliostyle;
});
