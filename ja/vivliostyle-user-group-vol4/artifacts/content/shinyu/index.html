<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Vivliostyle FAQ よくある質問</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../../../themes/packages/theme/bundle.css">
</head>
<body>
<!-- 
直したい:
- URLの表示を見直し（とりあえず word-break: break-all にしてる↓）
-->
<style>
.url { word-break: break-all; }
style { display: none !important; } /* body内のstyle要素内容が表示されてしまうbug対策 */
</style>
<section id="vivliostyle-faq-よくある質問"><h1>Vivliostyle FAQ よくある質問</h1><div class="draft-author">
村上真雄
</div><p>Vivliostyle 公式サイトの FAQ ページをリニューアルしました。これからもっと充実させていきたいです。そのためにも、もっとフィードバックや質問をください。<br>
👉Vivliostyle コミュニティ <a href="https://vivliostyle.org/ja/community/">https://vivliostyle.org/ja/community/</a></p><p>今回更新した FAQ を掲載します。</p><section id="vivliostyle-viewer-についての-faq"><h2>Vivliostyle Viewer についての FAQ</h2><section id="ローカル環境で-vivliostyle-viewer-を使うには？"><h3>ローカル環境で Vivliostyle Viewer を使うには？</h3><p>👉<a href="https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/viewer/README.ja.md">Vivliostyle Viewer の配布パッケージの README（日本語）</a> の「配布パッケージ <code>vivliostyle-viewer-*.zip</code> を使う場合」をご覧ください。</p></section><section id="オンラインの-vivliostyle-viewer-でローカルの文書を表示するには？"><h3>オンラインの Vivliostyle Viewer でローカルの文書を表示するには？</h3><p>まず、ローカル Web サーバーを起動して、ローカルの HTML 文書にブラウザからアクセスできるようにします。ここでは、ローカル Web サーバーとして Node.js の http-server を使う方法を説明します。</p><p>Node.js がインストールされていない場合はまずそのインストールをします。<br>
👉<span class="url"><a href="https://nodejs.org">https://nodejs.org</a></span></p><p>ターミナル（Windows ではコマンドプロンプト）で、次のコマンドにより http-server をインストールします：</p><pre class="language-text"><code class="language-text">npm install -g http-server</code></pre><p>組版表示したい HTML や CSS ファイルが含まれるディレクトリ上で http-server を次のように起動します：</p><pre class="language-text"><code class="language-text">http-server . --cors -o -c-1</code></pre><p>これで、ローカル Web サーバーの URL <a href="http://localhost:8080">http://localhost:8080</a> が開き、ブラウザでローカルにあるファイルの一覧を見ることができます。そこで表示したい HTML ファイルを見つけてその URL をコピーし、別に開いたオンラインの Vivliostyle Viewer <span class="url"><a href="https://vivliostyle.org/viewer/">https://vivliostyle.org/viewer/</a></span> にその URL を指定して組版表示できます。<br>
（http-server コマンドの <code>--cors</code> オプションは、別のドメインでのスクリプトからこのローカルサーバーの文書をアクセスできるようにする指定、<code>-o</code> オプションはブラウザを起動する指定、<code>-c-1</code> はキャッシュを無効にする指定です。）</p></section><section id="githubやgistにある文書を-vivliostyle-viewer-で表示するには？"><h3>GitHubやGistにある文書を Vivliostyle Viewer で表示するには？</h3><p><a href="https://github.com/">GitHub</a> や <a href="https://gist.github.com/">Gist</a> 上にある HTML 文書を <a href="https://vivliostyle.org/viewer/">Vivliostyle Viewer</a> で表示できます。</p><p>例 1: GitHub リポジトリ内の HTML ファイル <span class="url"><a href="https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html">https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html</a></span> を Vivliostyle Viewer で開く:<br>
<span class="url"><a href="https://vivliostyle.org/viewer/#src=https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html">https://vivliostyle.org/viewer/#src=https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html</a></span></p><ul>
<li>GitHub 上のファイルの URL をそのまま Vivliostyle Viewer に指定できます。</li>
</ul><p>例 2: Gist に置かれた HTML ファイル <span class="url"><a href="https://gist.github.com/MurakamiShinyu/4f0423fd3578a277c7d29f56a31912b7#file-index-html">https://gist.github.com/MurakamiShinyu/4f0423fd3578a277c7d29f56a31912b7#file-index-html</a></span> を Vivliostyle Viewer で開く:<br>
<span class="url"><a href="https://vivliostyle.org/viewer/#src=https://gist.github.com/MurakamiShinyu/4f0423fd3578a277c7d29f56a31912b7/raw/af7fea921d57d6601d153101850bf95850262ece/index.html&#x26;bookMode=true">https://vivliostyle.org/viewer/#src=https://gist.github.com/MurakamiShinyu/4f0423fd3578a277c7d29f56a31912b7/raw/af7fea921d57d6601d153101850bf95850262ece/index.html&#x26;bookMode=true</a></span></p><ul>
<li>Gist 上のファイルの <code>Raw</code> コンテンツへのリンクの URL を Vivliostyle Viewer に指定できます。</li>
<li>この例では URL にパラメータとして <code>&#x26;bookMode=true</code> を指定することにより、この HTML ファイル内の目次からリンクされる複数の HTML ファイルをロードします。</li>
</ul></section><section id="epubを閲覧するには？"><h3>EPUBを閲覧するには？</h3><p>Vivliostyle Viewer では ZIP 解凍済みの EPUB ファイルを表示できます。この場合、次のようにパラメータを指定します:</p><pre class="language-text"><code class="language-text">#src=⟨表示する解凍済みEPUBフォルダのURL⟩&#x26;bookMode=true</code></pre><p>GitHub 上に公開されている ZIP 解凍済みの EPUB ファイルを表示する例:</p><ul>
<li>
<p><a href="https://github.com/IDPF/epub3-samples/">IDPF/epub3-samples</a>の『<a href="https://github.com/IDPF/epub3-samples/tree/master/30/accessible_epub_3/">Accessible EPUB 3</a>』</p>
<p><span class="url"><a href="https://vivliostyle.org/viewer/#src=https://github.com/IDPF/epub3-samples/tree/master/30/accessible_epub_3/&#x26;bookMode=true">https://vivliostyle.org/viewer/#src=https://github.com/IDPF/epub3-samples/tree/master/30/accessible_epub_3/&#x26;bookMode=true</a></span></p>
</li>
</ul><p>👉ユーザーガイドの <a href="https://docs.vivliostyle.org/#/ja/user-guide#epub">EPUB</a></p></section><section id="webサイトに-vivliostyle-viewer-を組み込むには？"><h3>Webサイトに Vivliostyle Viewer を組み込むには？</h3><p><a href="https://vivliostyle.org/ja/download/">Vivliostyle Viewer の配布パッケージをダウンロード</a>して解凍した内容を Web サーバー上の公開ディレクトリにコピーします。パッケージ内容の <code>viewer/</code> ディレクトリに Vivliostyle Viewer があります。例えば <code>https://example.com/example/</code> として公開されるディレクトリにパッケージ内容をコピーした場合、<code>https://example.com/example/viewer/</code> が Vivliostyle Viewer の URL になります。</p></section><section id="目次パネルを有効にするには？"><h3>目次パネルを有効にするには？</h3><p>HTML ファイル内に次のような目次要素がある場合、Vivliostyle Viewer で <a href="#book-mode-%E3%81%A8%E3%81%AF%EF%BC%9F"><strong>Book Mode</strong></a> を指定することで、目次パネルが有効になります。</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>nav</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>doc-toc<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h2</span><span class="token punctuation">></span></span>Table of Contents<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ol</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#section1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>First Section<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#section2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Second Section<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#section3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Third Section<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ol</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>nav</span><span class="token punctuation">></span></span></code></pre><p>👉ユーザーガイドの <a href="https://docs.vivliostyle.org/#/ja/user-guide#%E7%9B%AE%E6%AC%A1%E3%83%91%E3%83%8D%E3%83%AB">目次パネル</a></p><p>👉次も参照: <a href="#%E7%9B%AE%E6%AC%A1%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%AB%E3%81%AF%EF%BC%9F">目次を作るには？</a></p></section><section id="複数のhtmlファイルを連結して組版表示するには？"><h3>複数のHTMLファイルを連結して組版表示するには？</h3><p>Vivliostyle Viewer で <a href="#book-mode-%E3%81%A8%E3%81%AF%EF%BC%9F"><strong>Book Mode</strong></a> を指定した場合、次のように別の HTML ファイルへのリンクからなる目次要素を含む HTML ファイルをロードすると、目次要素内からリンクされている HTML ファイルも連続してロードされて、それらが連結された組版表示となります：</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>nav</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>doc-toc<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h2</span><span class="token punctuation">></span></span>Table of Contents<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ol</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chapter1.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>First Chapter<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>ol</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chapter1.html#section1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>First Section<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chapter1.html#section2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Second Section<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ol</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chapter2.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Second Chapter<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>ol</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>nav</span><span class="token punctuation">></span></span></code></pre><p>👉ユーザーガイドの <a href="https://docs.vivliostyle.org/#/ja/user-guide#web%E5%87%BA%E7%89%88%E7%89%A9%EF%BC%88%E8%A4%87%E6%95%B0html%E6%96%87%E6%9B%B8%EF%BC%89">Web出版物（複数HTML文書）</a></p><p>👉次も参照: <a href="#%E7%9B%AE%E6%AC%A1%E3%82%92%E4%BD%9C%E3%82%8B%E3%81%AB%E3%81%AF%EF%BC%9F">目次を作るには？</a></p></section><section id="book-mode-とは？"><h3>Book Mode とは？</h3><p><a href="https://vivliostyle.org/viewer/">Vivliostyle Viewer</a> の UI の <strong>Book Mode</strong> チェックボックスをチェック、あるいは URL パラメータに <code>&#x26;bookMode=true</code> を追加することにより Book Mode が有効になります。このモードでは、次の機能が有効になります：</p><ul>
<li><a href="#%E7%9B%AE%E6%AC%A1%E3%83%91%E3%83%8D%E3%83%AB%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF%EF%BC%9F">目次パネルからのナビゲーションが有効</a></li>
<li><a href="#%E8%A4%87%E6%95%B0%E3%81%AEhtml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E9%80%A3%E7%B5%90%E3%81%97%E3%81%A6%E7%B5%84%E7%89%88%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF%EF%BC%9F">複数の HTML ファイルを連結して組版表示</a></li>
<li><a href="#epub%E3%82%92%E9%96%B2%E8%A6%A7%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF%EF%BC%9F">EPUB（ZIP解凍済み）の組版表示</a></li>
</ul></section><section id="文字サイズを可変にするには？"><h3>文字サイズを可変にするには？</h3><p>Vivliostyle Viewer の UI には <code>A⁻</code> (Text: Smaller), <code>A⁺</code> (Text: Larger), <code>A⁼</code> (Text: Default Size) のボタンがあり、表示する文字のサイズを変えることができます。しかし、文書に指定されているスタイルシートに固定の文字サイズが指定されていると、UI から文字サイズを変更できません。</p><p>UI から文字サイズを変更できるようにうするには、font-size の指定に相対的な長さの単位（<code>%</code>, <code>em</code>, <code>rem</code>）を使うことです。Vivliostyle Viewer では、font-size のデフォルトは、ブラウザと同様に 12pt (= 16px) です。ルート要素で font-size を設定していない場合、<code>rem</code> (root em) 単位を使うと、そのデフォルトの font-size を 1rem として、相対的な文字サイズの指定ができます。そうすると、Vivliostyle Viewer UI からの文字サイズ変更が有効になります。</p><p>スタイルシートでルートの font-size を相対的に指定するには、12pt (= 16px) を 100% とした <code>%</code> 単位を使えます。例：</p><pre class="language-css"><code class="language-css"><span class="token selector"><span class="token pseudo-class">:root</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">87.5</span><span class="token unit">%</span><span class="token punctuation">;</span> <span class="token comment">/* set 1rem = 10.5pt (87.5% of 12pt) */</span>
<span class="token punctuation">}</span></code></pre></section><section id="ページサイズを可変にするには？"><h3>ページサイズを可変にするには？</h3><p>Vivliostyle Viewer は、スタイルシートによるページサイズの指定がない（あるいは <code>auto</code> が指定されている）場合、ブラウザのウインドウの表示領域をページサイズとします。これにより、画面の大きさに応じた可変のページサイズでの表示が可能です。</p><p>また、Vivliostyle Viewer の設定メニューの <strong>User Style Preferences</strong> → <strong>Page Size</strong> でページサイズを指定することも可能です。ここで指定するページサイズはスタイルシートで次のようにページサイズを指定するのと同じことになります：</p><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@page</span></span> <span class="token punctuation">{</span> <span class="token property">size</span><span class="token punctuation">:</span> A4<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre></section></section><section id="vivliostyle-cli-についての-faq"><h2>Vivliostyle CLI についての FAQ</h2><section id="pdfの「しおり」bookmarksを有効にするには？"><h3>PDFの「しおり」(Bookmarks)を有効にするには？</h3><p><a href="https://www.npmjs.com/package/@vivliostyle/cli">Vivliostyle CLI</a> v2.1 以降では、組版する文書の目次データを使って PDF の「しおり」(Bookmarks) を自動生成できます。PDF の「しおり」は、Adobe Acrobat のような PDF 閲覧ソフトで目次ナビゲーションに利用できるものです。</p><p>PDF の「しおり」生成を有効にするには <code>vivliostyle build</code> コマンドに <code>--book</code> オプションを指定する必要があります。</p><p>例：</p><pre class="language-text"><code class="language-text">vivliostyle build --book --size A4 --output example.pdf example.html</code></pre></section><section id="epubをpdfに変換するには？"><h3>EPUBをPDFに変換するには？</h3><p><a href="https://www.npmjs.com/package/@vivliostyle/cli">Vivliostyle CLI</a> では ZIP 解凍済みの EPUB ファイルから PDF を生成できます。それには <code>vivliostyle build</code> コマンドに --book オプションを指定して、入力として解凍済み EPUB のディレクトリを指定します。</p><p>例えば、EPUB ファイル <code>example.epub</code> を PDF ファイル <code>example.pdf</code> に変換するには、次のように、まず EPUB ファイルを ZIP 解凍してそれから vivliostyle を実行します：</p><pre class="language-text"><code class="language-text">unzip example.epub -d example/
vivliostyle build --book --size A4 --output example.pdf example/</code></pre></section><section id="印刷用のpdf（pdfx-1a-形式）を生成するには？"><h3>印刷用のPDF（PDF/X-1a 形式）を生成するには？</h3><p><code>vivliostyle build</code> コマンドの <code>--press-ready</code> オプションにより印刷入稿に適した PDF/X-1a 形式で出力できます。</p><p>この機能を使うためには <a href="https://www.ghostscript.com">Ghostscript</a> と <a href="https://www.xpdfreader.com/">Xpdf</a>（または <a href="https://poppler.freedesktop.org/">Poppler</a>）をインストールする必要があります。主な OS でそれらをインストールする方法は以下です：</p><p>macOS (<a href="https://brew.sh/index_ja">Homebrew</a> を利用):</p><pre class="language-text"><code class="language-text">brew install poppler ghostscript</code></pre><p>Ubuntu:</p><pre class="language-text"><code class="language-text">apt-get install poppler-utils ghostscript</code></pre><p>Windows:</p><ul>
<li>Ghostscript for Windows を <span class="url"><a href="https://www.ghostscript.com/download/gsdnld.html">https://www.ghostscript.com/download/gsdnld.html</a></span> からダウンロードしてインストール。それからインストールした Ghostscript の実行ファイルのあるディレクトリ（例："C:\Program Files\gs\gs9.52\bin"）を <code>PATH</code> 環境変数に追加。</li>
<li>Xpdf command line tools for Windows を <a href="http://www.xpdfreader.com/download.html">http://www.xpdfreader.com/download.html</a> からダウンロードしてインストール。それからインストールした Xpdf の実行ファイルのあるディレクトリ（例："C:\xpdf-tools-win-4.02\bin64"）を <code>PATH</code> 環境変数に追加。</li>
</ul></section></section><section id="create-book-についての-faq"><h2>Create Book についての FAQ</h2><section id="create-book-とは？"><h3>Create Book とは？</h3><p><a href="https://www.npmjs.com/package/create-book">Create Book</a> は、簡単に本を作れる環境を構築します。</p><p>👉<a href="https://docs.vivliostyle.org/#/ja/create-book">チュートリアルガイド: Create Book</a></p></section><section id="テーマをカスタマイズするには？"><h3>テーマをカスタマイズするには？</h3><p>Create Book によりインストールされたテーマパッケージは、プロジェクトフォルダ内の <code>node_modules</code> フォルダ内にインストールされます（例：テーマ「techbook」の場合 <code>node_modules/@vivliostyle/theme-techbook/</code>）。これを別のフォルダ（例えば <code>my-theme/</code> フォルダ）にコピーしてカスタマイズできます。</p><pre class="language-text"><code class="language-text">cp -R node_modules/@vivliostyle/theme-techbook/ my-theme/</code></pre><p>そして <code>vivliostyle.config.js</code> ファイルの <code>theme:</code> のところを次のように変更します：</p><pre class="language-text"><code class="language-text">  theme: '@vivliostyle/theme-techbook', // .css or local dir or npm package. default to undefined.</code></pre><p>↓</p><pre class="language-text"><code class="language-text">  theme: 'my-theme',</code></pre><p>これで <code>my-theme</code> フォルダ内のスタイルシートをカスタマイズして自由にスタイルを変えることができるようになります。</p><p>既存のテーマパッケージをコピーしないで、オリジナルのテーマを作ることもできます。その場合、テーマのフォルダ（この場合 <code>my-theme</code> フォルダ）内に、次のような <code>package.json</code> ファイルを作る必要があります：</p><pre class="language-text"><code class="language-text">{
  "name": "my-theme",
  "main": "theme.css"
}</code></pre></section></section><section id="css組版のテクニックについてのfaq"><h2>CSS組版のテクニックについてのFAQ</h2><section id="複数のhtmlファイルから本を作るには？"><h3>複数のHTMLファイルから本を作るには？</h3><p>👉ユーザーガイドの <a href="https://docs.vivliostyle.org/#/ja/user-guide#web%E5%87%BA%E7%89%88%E7%89%A9%EF%BC%88%E8%A4%87%E6%95%B0html%E6%96%87%E6%9B%B8%EF%BC%89">Web出版物（複数HTML文書）</a> をご覧ください。</p><p><a href="https://www.npmjs.com/package/@vivliostyle/cli">Vivliostyle CLI</a> でこの機能を使うには <code>--book</code> オプションを指定します。</p></section><section id="目次を作るには？"><h3>目次を作るには？</h3><p>HTML のマークアップで目次を作るには、<code>&#x3C;nav role="doc-toc"></code> … <code>&#x3C;/nav></code> で囲むブロック内に目次項目（本文中の各見出しへのリンク）のリストを入れます。</p><p>参考：<a href="https://www.w3.org/TR/pub-manifest/">W3CのPublication Manifest</a>仕様の付録の <a href="https://www.w3.org/TR/pub-manifest/#app-toc-structure">Machine-Processable Table of Contents</a></p><p>ページ番号入りの目次のスタイルは、次のようなスタイルシートによって実現できます：</p><pre class="language-css"><code class="language-css"><span class="token selector">nav li a</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-flex<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token unit">%</span><span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">break-inside</span><span class="token punctuation">:</span> avoid<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> baseline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">nav li a<span class="token pseudo-element">::before</span></span> <span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">px</span> dotted<span class="token punctuation">;</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token property">order</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">nav li a<span class="token pseudo-element">::after</span></span> <span class="token punctuation">{</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token function">target-counter</span><span class="token punctuation">(</span><span class="token function">attr</span><span class="token punctuation">(</span>href url<span class="token punctuation">)</span><span class="token punctuation">,</span> page<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token property">align-self</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">order</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>実例については、Vivliostyle のサンプル紹介ページ <span class="url"><a href="https://vivliostyle.org/ja/samples/">https://vivliostyle.org/ja/samples/</a></span> の「目次」タグが付いたサンプルをご覧ください。</p><p>👉以下も参照:</p><ul>
<li><a href="#%E7%9B%AE%E6%AC%A1%E3%83%91%E3%83%8D%E3%83%AB%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF%EF%BC%9F">目次パネルを有効にするには？</a></li>
<li><a href="#%E8%A4%87%E6%95%B0%E3%81%AEhtml%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E9%80%A3%E7%B5%90%E3%81%97%E3%81%A6%E7%B5%84%E7%89%88%E8%A1%A8%E7%A4%BA%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF%EF%BC%9F">複数のHTMLファイルを連結して組版表示するには？</a></li>
</ul></section><section id="数式（mathml、tex、asciimath）を埋め込むには？"><h3>数式（MathML、TeX、AsciiMath）を埋め込むには？</h3><p>Vivliostyle Viewer では <a href="https://www.mathjax.org/">MathJax</a> により数式を組版表示できます。</p><p>次の形式の数式を HTML 文書内に埋め込むことができます：</p><ul>
<li>MathML</li>
<li>TeX 数式</li>
<li>AsciiMath </li>
</ul><p>MathML の要素 <code>&#x3C;math></code> … <code>&#x3C;/math></code> は、HTML 文書内に直接書くことができます。</p><p>TeX または AsciiMath の数式を利用するには、その数式を含む HTML 要素に属性 <code>data-math-typeset="true"</code> を指定し、テキスト内に以下の方法で数式を記述します：</p><ul>
<li>TeX 数式は <code>\(</code> … <code>\)</code> または <code>$$</code>…<code>$$</code> で囲む</li>
<li>AsciiMath は ` … ` で囲む</li>
</ul><p>数式のテストの HTML ソース: <span class="url"><a href="https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html">https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html</a></span></p><p>Vivliostyle Viewer で組版表示: <span class="url"><a href="https://vivliostyle.org/viewer/#src=https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html">https://vivliostyle.org/viewer/#src=https://github.com/vivliostyle/vivliostyle.js/blob/master/packages/core/test/files/math-sample.html</a></span></p><p>👉<a href="https://github.com/vivliostyle/vivliostyle.js/issues/523">vivliostyle.js issue#523: ASCIIMATH and MathJAX</a></p></section><section id="本の途中でページ・カウンターをリセットするには？"><h3>本の途中でページ・カウンターをリセットするには？</h3><p>👉<a href="https://github.com/vivliostyle/vivliostyle.js/issues/522">vivliostyle.js issue#522: "reset-counter: page;" doesn't work properly with web publications</a> をご覧ください。</p></section></section><section id="vivliostyle-のライセンスについての-faq"><h2>Vivliostyle のライセンスについての FAQ</h2><p>Vivliostyle 公式サイトの <a href="https://vivliostyle.org/ja/faq/#Vivliostyle%20%E3%81%AE%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AE%20FAQ">Vivliostyle のライセンスについての FAQ</a> をご覧ください。</p></section></section>
</body>
</html>
